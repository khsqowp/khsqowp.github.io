---
title: "Linux ê¸°ë°˜ 3ê³„ì¸µ ì›¹ ì•„í‚¤í…ì²˜ êµ¬ì¶• ë° ë³´ì•ˆ ì‹¤ìŠµ"
date: 2025-12-17
excerpt: "**ê°•ì˜ ë‚ ì§œ**: 2025ë…„ 12ì›” 17ì¼"
categories:
  - App-Security
tags:
  - App-Security
  - SK_Rookies
---

# Linux ê¸°ë°˜ 3ê³„ì¸µ ì›¹ ì•„í‚¤í…ì²˜ êµ¬ì¶• ë° ë³´ì•ˆ ì‹¤ìŠµ

**ê°•ì˜ ë‚ ì§œ**: 2025ë…„ 12ì›” 17ì¼
**ê°•ì˜ ì‹œê°„**: ì˜¤ì „ 9ì‹œ 11ë¶„ ~ (ì•½ 6ì‹œê°„)
**ê°•ì˜ ì£¼ì œ**: Ubuntu Linux í™˜ê²½ì—ì„œ nginx, Tomcat, MariaDBë¥¼ í™œìš©í•œ 3ê³„ì¸µ ì›¹ ì•„í‚¤í…ì²˜ êµ¬ì¶• ë° SQL ì¸ì ì…˜ ë³´ì•ˆ
**ê°•ì‚¬**: [ê°•ì‚¬ëª…]
**ìˆ˜ê°•ìƒ í•™ìŠµ ë…¸íŠ¸ ì •ë¦¬ë³¸**


## ğŸ“š ê°•ì˜ ê°œìš”

ë³¸ ê°•ì˜ëŠ” Linux ì‹œìŠ¤í…œ ê´€ë¦¬ì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì²˜ êµ¬ì¶•ì— ëŒ€í•œ ì‹¤ìŠµ ì¤‘ì‹¬ ê°•ì˜ì…ë‹ˆë‹¤. ì´ì „ ê°•ì˜ì—ì„œ í•™ìŠµí•œ Linux ê¸°ë³¸ ê°œë…ì„ ë³µìŠµí•˜ê³ , ì‹¤ë¬´ì—ì„œ ì‚¬ìš©ë˜ëŠ” 3ê³„ì¸µ(3-tier) ì›¹ ì•„í‚¤í…ì²˜ë¥¼ ì§ì ‘ êµ¬ì¶•í•©ë‹ˆë‹¤.

### ğŸ¯ í•™ìŠµ ëª©í‘œ

1. **Linux ì‹œìŠ¤í…œ ê´€ë¦¬**
   - Ubuntu 24.04 ì„¤ì¹˜ ë° ì´ˆê¸° ì„¤ì •
   - ë„¤íŠ¸ì›Œí¬ ì„¤ì • ë° SSH ì„œë²„ êµ¬ì„±
   - í”„ë¡œì„¸ìŠ¤ ë° ì„œë¹„ìŠ¤ ê´€ë¦¬ (systemd)
   - ë””ë ‰í† ë¦¬ êµ¬ì¡° ì´í•´ ë° í™œìš©

2. **ì›¹ ì„œë²„ êµ¬ì¶• (nginx)**
   - nginx ì„¤ì¹˜ ë° ê¸°ë³¸ ì„¤ì •
   - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê°œë… ì´í•´ ë° êµ¬í˜„
   - ë¡œê·¸ ê´€ë¦¬ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

3. **WAS ì„œë²„ êµ¬ì¶• (Tomcat)**
   - Java ê°œë°œ í™˜ê²½ êµ¬ì„±
   - Tomcat10 ì„¤ì¹˜ ë° ê´€ë¦¬
   - JSP/Servlet ë°°í¬ ë° ì‹¤í–‰
   - HTTP ë©”ì„œë“œ (GET/POST) ì´í•´

4. **ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ êµ¬ì¶• (MariaDB)**
   - MariaDB ì„¤ì¹˜ ë° ë³´ì•ˆ ì„¤ì •
   - ì›ê²© ì ‘ì† í—ˆìš© ì„¤ì •
   - ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬
   - SQL CRUD ì‘ì—…

5. **3ê³„ì¸µ ì•„í‚¤í…ì²˜ í†µí•©**
   - JDBCë¥¼ í†µí•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
   - ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„
   - ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸

6. **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ**
   - OWASP Top 10 ì´í•´
   - SQL ì¸ì ì…˜ ê³µê²© ì›ë¦¬ ë° ì‹œì—°
   - PreparedStatementë¥¼ í†µí•œ ë°©ì–´
   - ë³´ì•ˆ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### ğŸ—ï¸ ì‹¤ìŠµ í™˜ê²½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Client                               â”‚
â”‚                      (ì›¹ ë¸Œë¼ìš°ì €)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP (Port 80)
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Web Server (192.168.186.128)                    â”‚
â”‚                      nginx 1.24.0                            â”‚
â”‚                   ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì—­í•                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP Proxy (Port 8080)
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              WAS Server (192.168.186.129)                    â”‚
â”‚                    Tomcat 10.1.20                            â”‚
â”‚                 JSP/Servlet ì‹¤í–‰ í™˜ê²½                        â”‚
â”‚                    Java 11 OpenJDK                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ JDBC (Port 3306)
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DB Server (192.168.186.130)                     â”‚
â”‚                  MariaDB 10.11.8                             â”‚
â”‚                CloudDB.UserInfo í…Œì´ë¸”                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“‹ ì£¼ìš” ì‹¤ìŠµ ë‚´ìš©

| ë‹¨ê³„ | ë‚´ìš© | ì£¼ìš” ê¸°ìˆ  |
|------|------|-----------|
| 1 | Web Server êµ¬ì¶• | nginx, ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |
| 2 | WAS Server êµ¬ì¶• | Tomcat, JSP, Servlet |
| 3 | DB Server êµ¬ì¶• | MariaDB, SQL |
| 4 | JDBC ì—°ë™ | JDBC Driver, Connection Pool |
| 5 | ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„ | JSP, HTML Form, PreparedStatement |
| 6 | ë³´ì•ˆ ì‹¤ìŠµ | SQL Injection ê³µê²© ì‹œì—° ë° ë°©ì–´ |

### ğŸ”‘ í•µì‹¬ í‚¤ì›Œë“œ

`Linux` `Ubuntu` `nginx` `Tomcat` `MariaDB` `JDBC` `JSP` `3-tier Architecture` `SQL Injection` `PreparedStatement` `ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ` `systemd` `ë³´ì•ˆ` `OWASP`


## ğŸ“– ëª©ì°¨

### Section 1: ê°•ì˜ ì†Œê°œ ë° ì´ì „ ê°•ì˜ ë³µìŠµ
- í•™ìŠµ ëª©í‘œ
- Linux ëŸ°ë ˆë²¨ (Run Level)
- Linux ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„¸ ì„¤ëª…
- ì˜¤ëŠ˜ì˜ ì‹¤ìŠµ ëª©í‘œ

### Section 2: Linux ì‹œìŠ¤í…œ ê¸°ì´ˆ ë° ë„¤íŠ¸ì›Œí¬ ê°œë…
- Ubuntu 24.04 ì„¤ì¹˜
- ë„¤íŠ¸ì›Œí¬ ê¸°ì´ˆ (IP, ì„œë¸Œë„· ë§ˆìŠ¤í¬)
- ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸ (ifconfig, ip)
- DNS ì„¤ì •
- ì£¼ìš” Linux ëª…ë ¹ì–´ (ps, netstat, ss, systemctl)
- SSH ì„œë²„ ì„¤ì •
- ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ í™•ì¸

### Section 3: ì›¹ ì„œë²„ êµ¬ì¶• (nginx)
- nginx ì†Œê°œ ë° íŠ¹ì§•
- nginx ì„¤ì¹˜
- nginx ë””ë ‰í† ë¦¬ êµ¬ì¡°
- ê¸°ë³¸ ì„¤ì •
- ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •
- nginx ê´€ë¦¬ ëª…ë ¹ì–´
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Section 4: WAS ì„œë²„ êµ¬ì¶• (Tomcat)
- Apache Tomcat ì†Œê°œ
- Java ë° Tomcat10 ì„¤ì¹˜
- Tomcat ë””ë ‰í† ë¦¬ êµ¬ì¡°
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
- JSP ë™ì‘ ì›ë¦¬
- GET vs POST ë©”ì„œë“œ
- Tomcat ë¡œê·¸ í™•ì¸
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Section 5: ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ êµ¬ì¶• (MariaDB)
- MariaDB ì†Œê°œ
- MariaDB ì„¤ì¹˜ ë° ë³´ì•ˆ ì„¤ì •
- ì›ê²© ì ‘ì† ì„¤ì • (bind-address)
- ì‚¬ìš©ì ìƒì„± ë° ê¶Œí•œ ê´€ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ìƒì„±
- CRUD ì‘ì—…
- ë³´ì•ˆ ê³ ë ¤ì‚¬í•­ (ë¹„ë°€ë²ˆí˜¸ í•´ì‹±)
- ë°±ì—… ë° ë³µì›

### Section 6: 3ê³„ì¸µ ì•„í‚¤í…ì²˜ í†µí•© ë° ë¡œê·¸ì¸ êµ¬í˜„
- 3ê³„ì¸µ ì•„í‚¤í…ì²˜ í†µí•©
- JDBC (Java Database Connectivity)
- MariaDB JDBC Connector ì„¤ì¹˜
- JDBC ì—°ê²° í…ŒìŠ¤íŠ¸
- ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„ (login.jsp)
- PreparedStatement ì‚¬ìš©ë²•
- í†µí•© í…ŒìŠ¤íŠ¸
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Section 7: ë³´ì•ˆ ê°œë… ë° SQL ì¸ì ì…˜
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ ê°œìš” (OWASP Top 10)
- CIA Triad (ê¸°ë°€ì„±, ë¬´ê²°ì„±, ê°€ìš©ì„±)
- SQL ì¸ì ì…˜ ê³µê²© ì›ë¦¬
- SQL ì¸ì ì…˜ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ 4ê°€ì§€
- SQL ì¸ì ì…˜ ì‹¤ìŠµ (ì·¨ì•½í•œ ì½”ë“œ)
- SQL ì¸ì ì…˜ ë°©ì–´ ë°©ë²•
- ì¶”ê°€ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­


**ğŸ“ ë…¸íŠ¸ ì‘ì„± ë°©ì‹**: ë³¸ ë¬¸ì„œëŠ” ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ë©° ì‘ì„±í•œ í•™ìŠµ ë…¸íŠ¸ë¡œ, ì‹¤ìŠµ ê³¼ì •ì˜ ëª¨ë“  ëª…ë ¹ì–´ì™€ ì¶œë ¥ ê²°ê³¼, ì„¤ì • íŒŒì¼ ë‚´ìš©, ê·¸ë¦¬ê³  ë°œìƒí•œ ë¬¸ì œì™€ í•´ê²° ê³¼ì •ì„ ìƒì„¸íˆ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤. ê° ì„¹ì…˜ì€ ë…ë¦½ì ìœ¼ë¡œ í•™ìŠµí•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ë˜ì—ˆìœ¼ë©°, ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ìš©ì ì¸ ë‚´ìš©ì„ ë‹´ì•˜ìŠµë‹ˆë‹¤.

**âš ï¸ ì£¼ì˜ì‚¬í•­**: ë³¸ ë¬¸ì„œì˜ SQL ì¸ì ì…˜ ê´€ë ¨ ë‚´ìš©ì€ êµìœ¡ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•´ì•¼ í•˜ë©°, ì‹¤ì œ ìš´ì˜ í™˜ê²½ì´ë‚˜ íƒ€ì¸ì˜ ì‹œìŠ¤í…œì— ë¬´ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.


# Section 1: ê°•ì˜ ì†Œê°œ ë° ì´ì „ ê°•ì˜ ë³µìŠµ

## ğŸ“‹ í•™ìŠµ ëª©í‘œ

ì´ë²ˆ ê°•ì˜ì—ì„œëŠ” 3ê³„ì¸µ(3-tier) ì›¹ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤. ì›¹ ì„œë²„(nginx), WAS(Tomcat), ë°ì´í„°ë² ì´ìŠ¤(MariaDB)ë¥¼ ê°ê° ë…ë¦½ì ì¸ ì‹œìŠ¤í…œì— ì„¤ì¹˜í•˜ê³  ì—°ë™í•˜ì—¬ ì‹¤ì œ ë™ì‘í•˜ëŠ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•œë‹¤.

**í•µì‹¬ í•™ìŠµ ë‚´ìš©:**
- Linux ì‹œìŠ¤í…œ ê¸°ì´ˆ ë° ë””ë ‰í† ë¦¬ êµ¬ì¡° ì´í•´
- ì›¹ ì„œë²„(nginx) ì„¤ì¹˜ ë° ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •
- WAS(Tomcat) ì„¤ì¹˜ ë° JSP ë°°í¬
- ë°ì´í„°ë² ì´ìŠ¤(MariaDB) ì„¤ì¹˜ ë° ì›ê²© ì ‘ì† ì„¤ì •
- JDBCë¥¼ í†µí•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- SQL ì¸ì ì…˜ ê³µê²© ê°œë… ì´í•´

## ğŸ”„ ì´ì „ ê°•ì˜ ë³µìŠµ

### Linux ì‹œìŠ¤í…œì˜ ëŸ°ë ˆë²¨(Run Level)

ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì€ ë‹¤ì–‘í•œ ì‹¤í–‰ ë ˆë²¨ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ê° ë ˆë²¨ì€ ì‹œìŠ¤í…œì´ ì–´ë–¤ ìƒíƒœë¡œ ë™ì‘í• ì§€ë¥¼ ì •ì˜í•œë‹¤.

**Run Level ì¢…ë¥˜:**

```
Run Level 0: ì‹œìŠ¤í…œ ì¢…ë£Œ (Halt)
Run Level 1: ë‹¨ì¼ ì‚¬ìš©ì ëª¨ë“œ (Single User Mode) - ë³µêµ¬ ëª¨ë“œ
Run Level 2: ë„¤íŠ¸ì›Œí¬ ì—†ëŠ” ë‹¤ì¤‘ ì‚¬ìš©ì ëª¨ë“œ
Run Level 3: ë„¤íŠ¸ì›Œí¬ ìˆëŠ” ë‹¤ì¤‘ ì‚¬ìš©ì ëª¨ë“œ (í…ìŠ¤íŠ¸ ëª¨ë“œ) - ì„œë²„ì—ì„œ ì£¼ë¡œ ì‚¬ìš©
Run Level 4: ì‚¬ìš©ì ì •ì˜ ê°€ëŠ¥ (ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
Run Level 5: ê·¸ë˜í”½ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ëª¨ë“œ (GUI) - ë°ìŠ¤í¬í†±ì—ì„œ ì£¼ë¡œ ì‚¬ìš©
Run Level 6: ì‹œìŠ¤í…œ ì¬ì‹œì‘ (Reboot)
```

**Run Level í™•ì¸ ë°©ë²•:**

```bash
# í˜„ì¬ ëŸ°ë ˆë²¨ í™•ì¸
runlevel
# ì¶œë ¥ ì˜ˆ: N 5 (ì´ì „ ëŸ°ë ˆë²¨ ì—†ìŒ, í˜„ì¬ ëŸ°ë ˆë²¨ 5)

# systemd ê¸°ë°˜ ì‹œìŠ¤í…œì—ì„œëŠ”
systemctl get-default
# ì¶œë ¥ ì˜ˆ: graphical.target (Run Level 5ì™€ ë™ì¼)
```

**Run Level ë³€ê²½:**

```bash
# Run Level 3ìœ¼ë¡œ ë³€ê²½ (í…ìŠ¤íŠ¸ ëª¨ë“œ)
sudo init 3

# ë˜ëŠ” systemd ë°©ì‹ìœ¼ë¡œ
sudo systemctl isolate multi-user.target

# ê¸°ë³¸ ëŸ°ë ˆë²¨ì„ í…ìŠ¤íŠ¸ ëª¨ë“œë¡œ ì„¤ì •
sudo systemctl set-default multi-user.target

# ê¸°ë³¸ ëŸ°ë ˆë²¨ì„ GUI ëª¨ë“œë¡œ ì„¤ì •
sudo systemctl set-default graphical.target
```

**ğŸ’¡ ì‹¤ë¬´ íŒ:**
- ì„œë²„ í™˜ê²½ì—ì„œëŠ” Run Level 3(í…ìŠ¤íŠ¸ ëª¨ë“œ)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤
- GUIëŠ” ë©”ëª¨ë¦¬ì™€ CPU ìì›ì„ ë§ì´ ì†Œëª¨í•˜ë¯€ë¡œ ì„œë²„ì—ì„œëŠ” ë¶ˆí•„ìš”
- ë¬¸ì œ ë°œìƒ ì‹œ Run Level 1(Single User Mode)ë¡œ ë¶€íŒ…í•˜ì—¬ ë³µêµ¬ ì‘ì—… ìˆ˜í–‰

### Linux ë””ë ‰í† ë¦¬ êµ¬ì¡° ì´í•´

Linux íŒŒì¼ ì‹œìŠ¤í…œì€ ê³„ì¸µì  íŠ¸ë¦¬ êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ê° ë””ë ‰í† ë¦¬ëŠ” íŠ¹ì •í•œ ëª©ì ì„ ê°€ì§€ê³  ìˆë‹¤.

```mermaid
graph TD
    A[/ Root] --> B[/bin]
    A --> C[/etc]
    A --> D[/home]
    A --> E[/usr]
    A --> F[/var]
    A --> G[/tmp]
    A --> H[/opt]
    A --> I[/dev]
    A --> J[/proc]

    C --> C1[/etc/nginx]
    C --> C2[/etc/mysql]
    C --> C3[/etc/systemd]

    E --> E1[/usr/bin]
    E --> E2[/usr/lib]
    E --> E3[/usr/share]

    F --> F1[/var/log]
    F --> F2[/var/lib]
    F --> F3[/var/www]

    D --> D1[/home/user1]
    D --> D2[/home/user2]
```

#### ì£¼ìš” ë””ë ‰í† ë¦¬ ìƒì„¸ ì„¤ëª…

**1. `/` (ë£¨íŠ¸ ë””ë ‰í† ë¦¬)**
- ëª¨ë“  ë””ë ‰í† ë¦¬ì˜ ìµœìƒìœ„ ë””ë ‰í† ë¦¬
- ì‹œìŠ¤í…œì˜ ëª¨ë“  íŒŒì¼ê³¼ ë””ë ‰í† ë¦¬ê°€ ì´ ì•„ë˜ì— ìœ„ì¹˜

**2. `/bin` (ë°”ì´ë„ˆë¦¬ ë””ë ‰í† ë¦¬)**
```bash
# ê¸°ë³¸ ëª…ë ¹ì–´ë“¤ì´ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬
ls /bin
# í¬í•¨ëœ ì£¼ìš” ëª…ë ¹ì–´: ls, cp, mv, rm, cat, grep, ps ë“±

# ì˜ˆì œ: ls ëª…ë ¹ì–´ì˜ ì‹¤ì œ ìœ„ì¹˜ í™•ì¸
which ls
# ì¶œë ¥: /usr/bin/ls (ìµœê·¼ LinuxëŠ” /binì´ /usr/binìœ¼ë¡œ ì‹¬ë³¼ë¦­ ë§í¬ë¨)
```

**ì„¤ëª…:**
- ì‹œìŠ¤í…œ ë¶€íŒ… ë° ê¸°ë³¸ ìš´ì˜ì— í•„ìš”í•œ í•„ìˆ˜ ëª…ë ¹ì–´ í¬í•¨
- ë‹¨ì¼ ì‚¬ìš©ì ëª¨ë“œì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•´ì•¼ í•˜ëŠ” ëª…ë ¹ì–´ë“¤
- ëª¨ë“  ì‚¬ìš©ìê°€ ì‹¤í–‰ ê°€ëŠ¥

**3. `/etc` (ì„¤ì • íŒŒì¼ ë””ë ‰í† ë¦¬)**
```bash
# ì‹œìŠ¤í…œ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì • íŒŒì¼ì´ ìœ„ì¹˜
ls -l /etc | head -n 10

# ì¤‘ìš” ì„¤ì • íŒŒì¼ ì˜ˆì‹œ:
/etc/passwd          # ì‚¬ìš©ì ê³„ì • ì •ë³´
/etc/shadow          # ì•”í˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ ì •ë³´
/etc/group           # ê·¸ë£¹ ì •ë³´
/etc/hosts           # í˜¸ìŠ¤íŠ¸ ì´ë¦„ê³¼ IP ë§¤í•‘
/etc/hostname        # ì‹œìŠ¤í…œ í˜¸ìŠ¤íŠ¸ ì´ë¦„
/etc/network/        # ë„¤íŠ¸ì›Œí¬ ì„¤ì •
/etc/systemd/        # systemd ì„¤ì •
```

**nginx ì„¤ì • íŒŒì¼ ìœ„ì¹˜:**
```bash
# nginx ì£¼ ì„¤ì • íŒŒì¼
/etc/nginx/nginx.conf

# ì‚¬ì´íŠ¸ë³„ ì„¤ì • íŒŒì¼
/etc/nginx/sites-available/default
/etc/nginx/sites-enabled/default  # í™œì„±í™”ëœ ì‚¬ì´íŠ¸ (ì‹¬ë³¼ë¦­ ë§í¬)
```

**MariaDB/MySQL ì„¤ì • íŒŒì¼ ìœ„ì¹˜:**
```bash
# MySQL/MariaDB ì£¼ ì„¤ì •
/etc/mysql/my.cnf

# MariaDB ì„œë²„ ì„¤ì •
/etc/mysql/mariadb.conf.d/50-server.cnf
```

**ğŸ’¡ ì¤‘ìš”:**
- `/etc` ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ì„ ìˆ˜ì •í•  ë•ŒëŠ” ë°˜ë“œì‹œ ë°±ì—… ë¨¼ì € ìˆ˜í–‰
- ì„¤ì • íŒŒì¼ ìˆ˜ì • í›„ì—ëŠ” í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘í•´ì•¼ ì ìš©ë¨

**4. `/home` (ì‚¬ìš©ì í™ˆ ë””ë ‰í† ë¦¬)**
```bash
# ê° ì‚¬ìš©ìì˜ ê°œì¸ ê³µê°„
ls -l /home

# ì‚¬ìš©ìë³„ ë””ë ‰í† ë¦¬ êµ¬ì¡°
/home/user1/
    â”œâ”€â”€ Documents/
    â”œâ”€â”€ Downloads/
    â”œâ”€â”€ Desktop/
    â””â”€â”€ .bashrc       # ì‚¬ìš©ìë³„ bash ì„¤ì • íŒŒì¼
```

**í™ˆ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ëŠ” ë°©ë²•:**
```bash
# ë°©ë²• 1: cdë§Œ ì…ë ¥
cd
pwd
# ì¶œë ¥: /home/username

# ë°©ë²• 2: ~ ê¸°í˜¸ ì‚¬ìš©
cd ~
pwd
# ì¶œë ¥: /home/username

# ë°©ë²• 3: $HOME í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
cd $HOME
pwd
# ì¶œë ¥: /home/username
```

**5. `/usr` (ìœ ë‹‰ìŠ¤ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤)**
```bash
# ì‚¬ìš©ì í”„ë¡œê·¸ë¨ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìœ„ì¹˜
ls -l /usr

/usr/bin/          # ì‚¬ìš©ì ëª…ë ¹ì–´ ë°”ì´ë„ˆë¦¬
/usr/lib/          # ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼
/usr/local/        # ë¡œì»¬ì—ì„œ ì»´íŒŒì¼í•œ í”„ë¡œê·¸ë¨
/usr/share/        # ì•„í‚¤í…ì²˜ ë…ë¦½ì ì¸ ë°ì´í„°
/usr/share/doc/    # ë¬¸ì„œ íŒŒì¼
```

**ì˜ˆì œ: Javaê°€ ì„¤ì¹˜ëœ ìœ„ì¹˜ í™•ì¸**
```bash
# Java ì‹¤í–‰ íŒŒì¼ ìœ„ì¹˜
which java
# ì¶œë ¥: /usr/bin/java

# ì‹¤ì œ Java ì„¤ì¹˜ ê²½ë¡œ í™•ì¸ (ì‹¬ë³¼ë¦­ ë§í¬ ì¶”ì )
readlink -f /usr/bin/java
# ì¶œë ¥: /usr/lib/jvm/java-11-openjdk-amd64/bin/java
```

**6. `/var` (ê°€ë³€ ë°ì´í„° ë””ë ‰í† ë¦¬)**
```bash
# ì‹œìŠ¤í…œ ìš´ì˜ ì¤‘ ë³€ê²½ë˜ëŠ” ë°ì´í„°ê°€ ì €ì¥
ls -l /var

/var/log/          # ë¡œê·¸ íŒŒì¼
/var/lib/          # ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ì •ë³´
/var/www/          # ì›¹ ì„œë²„ ë¬¸ì„œ ë£¨íŠ¸ (ì¼ë°˜ì )
/var/cache/        # ìºì‹œ ë°ì´í„°
/var/tmp/          # ì„ì‹œ íŒŒì¼ (ì¬ë¶€íŒ… í›„ì—ë„ ìœ ì§€)
```

**ì£¼ìš” ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜:**
```bash
# ì‹œìŠ¤í…œ ì „ì²´ ë¡œê·¸
/var/log/syslog              # Ubuntu/Debian ì‹œìŠ¤í…œ ë¡œê·¸
/var/log/messages            # CentOS/RHEL ì‹œìŠ¤í…œ ë¡œê·¸
/var/log/auth.log            # ì¸ì¦ ê´€ë ¨ ë¡œê·¸
/var/log/kern.log            # ì»¤ë„ ë¡œê·¸

# ì„œë¹„ìŠ¤ë³„ ë¡œê·¸
/var/log/nginx/access.log    # nginx ì ‘ì† ë¡œê·¸
/var/log/nginx/error.log     # nginx ì—ëŸ¬ ë¡œê·¸
/var/log/mysql/error.log     # MySQL ì—ëŸ¬ ë¡œê·¸
```

**ë¡œê·¸ íŒŒì¼ í™•ì¸ ì˜ˆì œ:**
```bash
# ìµœê·¼ ë¡œê·¸ í™•ì¸ (ì‹¤ì‹œê°„)
sudo tail -f /var/log/syslog

# ìµœê·¼ 50ì¤„ í™•ì¸
sudo tail -n 50 /var/log/syslog

# ë¡œê·¸ íŒŒì¼ ê²€ìƒ‰
sudo grep "error" /var/log/nginx/error.log

# ë¡œê·¸ íŒŒì¼ í¬ê¸° í™•ì¸
du -sh /var/log/*
```

**Tomcat ê´€ë ¨ ì¤‘ìš” ë””ë ‰í† ë¦¬:**
```bash
# Tomcat ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ë””ë ‰í† ë¦¬
/var/lib/tomcat10/webapps/
    â”œâ”€â”€ ROOT/              # ê¸°ë³¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (/)
    â”œâ”€â”€ manager/           # Tomcat ê´€ë¦¬ì ì•±
    â””â”€â”€ examples/          # ì˜ˆì œ ì• í”Œë¦¬ì¼€ì´ì…˜

# Tomcat ë¡œê·¸ ë””ë ‰í† ë¦¬
/var/log/tomcat10/
    â”œâ”€â”€ catalina.out       # í‘œì¤€ ì¶œë ¥ ë¡œê·¸
    â”œâ”€â”€ catalina.2025-12-17.log
    â””â”€â”€ localhost_access_log.2025-12-17.txt
```

**7. `/tmp` (ì„ì‹œ ë””ë ‰í† ë¦¬)**
```bash
# ì„ì‹œ íŒŒì¼ ì €ì¥ ê³µê°„
ls -l /tmp

# íŠ¹ì§•:
# - ëª¨ë“  ì‚¬ìš©ìê°€ ì“°ê¸° ê°€ëŠ¥
# - ì‹œìŠ¤í…œ ì¬ë¶€íŒ… ì‹œ ì‚­ì œë¨
# - Sticky bit ì„¤ì •ë˜ì–´ ìˆìŒ (ë‹¤ë¥¸ ì‚¬ìš©ìì˜ íŒŒì¼ ì‚­ì œ ë¶ˆê°€)
```

**Sticky bit í™•ì¸:**
```bash
ls -ld /tmp
# ì¶œë ¥: drwxrwxrwt 10 root root 4096 Dec 17 09:00 /tmp
#        â†‘ ë§ˆì§€ë§‰ tê°€ sticky bit
```

**8. `/opt` (ì˜µì…˜ ì†Œí”„íŠ¸ì›¨ì–´)**
```bash
# ì¶”ê°€ë¡œ ì„¤ì¹˜í•œ ëŒ€í˜• ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€
ls -l /opt

# ì˜ˆ: Oracle, Google Chrome, ìƒìš© ì†Œí”„íŠ¸ì›¨ì–´ ë“±
/opt/google/chrome/
/opt/oracle/
```

**9. `/dev` (ë””ë°”ì´ìŠ¤ íŒŒì¼)**
```bash
# í•˜ë“œì›¨ì–´ ì¥ì¹˜ë¥¼ íŒŒì¼ë¡œ í‘œí˜„
ls -l /dev | head -n 20

/dev/sda           # ì²« ë²ˆì§¸ í•˜ë“œ ë””ìŠ¤í¬
/dev/sda1          # ì²« ë²ˆì§¸ íŒŒí‹°ì…˜
/dev/null          # null ë””ë°”ì´ìŠ¤ (ë°ì´í„° ë²„ë¦¬ê¸°)
/dev/zero          # 0ìœ¼ë¡œ ì±„ì›Œì§„ ë°ì´í„° ì œê³µ
/dev/random        # ë‚œìˆ˜ ìƒì„±ê¸°
```

**ë””ë°”ì´ìŠ¤ íŒŒì¼ í™œìš© ì˜ˆì œ:**
```bash
# null ë””ë°”ì´ìŠ¤ë¡œ ì¶œë ¥ ë²„ë¦¬ê¸°
command > /dev/null 2>&1

# ë””ìŠ¤í¬ ì •ë³´ í™•ì¸
sudo fdisk -l /dev/sda

# íŒŒí‹°ì…˜ ëª©ë¡ í™•ì¸
lsblk
```

**10. `/proc` (í”„ë¡œì„¸ìŠ¤ ì •ë³´)**
```bash
# ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ì‹œìŠ¤í…œ ì •ë³´ë¥¼ íŒŒì¼ í˜•íƒœë¡œ ì œê³µ
ls -l /proc | head -n 20

# ê° ìˆ«ìëŠ” í”„ë¡œì„¸ìŠ¤ ID(PID)
/proc/1/           # init/systemd í”„ë¡œì„¸ìŠ¤
/proc/self/        # í˜„ì¬ í”„ë¡œì„¸ìŠ¤
/proc/cpuinfo      # CPU ì •ë³´
/proc/meminfo      # ë©”ëª¨ë¦¬ ì •ë³´
```

**í”„ë¡œì„¸ìŠ¤ ì •ë³´ í™•ì¸ ì˜ˆì œ:**
```bash
# CPU ì •ë³´ í™•ì¸
cat /proc/cpuinfo | grep "model name" | head -n 1

# ë©”ëª¨ë¦¬ ì •ë³´ í™•ì¸
cat /proc/meminfo | grep MemTotal

# íŠ¹ì • í”„ë¡œì„¸ìŠ¤ì˜ ëª…ë ¹ì¤„ í™•ì¸
cat /proc/1234/cmdline  # PID 1234ì˜ ëª…ë ¹ì¤„

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì •ë³´
cat /proc/net/tcp
```

### ë””ë ‰í† ë¦¬ êµ¬ì¡° ì‹¤ìŠµ ìš”ì•½

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**
- [ ] ê° ì£¼ìš” ë””ë ‰í† ë¦¬ì˜ ëª©ì ì„ ì´í•´í–ˆëŠ”ê°€?
- [ ] ì„¤ì • íŒŒì¼ì´ ì–´ë””ì— ìœ„ì¹˜í•˜ëŠ”ì§€ ì•Œê³  ìˆëŠ”ê°€? (`/etc`)
- [ ] ë¡œê·¸ íŒŒì¼ì„ ì–´ë””ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œê³  ìˆëŠ”ê°€? (`/var/log`)
- [ ] ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì–´ë””ì— ë°°í¬í•˜ëŠ”ì§€ ì•Œê³  ìˆëŠ”ê°€? (`/var/lib/tomcat10/webapps`)
- [ ] í™ˆ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ëŠ” ì—¬ëŸ¬ ë°©ë²•ì„ ì•Œê³  ìˆëŠ”ê°€? (`cd`, `cd ~`, `cd $HOME`)

## ğŸ¯ ì˜¤ëŠ˜ì˜ ì‹¤ìŠµ ëª©í‘œ

ì˜¤ëŠ˜ ê°•ì˜ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ 3ëŒ€ì˜ ê°€ìƒ ë¨¸ì‹ ì„ êµ¬ì¶•í•˜ê³  ì—°ë™í•œë‹¤:

```mermaid
graph LR
    A[Client Browser] --> B[Web Server<br/>nginx<br/>192.168.186.128:80]
    B --> C[WAS Server<br/>Tomcat<br/>192.168.186.129:8080]
    C --> D[DB Server<br/>MariaDB<br/>192.168.186.130:3306]

    style A fill:#e1f5ff
    style B fill:#ffe1e1
    style C fill:#e1ffe1
    style D fill:#ffe1ff
```

**ê° ì„œë²„ì˜ ì—­í• :**

1. **ì›¹ ì„œë²„ (192.168.186.128)**
   - nginx ì„¤ì¹˜
   - ì •ì  íŒŒì¼ ì„œë¹™
   - ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¡œ WASë¡œ ìš”ì²­ ì „ë‹¬

2. **WAS ì„œë²„ (192.168.186.129)**
   - Tomcat10 ì„¤ì¹˜
   - JSP/Servlet ì‹¤í–‰
   - ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™

3. **ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ (192.168.186.130)**
   - MariaDB ì„¤ì¹˜
   - ì‚¬ìš©ì ì¸ì¦ ì •ë³´ ì €ì¥
   - ì›ê²© ì ‘ì† í—ˆìš©

**ìµœì¢… êµ¬í˜„ ê¸°ëŠ¥:**
- ë¡œê·¸ì¸ í˜ì´ì§€ (HTML)
- ë¡œê·¸ì¸ ì²˜ë¦¬ (JSP)
- ë°ì´í„°ë² ì´ìŠ¤ ì¸ì¦
- SQL ì¸ì ì…˜ ì‹œì—°

## ğŸ“ ê°•ì˜ ì§„í–‰ ë°©ì‹

1. **ê° ì„œë²„ ê°œë³„ êµ¬ì¶•**: Web â†’ WAS â†’ DB ìˆœì„œë¡œ ì„¤ì¹˜
2. **ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸**: ê° ë‹¨ê³„ë§ˆë‹¤ ì •ìƒ ë™ì‘ í™•ì¸
3. **í†µí•© í…ŒìŠ¤íŠ¸**: 3ê³„ì¸µ ì „ì²´ ì—°ë™ í™•ì¸
4. **ë³´ì•ˆ ì·¨ì•½ì  í•™ìŠµ**: SQL ì¸ì ì…˜ ì‹œì—°

**ğŸ’¡ í•™ìŠµ í¬ì¸íŠ¸:**
- ê° ê³„ì¸µì„ ë…ë¦½ì ìœ¼ë¡œ êµ¬ì¶•í•˜ëŠ” ì´ìœ  (í™•ì¥ì„±, ë³´ì•ˆ, ìœ ì§€ë³´ìˆ˜)
- ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ê°„ í†µì‹ 
- ì„¤ì • íŒŒì¼ì˜ ì¤‘ìš”ì„±
- ë³´ì•ˆ ì·¨ì•½ì ê³¼ ë°©ì–´ ë°©ë²•


**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ”** Linux ì‹œìŠ¤í…œì˜ ê¸°ì´ˆ ê°œë…ê³¼ ë„¤íŠ¸ì›Œí¬ ì„¤ì • ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ í•™ìŠµí•œë‹¤.
# Section 2: Linux ì‹œìŠ¤í…œ ê¸°ì´ˆ ë° ë„¤íŠ¸ì›Œí¬ ê°œë…

## ğŸ§ Ubuntu 24.04 ì„¤ì¹˜

### ì„¤ì¹˜ ì „ ì¤€ë¹„ì‚¬í•­

**ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­:**
- ë©”ëª¨ë¦¬: ìµœì†Œ 2GB (ê¶Œì¥ 4GB ì´ìƒ)
- ë””ìŠ¤í¬ ê³µê°„: ìµœì†Œ 25GB
- í”„ë¡œì„¸ì„œ: 2GHz ë“€ì–¼ ì½”ì–´ ì´ìƒ
- ë„¤íŠ¸ì›Œí¬: ì¸í„°ë„· ì—°ê²° (íŒ¨í‚¤ì§€ ì„¤ì¹˜ìš©)

**ì„¤ì¹˜ ë¯¸ë””ì–´ ì¤€ë¹„:**
```bash
# ISO íŒŒì¼ ë‹¤ìš´ë¡œë“œ
wget https://releases.ubuntu.com/24.04/ubuntu-24.04-live-server-amd64.iso

# ISO íŒŒì¼ ë¬´ê²°ì„± ê²€ì¦
sha256sum ubuntu-24.04-live-server-amd64.iso
```

### ì„¤ì¹˜ ê³¼ì •

**1. ë¶€íŒ… ë° ì–¸ì–´ ì„ íƒ**
- ISOë¡œ ë¶€íŒ…
- ì–¸ì–´ ì„ íƒ: English (í•œê¸€ ì„ íƒ ê°€ëŠ¥í•˜ë‚˜ ì„œë²„ëŠ” ì˜ë¬¸ ê¶Œì¥)
- í‚¤ë³´ë“œ ë ˆì´ì•„ì›ƒ ì„ íƒ

**2. ì„¤ì¹˜ íƒ€ì… ì„ íƒ**
```
Ubuntu Server (ìµœì†Œ ì„¤ì¹˜)
Ubuntu Server (GUI í¬í•¨) - ì‹¤ìŠµìš©
```

**3. ë„¤íŠ¸ì›Œí¬ ì„¤ì •**
```
DHCP ìë™ ì„¤ì • ë˜ëŠ” ìˆ˜ë™ ì„¤ì •
IP: 192.168.186.128 (Web ì„œë²„)
Netmask: 255.255.255.0
Gateway: 192.168.186.2
DNS: 8.8.8.8
```

**4. ìŠ¤í† ë¦¬ì§€ ì„¤ì •**
- Use entire disk (ì „ì²´ ë””ìŠ¤í¬ ì‚¬ìš©)
- LVM ì„¤ì • (ì„ íƒì‚¬í•­)

**5. ì‚¬ìš©ì ê³„ì • ìƒì„±**
```
Your name: Administrator
Server name: webserver
Username: admin
Password: ******
```

**6. SSH ì„œë²„ ì„¤ì¹˜ ì˜µì…˜**
- [x] Install OpenSSH server (ë°˜ë“œì‹œ ì²´í¬)

**7. ì¶”ê°€ ì†Œí”„íŠ¸ì›¨ì–´ ì„ íƒ**
- ê¸°ë³¸ ì„¤ì¹˜ë§Œ ì§„í–‰ (ì¶”í›„ í•„ìš”í•œ ê²ƒë§Œ ì„¤ì¹˜)

### ì„¤ì¹˜ í›„ ì´ˆê¸° ì„¤ì •

**ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸:**
```bash
# íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸
sudo apt update

# ì¶œë ¥ ì˜ˆì‹œ:
# Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
# Get:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
# ...
# Fetched 2,345 kB in 5s (469 kB/s)
# Reading package lists... Done
# Building dependency tree... Done

# ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ì—…ê·¸ë ˆì´ë“œ
sudo apt upgrade -y

# ì‹œìŠ¤í…œ ì¬ë¶€íŒ… (ì»¤ë„ ì—…ë°ì´íŠ¸ ì‹œ í•„ìš”)
sudo reboot
```

**ğŸ’¡ ëª…ë ¹ì–´ ì„¤ëª…:**
- `apt update`: ì„¤ì¹˜ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ ëª©ë¡ì„ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸
- `apt upgrade`: ì‹¤ì œë¡œ íŒ¨í‚¤ì§€ë¥¼ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ
- `-y` ì˜µì…˜: ì„¤ì¹˜ í™•ì¸ í”„ë¡¬í”„íŠ¸ì— ìë™ìœ¼ë¡œ "yes" ì‘ë‹µ

## ğŸŒ ë„¤íŠ¸ì›Œí¬ ê¸°ì´ˆ ê°œë…

### IP ì£¼ì†Œì™€ ì„œë¸Œë„· ë§ˆìŠ¤í¬

**IP ì£¼ì†Œ êµ¬ì¡°:**
```
192.168.186.128
 â”‚   â”‚   â”‚   â”‚
 â”‚   â”‚   â”‚   â””â”€ í˜¸ìŠ¤íŠ¸ ë¶€ë¶„
 â”‚   â”‚   â””â”€â”€â”€â”€â”€ ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„
 â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„
```

**ì„œë¸Œë„· ë§ˆìŠ¤í¬:**
```
255.255.255.0 = /24
  â”‚   â”‚   â”‚  â”‚
  1   1   1  0  (ë¹„íŠ¸ë¡œ í‘œí˜„)

ë„¤íŠ¸ì›Œí¬ ë¹„íŠ¸: 24ê°œ
í˜¸ìŠ¤íŠ¸ ë¹„íŠ¸: 8ê°œ
ê°€ëŠ¥í•œ í˜¸ìŠ¤íŠ¸ ìˆ˜: 2^8 - 2 = 254ê°œ
```

**ì£¼ì†Œ ë²”ìœ„:**
```
ë„¤íŠ¸ì›Œí¬ ì£¼ì†Œ: 192.168.186.0
ì‚¬ìš© ê°€ëŠ¥ ë²”ìœ„: 192.168.186.1 ~ 192.168.186.254
ë¸Œë¡œë“œìºìŠ¤íŠ¸: 192.168.186.255
```

### ë„¤íŠ¸ì›Œí¬ ì„¤ì • í™•ì¸

**ifconfig ëª…ë ¹ì–´:**
```bash
# ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì •ë³´ í™•ì¸
ifconfig

# ì¶œë ¥ ì˜ˆì‹œ:
ens33: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.186.128  netmask 255.255.255.0  broadcast 192.168.186.255
        inet6 fe80::20c:29ff:fe3a:1234  prefixlen 64  scopeid 0x20<link>
        ether 00:0c:29:3a:12:34  txqueuelen 1000  (Ethernet)
        RX packets 1234  bytes 567890 (567.8 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 5678  bytes 901234 (901.2 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

**ì¶œë ¥ ì •ë³´ ë¶„ì„:**
- `ens33`: ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ (eth0, enp0s3 ë“±ë„ ê°€ëŠ¥)
- `inet 192.168.186.128`: IPv4 ì£¼ì†Œ
- `netmask 255.255.255.0`: ì„œë¸Œë„· ë§ˆìŠ¤í¬
- `broadcast 192.168.186.255`: ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì£¼ì†Œ
- `ether 00:0c:29:3a:12:34`: MAC ì£¼ì†Œ
- `RX packets`: ìˆ˜ì‹ í•œ íŒ¨í‚· ìˆ˜
- `TX packets`: ì „ì†¡í•œ íŒ¨í‚· ìˆ˜

**ip ëª…ë ¹ì–´ (ìµœì‹  ë°©ì‹):**
```bash
# ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ëª©ë¡
ip addr show

# ë˜ëŠ” ì¤„ì—¬ì„œ
ip a

# íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë§Œ í™•ì¸
ip addr show ens33

# ì¶œë ¥ ì˜ˆì‹œ:
2: ens33: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 00:0c:29:3a:12:34 brd ff:ff:ff:ff:ff:ff
    inet 192.168.186.128/24 brd 192.168.186.255 scope global dynamic ens33
       valid_lft 86400sec preferred_lft 86400sec
    inet6 fe80::20c:29ff:fe3a:1234/64 scope link
       valid_lft forever preferred_lft forever
```

**ë¼ìš°íŒ… í…Œì´ë¸” í™•ì¸:**
```bash
# route ëª…ë ¹ì–´
route -n

# ì¶œë ¥ ì˜ˆì‹œ:
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.186.2   0.0.0.0         UG    100    0        0 ens33
192.168.186.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33

# ip route ëª…ë ¹ì–´ (ìµœì‹  ë°©ì‹)
ip route show

# ì¶œë ¥ ì˜ˆì‹œ:
default via 192.168.186.2 dev ens33 proto dhcp metric 100
192.168.186.0/24 dev ens33 proto kernel scope link src 192.168.186.128 metric 100
```

**ì¶œë ¥ ì •ë³´ ì„¤ëª…:**
- `default via 192.168.186.2`: ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´
- `192.168.186.0/24 dev ens33`: ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ ë¼ìš°íŒ…

### ë„¤íŠ¸ì›Œí¬ ì—°ê²° í…ŒìŠ¤íŠ¸

**ping ëª…ë ¹ì–´:**
```bash
# ê²Œì´íŠ¸ì›¨ì´ ì—°ê²° í…ŒìŠ¤íŠ¸
ping -c 4 192.168.186.2

# ì¶œë ¥ ì˜ˆì‹œ:
PING 192.168.186.2 (192.168.186.2) 56(84) bytes of data.
64 bytes from 192.168.186.2: icmp_seq=1 ttl=64 time=0.234 ms
64 bytes from 192.168.186.2: icmp_seq=2 ttl=64 time=0.189 ms
64 bytes from 192.168.186.2: icmp_seq=3 ttl=64 time=0.201 ms
64 bytes from 192.168.186.2: icmp_seq=4 ttl=64 time=0.198 ms

--- 192.168.186.2 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3067ms
rtt min/avg/max/mdev = 0.189/0.205/0.234/0.017 ms

# ì™¸ë¶€ ì¸í„°ë„· ì—°ê²° í…ŒìŠ¤íŠ¸
ping -c 4 8.8.8.8

# DNS ë™ì‘ í…ŒìŠ¤íŠ¸
ping -c 4 google.com
```

**ğŸ’¡ ping ì¶œë ¥ ë¶„ì„:**
- `64 bytes`: ICMP íŒ¨í‚· í¬ê¸°
- `icmp_seq`: íŒ¨í‚· ìˆœì„œ ë²ˆí˜¸
- `ttl`: Time To Live (íŒ¨í‚·ì´ ê±°ì¹  ìˆ˜ ìˆëŠ” ìµœëŒ€ ë¼ìš°í„° ìˆ˜)
- `time`: ì™•ë³µ ì‹œê°„ (ms)
- `0% packet loss`: íŒ¨í‚· ì†ì‹¤ë¥  (0%ê°€ ì •ìƒ)

**traceroute ëª…ë ¹ì–´:**
```bash
# ê²½ë¡œ ì¶”ì  (ì„¤ì¹˜ í•„ìš” ì‹œ)
sudo apt install traceroute

# ëª©ì ì§€ê¹Œì§€ì˜ ê²½ë¡œ í™•ì¸
traceroute google.com

# ì¶œë ¥ ì˜ˆì‹œ:
traceroute to google.com (142.250.196.78), 30 hops max, 60 byte packets
 1  192.168.186.2 (192.168.186.2)  0.234 ms  0.189 ms  0.201 ms
 2  10.0.0.1 (10.0.0.1)  5.678 ms  5.432 ms  5.567 ms
 3  * * *
 4  142.250.196.78 (142.250.196.78)  12.345 ms  12.234 ms  12.456 ms
```

### DNS ì„¤ì • í™•ì¸

**DNS ì„œë²„ í™•ì¸:**
```bash
# DNS ì„¤ì • íŒŒì¼ í™•ì¸
cat /etc/resolv.conf

# ì¶œë ¥ ì˜ˆì‹œ:
nameserver 8.8.8.8
nameserver 8.8.4.4

# systemd-resolved ì‚¬ìš© ì‹œ
resolvectl status

# ì¶œë ¥ ì˜ˆì‹œ:
Global
       LLMNR setting: yes
MulticastDNS setting: yes
  DNSOverTLS setting: no
      DNSSEC setting: no
    DNSSEC supported: no
  Current DNS Server: 8.8.8.8
         DNS Servers: 8.8.8.8
                      8.8.4.4
```

**DNS ì§ˆì˜ í…ŒìŠ¤íŠ¸:**
```bash
# nslookup ëª…ë ¹ì–´ (ì„¤ì¹˜ í•„ìš” ì‹œ)
sudo apt install dnsutils

# ë„ë©”ì¸ ì´ë¦„ ì¡°íšŒ
nslookup google.com

# ì¶œë ¥ ì˜ˆì‹œ:
Server:     8.8.8.8
Address:    8.8.8.8#53

Non-authoritative answer:
Name:   google.com
Address: 142.250.196.78

# dig ëª…ë ¹ì–´ (ìƒì„¸ ì •ë³´)
dig google.com

# ê°„ë‹¨í•œ ì¶œë ¥ë§Œ
dig google.com +short
# ì¶œë ¥: 142.250.196.78
```

## ğŸ”§ ì£¼ìš” Linux ëª…ë ¹ì–´

### í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬

**ps ëª…ë ¹ì–´:**
```bash
# í˜„ì¬ í„°ë¯¸ë„ì˜ í”„ë¡œì„¸ìŠ¤
ps

# ëª¨ë“  í”„ë¡œì„¸ìŠ¤ (ìƒì„¸ ì •ë³´)
ps aux

# ì¶œë ¥ ì˜ˆì‹œ:
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           1  0.0  0.1 168976 11234 ?        Ss   09:00   0:02 /sbin/init
root           2  0.0  0.0      0     0 ?        S    09:00   0:00 [kthreadd]
www-data    1234  0.1  0.5 123456 45678 ?        S    10:30   0:05 nginx: worker
tomcat10    5678  2.5  5.2 2345678 567890 ?      Sl   10:35   15:34 /usr/lib/jvm/java-11-openjdk

# íŠ¹ì • í”„ë¡œì„¸ìŠ¤ ê²€ìƒ‰
ps aux | grep nginx

# ì¶œë ¥ ì˜ˆì‹œ:
root        1234  0.0  0.1  12345  5678 ?        Ss   10:30   0:00 nginx: master process
www-data    1235  0.0  0.2  12456  6789 ?        S    10:30   0:00 nginx: worker process
```

**ps ì¶œë ¥ ì»¬ëŸ¼ ì„¤ëª…:**
- `USER`: í”„ë¡œì„¸ìŠ¤ ì†Œìœ ì
- `PID`: í”„ë¡œì„¸ìŠ¤ ID
- `%CPU`: CPU ì‚¬ìš©ë¥ 
- `%MEM`: ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
- `VSZ`: ê°€ìƒ ë©”ëª¨ë¦¬ í¬ê¸° (KB)
- `RSS`: ì‹¤ì œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (KB)
- `TTY`: í„°ë¯¸ë„ (? ëŠ” ë°ëª¬ í”„ë¡œì„¸ìŠ¤)
- `STAT`: í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
  - `R`: Running (ì‹¤í–‰ ì¤‘)
  - `S`: Sleeping (ëŒ€ê¸° ì¤‘)
  - `D`: Uninterruptible sleep (IO ëŒ€ê¸°)
  - `Z`: Zombie (ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤)
  - `T`: Stopped (ì¤‘ì§€ë¨)
- `START`: ì‹œì‘ ì‹œê°„
- `TIME`: CPU ì‚¬ìš© ì‹œê°„
- `COMMAND`: ì‹¤í–‰ ëª…ë ¹ì–´

**top ëª…ë ¹ì–´ (ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§):**
```bash
# ì‹¤ì‹œê°„ í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§
top

# ì¶œë ¥ ì˜ˆì‹œ:
top - 14:30:25 up 5:30,  2 users,  load average: 0.52, 0.58, 0.59
Tasks: 245 total,   1 running, 244 sleeping,   0 stopped,   0 zombie
%Cpu(s):  2.3 us,  0.7 sy,  0.0 ni, 96.8 id,  0.2 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem :   3936.2 total,    234.5 free,   1678.9 used,   2022.8 buff/cache
MiB Swap:   2048.0 total,   2048.0 free,      0.0 used.   2023.4 avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
 5678 tomcat10  20   0 2345678 567890  23456 S   2.3   5.2  15:34.56 java
 1234 www-data  20   0  123456  45678   5678 S   0.3   0.5   0:05.23 nginx
    1 root      20   0  168976  11234   7890 S   0.0   0.1   0:02.34 systemd
```

**top í™”ë©´ ë‚´ ë‹¨ì¶•í‚¤:**
- `h`: ë„ì›€ë§ í‘œì‹œ
- `q`: ì¢…ë£Œ
- `k`: í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (PID ì…ë ¥)
- `M`: ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  ê¸°ì¤€ ì •ë ¬
- `P`: CPU ì‚¬ìš©ë¥  ê¸°ì¤€ ì •ë ¬
- `1`: CPU ì½”ì–´ë³„ ì‚¬ìš©ë¥  í‘œì‹œ

**htop ëª…ë ¹ì–´ (ê°œì„ ëœ top):**
```bash
# htop ì„¤ì¹˜
sudo apt install htop

# ì‹¤í–‰
htop

# íŠ¹ì§•:
# - ì»¬ëŸ¬í’€í•œ ì¸í„°í˜ì´ìŠ¤
# - ë§ˆìš°ìŠ¤ ì§€ì›
# - í”„ë¡œì„¸ìŠ¤ íŠ¸ë¦¬ í‘œì‹œ
# - ì‰¬ìš´ ì •ë ¬ ë° í•„í„°ë§
```

### ë„¤íŠ¸ì›Œí¬ í¬íŠ¸ í™•ì¸

**netstat ëª…ë ¹ì–´:**
```bash
# ëª¨ë“  ë¦¬ìŠ¤ë‹ í¬íŠ¸ í™•ì¸
sudo netstat -tuln

# ì¶œë ¥ ì˜ˆì‹œ:
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN
tcp6       0      0 :::8080                 :::*                    LISTEN

# í”„ë¡œì„¸ìŠ¤ ì •ë³´ í¬í•¨
sudo netstat -tulnp

# ì¶œë ¥ ì˜ˆì‹œ:
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      1234/nginx: master
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      890/sshd: /usr/sbin
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      2345/mysqld
tcp6       0      0 :::8080                 :::*                    LISTEN      5678/java

# ì—°ê²°ëœ ëª¨ë“  ì†Œì¼“ í™•ì¸
sudo netstat -tuanp
```

**netstat ì˜µì…˜ ì„¤ëª…:**
- `-t`: TCP í”„ë¡œí† ì½œ
- `-u`: UDP í”„ë¡œí† ì½œ
- `-l`: ë¦¬ìŠ¤ë‹ ìƒíƒœ (ëŒ€ê¸° ì¤‘)
- `-n`: ìˆ«ìë¡œ í‘œì‹œ (ì´ë¦„ í•´ì„ ì•ˆ í•¨)
- `-p`: í”„ë¡œì„¸ìŠ¤ ì •ë³´ í‘œì‹œ
- `-a`: ëª¨ë“  ì†Œì¼“ (ì—°ê²° ë° ë¦¬ìŠ¤ë‹)

**ss ëª…ë ¹ì–´ (ìµœì‹  ë°©ì‹, netstatë³´ë‹¤ ë¹ ë¦„):**
```bash
# ë¦¬ìŠ¤ë‹ í¬íŠ¸ í™•ì¸
sudo ss -tuln

# í”„ë¡œì„¸ìŠ¤ ì •ë³´ í¬í•¨
sudo ss -tulnp

# ì¶œë ¥ ì˜ˆì‹œ:
Netid  State   Recv-Q  Send-Q  Local Address:Port   Peer Address:Port  Process
tcp    LISTEN  0       511     0.0.0.0:80            0.0.0.0:*          users:(("nginx",pid=1234,fd=6))
tcp    LISTEN  0       128     0.0.0.0:22            0.0.0.0:*          users:(("sshd",pid=890,fd=3))
tcp    LISTEN  0       80      0.0.0.0:3306          0.0.0.0:*          users:(("mysqld",pid=2345,fd=21))
tcp    LISTEN  0       100     :::8080               :::*               users:(("java",pid=5678,fd=45))

# íŠ¹ì • í¬íŠ¸ í™•ì¸
sudo ss -tuln | grep :80

# ì—°ê²° ìƒíƒœ í™•ì¸
sudo ss -tan
```

**lsof ëª…ë ¹ì–´ (íŒŒì¼ ë° í¬íŠ¸ ì‚¬ìš© í™•ì¸):**
```bash
# íŠ¹ì • í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ í™•ì¸
sudo lsof -i :80

# ì¶œë ¥ ì˜ˆì‹œ:
COMMAND   PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
nginx    1234     root    6u  IPv4  12345      0t0  TCP *:http (LISTEN)
nginx    1235 www-data    6u  IPv4  12345      0t0  TCP *:http (LISTEN)

# íŠ¹ì • í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ í™•ì¸
sudo lsof -p 1234

# TCP í¬íŠ¸ë§Œ í™•ì¸
sudo lsof -iTCP -sTCP:LISTEN
```

### systemd ì„œë¹„ìŠ¤ ê´€ë¦¬

**systemctl ëª…ë ¹ì–´:**
```bash
# ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start nginx

# ì„œë¹„ìŠ¤ ì¤‘ì§€
sudo systemctl stop nginx

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
sudo systemctl restart nginx

# ì„¤ì • ë¦¬ë¡œë“œ (ì¬ì‹œì‘ ì—†ì´)
sudo systemctl reload nginx

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status nginx

# ì¶œë ¥ ì˜ˆì‹œ:
â— nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-12-17 10:30:25 KST; 4h 5min ago
       Docs: man:nginx(8)
    Process: 1234 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 1235 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
   Main PID: 1236 (nginx)
      Tasks: 3 (limit: 4558)
     Memory: 12.3M
        CPU: 234ms
     CGroup: /system.slice/nginx.service
             â”œâ”€1236 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
             â”œâ”€1237 nginx: worker process
             â””â”€1238 nginx: worker process

Dec 17 10:30:25 webserver systemd[1]: Starting A high performance web server...
Dec 17 10:30:25 webserver systemd[1]: Started A high performance web server.

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ í™œì„±í™”
sudo systemctl enable nginx

# ì¶œë ¥ ì˜ˆì‹œ:
Created symlink /etc/systemd/system/multi-user.target.wants/nginx.service â†’ /lib/systemd/system/nginx.service.

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ë¹„í™œì„±í™”
sudo systemctl disable nginx

# ì„œë¹„ìŠ¤ê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
systemctl is-enabled nginx
# ì¶œë ¥: enabled ë˜ëŠ” disabled

# ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
systemctl is-active nginx
# ì¶œë ¥: active ë˜ëŠ” inactive

# ëª¨ë“  ì„œë¹„ìŠ¤ ëª©ë¡
systemctl list-units --type=service

# ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ë§Œ
systemctl list-units --type=service --state=running

# ì‹¤íŒ¨í•œ ì„œë¹„ìŠ¤ í™•ì¸
systemctl --failed
```

**ì„œë¹„ìŠ¤ ë¡œê·¸ í™•ì¸ (journalctl):**
```bash
# íŠ¹ì • ì„œë¹„ìŠ¤ì˜ ë¡œê·¸ í™•ì¸
sudo journalctl -u nginx

# ìµœê·¼ ë¡œê·¸ë§Œ í™•ì¸
sudo journalctl -u nginx -n 50

# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸ (tail -fì™€ ìœ ì‚¬)
sudo journalctl -u nginx -f

# íŠ¹ì • ì‹œê°„ ì´í›„ì˜ ë¡œê·¸
sudo journalctl -u nginx --since "2025-12-17 10:00:00"

# ì˜¤ëŠ˜ì˜ ë¡œê·¸ë§Œ
sudo journalctl -u nginx --since today

# ë¶€íŒ… ì´í›„ì˜ ë¡œê·¸
sudo journalctl -u nginx -b
```

## ğŸ” SSH ì„œë²„ ì„¤ì •

### SSH ì„œë²„ ì„¤ì¹˜ ë° ì‹œì‘

```bash
# SSH ì„œë²„ ì„¤ì¹˜
sudo apt install openssh-server

# SSH ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start ssh

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
sudo systemctl enable ssh

# SSH ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status ssh

# ì¶œë ¥ ì˜ˆì‹œ:
â— ssh.service - OpenBSD Secure Shell server
     Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-12-17 09:00:00 KST; 5h 35min ago
       Docs: man:sshd(8)
             man:sshd_config(5)
   Main PID: 890 (sshd)
      Tasks: 1 (limit: 4558)
     Memory: 5.2M
        CPU: 123ms
     CGroup: /system.slice/ssh.service
             â””â”€890 sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups

# SSH í¬íŠ¸ í™•ì¸
sudo ss -tuln | grep :22
# ì¶œë ¥: tcp   LISTEN 0      128    0.0.0.0:22     0.0.0.0:*
```

### SSH ì ‘ì† í…ŒìŠ¤íŠ¸

```bash
# ë¡œì»¬ì—ì„œ ì ‘ì† í…ŒìŠ¤íŠ¸
ssh localhost

# ì›ê²©ì—ì„œ ì ‘ì† (í´ë¼ì´ì–¸íŠ¸ì—ì„œ)
ssh admin@192.168.186.128

# íŠ¹ì • í¬íŠ¸ë¡œ ì ‘ì†
ssh -p 22 admin@192.168.186.128

# ì ‘ì† í›„ ì¶œë ¥ ì˜ˆì‹œ:
The authenticity of host '192.168.186.128 (192.168.186.128)' can't be established.
ED25519 key fingerprint is SHA256:abcd1234efgh5678ijkl9012mnop3456qrst7890.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '192.168.186.128' (ED25519) to the list of known hosts.
admin@192.168.186.128's password:
Welcome to Ubuntu 24.04 LTS (GNU/Linux 6.8.0-51-generic x86_64)
```

### SSH ì„¤ì • íŒŒì¼

**ì£¼ìš” ì„¤ì • íŒŒì¼ ìœ„ì¹˜:**
```bash
# SSH ì„œë²„ ì„¤ì • íŒŒì¼
/etc/ssh/sshd_config

# SSH í´ë¼ì´ì–¸íŠ¸ ì„¤ì • íŒŒì¼
/etc/ssh/ssh_config
```

**ì£¼ìš” ì„¤ì • ì˜µì…˜:**
```bash
# sshd_config íŒŒì¼ í™•ì¸
sudo cat /etc/ssh/sshd_config | grep -v "^#" | grep -v "^$"

# ì£¼ìš” ì„¤ì •:
Port 22                      # SSH í¬íŠ¸ (ê¸°ë³¸ê°’ 22)
PermitRootLogin no           # root ì§ì ‘ ë¡œê·¸ì¸ í—ˆìš© ì—¬ë¶€
PasswordAuthentication yes   # ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ í—ˆìš©
PubkeyAuthentication yes     # ê³µê°œí‚¤ ì¸ì¦ í—ˆìš©
X11Forwarding yes            # GUI ì• í”Œë¦¬ì¼€ì´ì…˜ í¬ì›Œë”©
```

**ì„¤ì • ë³€ê²½ í›„ ì ìš©:**
```bash
# ì„¤ì • íŒŒì¼ ìˆ˜ì •
sudo nano /etc/ssh/sshd_config

# ì„¤ì • í…ŒìŠ¤íŠ¸
sudo sshd -t

# ì„¤ì • ì ìš© (ì„œë¹„ìŠ¤ ì¬ì‹œì‘)
sudo systemctl restart ssh
```

## ğŸ“Š ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ í™•ì¸

**ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰:**
```bash
# free ëª…ë ¹ì–´
free -h

# ì¶œë ¥ ì˜ˆì‹œ:
               total        used        free      shared  buff/cache   available
Mem:           3.8Gi       1.6Gi       234Mi        12Mi       2.0Gi       2.0Gi
Swap:          2.0Gi          0B       2.0Gi
```

**ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰:**
```bash
# ë””ìŠ¤í¬ ì—¬ìœ  ê³µê°„ í™•ì¸
df -h

# ì¶œë ¥ ì˜ˆì‹œ:
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   15G   33G  32% /
/dev/sda2       100G   45G   50G  48% /var

# íŠ¹ì • ë””ë ‰í† ë¦¬ í¬ê¸° í™•ì¸
du -sh /var/log
# ì¶œë ¥: 234M    /var/log

# í•˜ìœ„ ë””ë ‰í† ë¦¬ í¬í•¨
du -h /var/log | sort -h
```

**CPU ì •ë³´:**
```bash
# CPU ì •ë³´ í™•ì¸
lscpu

# ì¶œë ¥ ì˜ˆì‹œ:
Architecture:            x86_64
CPU op-mode(s):          32-bit, 64-bit
CPU(s):                  4
Thread(s) per core:      1
Core(s) per socket:      4
Model name:              Intel(R) Core(TM) i7-8700 CPU @ 3.20GHz
```

## âœ… í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ë„¤íŠ¸ì›Œí¬ ì„¤ì •:**
- [ ] IP ì£¼ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`ifconfig`, `ip addr`)
- [ ] ë¼ìš°íŒ… í…Œì´ë¸”ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`route -n`, `ip route`)
- [ ] ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ”ê°€? (`ping`)
- [ ] DNS ë™ì‘ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`nslookup`, `dig`)

**í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬:**
- [ ] ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`ps aux`)
- [ ] íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ”ê°€? (`ps aux | grep`)
- [ ] ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ì„ í•  ìˆ˜ ìˆëŠ”ê°€? (`top`, `htop`)

**ë„¤íŠ¸ì›Œí¬ í¬íŠ¸:**
- [ ] ë¦¬ìŠ¤ë‹ í¬íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`netstat -tuln`, `ss -tuln`)
- [ ] íŠ¹ì • í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ”ê°€? (`lsof -i :PORT`)

**ì„œë¹„ìŠ¤ ê´€ë¦¬:**
- [ ] ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘/ì¤‘ì§€í•  ìˆ˜ ìˆëŠ”ê°€? (`systemctl start/stop`)
- [ ] ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`systemctl status`)
- [ ] ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ê°€? (`systemctl enable/disable`)
- [ ] ì„œë¹„ìŠ¤ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€? (`journalctl -u`)

**SSH:**
- [ ] SSH ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ê³  ì‹œì‘í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] SSHë¡œ ì›ê²© ì ‘ì†í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] SSH ì„¤ì •ì„ ë³€ê²½í•˜ê³  ì ìš©í•  ìˆ˜ ìˆëŠ”ê°€?


**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ”** nginx ì›¹ ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ê³  ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤.
# Section 3: ì›¹ ì„œë²„ êµ¬ì¶• (nginx)

## ğŸŒ nginx ì†Œê°œ

### nginxë€?

nginx(ì—”ì§„ì—‘ìŠ¤)ëŠ” ê³ ì„±ëŠ¥ ì›¹ ì„œë²„ì´ì ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„ì´ë‹¤. Apache HTTP Serverì˜ C10K ë¬¸ì œ(1ë§Œ ê°œ ì´ìƒì˜ ë™ì‹œ ì—°ê²° ì²˜ë¦¬)ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆë‹¤.

**nginxì˜ ì£¼ìš” íŠ¹ì§•:**
- ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬ ëŠ¥ë ¥
- ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- ë¹„ë™ê¸° ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜
- ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê¸°ëŠ¥
- ë¡œë“œ ë°¸ëŸ°ì‹±
- HTTP ìºì‹±
- ì •ì  íŒŒì¼ ì„œë¹™ì— íƒì›”

**Apache vs nginx ë¹„êµ:**

```mermaid
graph TD
    subgraph "Apache (Process/Thread ê¸°ë°˜)"
        A1[Client 1] --> P1[Process 1]
        A2[Client 2] --> P2[Process 2]
        A3[Client 3] --> P3[Process 3]
        A4[Client 4] --> P4[Process 4]
    end

    subgraph "nginx (Event-driven)"
        B1[Client 1] --> W1[Worker Process]
        B2[Client 2] --> W1
        B3[Client 3] --> W1
        B4[Client 4] --> W1
        B5[Client 5] --> W2[Worker Process]
        B6[Client 6] --> W2
    end
```

**ğŸ’¡ í•µì‹¬ ì°¨ì´:**
- Apache: ê° ì—°ê²°ë‹¹ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ ìƒì„± â†’ ë©”ëª¨ë¦¬ ë§ì´ ì‚¬ìš©
- nginx: ì†Œìˆ˜ì˜ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¡œ ìˆ˜ì²œ ê°œì˜ ì—°ê²° ì²˜ë¦¬ â†’ ë©”ëª¨ë¦¬ íš¨ìœ¨ì 

### 3ê³„ì¸µ ì•„í‚¤í…ì²˜ì—ì„œ nginxì˜ ì—­í• 

```mermaid
sequenceDiagram
    participant C as Client
    participant W as Web Server<br/>(nginx)
    participant A as WAS<br/>(Tomcat)
    participant D as DB<br/>(MariaDB)

    C->>W: HTTP Request (Port 80)
    Note over W: ì •ì  íŒŒì¼ì€ ì§ì ‘ ì‘ë‹µ<br/>ë™ì  ìš”ì²­ì€ í”„ë¡ì‹œ
    W->>A: Forward Request (Port 8080)
    A->>D: SQL Query (Port 3306)
    D-->>A: Query Result
    A-->>W: HTTP Response
    W-->>C: HTTP Response
```

**ì›¹ ì„œë²„ì˜ ì—­í• :**
1. í´ë¼ì´ì–¸íŠ¸ì˜ HTTP ìš”ì²­ ìˆ˜ì‹  (Port 80, 443)
2. ì •ì  íŒŒì¼(HTML, CSS, JS, ì´ë¯¸ì§€) ì§ì ‘ ì„œë¹™
3. ë™ì  ìš”ì²­(JSP, PHP ë“±)ì€ WASë¡œ í”„ë¡ì‹œ
4. SSL/TLS ì•”í˜¸í™” ì²˜ë¦¬
5. ë¡œë“œ ë°¸ëŸ°ì‹±
6. HTTP ìºì‹±

**ğŸ’¡ ì›¹ ì„œë²„ì™€ WASë¥¼ ë¶„ë¦¬í•˜ëŠ” ì´ìœ :**
- **ë³´ì•ˆ**: WASë¥¼ ì™¸ë¶€ì— ì§ì ‘ ë…¸ì¶œí•˜ì§€ ì•ŠìŒ
- **ì„±ëŠ¥**: ì •ì  íŒŒì¼ì€ nginxê°€ ì²˜ë¦¬ (ë¹ ë¦„)
- **í™•ì¥ì„±**: ì—¬ëŸ¬ WAS ì„œë²„ë¡œ ë¡œë“œ ë°¸ëŸ°ì‹± ê°€ëŠ¥
- **ê´€ë¦¬**: ì›¹ ì„œë²„ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬

## ğŸ“¦ nginx ì„¤ì¹˜

### APTë¥¼ í†µí•œ ì„¤ì¹˜

```bash
# íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸
sudo apt update

# nginx ì„¤ì¹˜
sudo apt install nginx -y

# ì„¤ì¹˜ ê³¼ì • ì¶œë ¥ ì˜ˆì‹œ:
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2
  libtiff5 libwebp7 libxpm4 nginx-common nginx-core
Suggested packages:
  libgd-tools fcgiwrap nginx-doc ssl-cert
The following NEW packages will be installed:
  fontconfig-config fonts-dejavu-core libdeflate0 libfontconfig1 libgd3
  libjbig0 libjpeg-turbo8 libjpeg8 libnginx-mod-http-geoip2
  libnginx-mod-http-image-filter libnginx-mod-http-xslt-filter
  libnginx-mod-mail libnginx-mod-stream libnginx-mod-stream-geoip2
  libtiff5 libwebp7 libxpm4 nginx nginx-common nginx-core
0 upgraded, 20 newly installed, 0 to remove and 0 not upgraded.
Need to get 2,345 kB of archives.
After this operation, 7,890 kB of additional disk space will be used.
```

**ì„¤ì¹˜ í™•ì¸:**
```bash
# nginx ë²„ì „ í™•ì¸
nginx -v
# ì¶œë ¥: nginx version: nginx/1.24.0 (Ubuntu)

# ìƒì„¸ ë²„ì „ ì •ë³´ ë° ì»´íŒŒì¼ ì˜µì…˜
nginx -V
# ì¶œë ¥ ì˜ˆì‹œ:
nginx version: nginx/1.24.0 (Ubuntu)
built with OpenSSL 3.0.2 15 Mar 2022
TLS SNI support enabled
configure arguments: --with-cc-opt='-g -O2 -ffile-prefix-map=/build/nginx...

# nginx ì‹¤í–‰ íŒŒì¼ ìœ„ì¹˜
which nginx
# ì¶œë ¥: /usr/sbin/nginx
```

### nginx ì„œë¹„ìŠ¤ ì‹œì‘

```bash
# nginx ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start nginx

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status nginx

# ì¶œë ¥ ì˜ˆì‹œ:
â— nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-12-17 10:30:25 KST; 5s ago
       Docs: man:nginx(8)
    Process: 1234 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 1235 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
   Main PID: 1236 (nginx)
      Tasks: 3 (limit: 4558)
     Memory: 4.8M
        CPU: 45ms
     CGroup: /system.slice/nginx.service
             â”œâ”€1236 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
             â”œâ”€1237 nginx: worker process
             â””â”€1238 nginx: worker process

Dec 17 10:30:25 webserver systemd[1]: Starting A high performance web server and a reverse proxy server...
Dec 17 10:30:25 webserver nginx[1234]: nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
Dec 17 10:30:25 webserver nginx[1234]: nginx: configuration file /etc/nginx/nginx.conf test is successful
Dec 17 10:30:25 webserver systemd[1]: Started A high performance web server and a reverse proxy server.

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
sudo systemctl enable nginx

# ì¶œë ¥:
Synchronizing state of nginx.service with SysV service script with /lib/systemd/systemd-sysv-install.
Executing: /lib/systemd/systemd-sysv-install enable nginx
```

**í”„ë¡œì„¸ìŠ¤ í™•ì¸:**
```bash
# nginx í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep nginx

# ì¶œë ¥ ì˜ˆì‹œ:
root        1236  0.0  0.1  12345  5678 ?        Ss   10:30   0:00 nginx: master process /usr/sbin/nginx
www-data    1237  0.0  0.2  12456  6789 ?        S    10:30   0:00 nginx: worker process
www-data    1238  0.0  0.2  12456  6789 ?        S    10:30   0:00 nginx: worker process
```

**í”„ë¡œì„¸ìŠ¤ êµ¬ì¡° ì„¤ëª…:**
- **master process (root)**: ì„¤ì • ì½ê¸°, ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬, ê¶Œí•œ ìˆëŠ” ì‘ì—… ìˆ˜í–‰
- **worker process (www-data)**: ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ì²˜ë¦¬, ë‚®ì€ ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰ (ë³´ì•ˆ)

**í¬íŠ¸ í™•ì¸:**
```bash
# 80ë²ˆ í¬íŠ¸ ë¦¬ìŠ¤ë‹ í™•ì¸
sudo ss -tuln | grep :80

# ì¶œë ¥:
tcp   LISTEN 0      511    0.0.0.0:80     0.0.0.0:*

# ë˜ëŠ” netstat ì‚¬ìš©
sudo netstat -tuln | grep :80

# lsofë¡œ í™•ì¸
sudo lsof -i :80

# ì¶œë ¥:
COMMAND   PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
nginx    1236     root    6u  IPv4  12345      0t0  TCP *:http (LISTEN)
nginx    1237 www-data    6u  IPv4  12345      0t0  TCP *:http (LISTEN)
```

### ì›¹ ì„œë²„ ë™ì‘ í…ŒìŠ¤íŠ¸

**curlì„ í†µí•œ í…ŒìŠ¤íŠ¸:**
```bash
# ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸
curl http://localhost

# ì¶œë ¥ (HTML):
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
html { color-scheme: light dark; }
body { width: 35em; margin: 0 auto;
font-family: Tahoma, Verdana, Arial, sans-serif; }
</style>
</head>
<body>
<h1>Welcome to nginx!</h1>
<p>If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.</p>
...
</body>
</html>

# IP ì£¼ì†Œë¡œ í…ŒìŠ¤íŠ¸
curl http://192.168.186.128

# HTTP í—¤ë” í™•ì¸
curl -I http://localhost

# ì¶œë ¥:
HTTP/1.1 200 OK
Server: nginx/1.24.0 (Ubuntu)
Date: Tue, 17 Dec 2025 01:30:25 GMT
Content-Type: text/html
Content-Length: 615
Last-Modified: Mon, 16 Dec 2025 14:20:00 GMT
Connection: keep-alive
ETag: "675f5e00-267"
Accept-Ranges: bytes
```

**ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸:**
```
http://192.168.186.128
```
- "Welcome to nginx!" í˜ì´ì§€ê°€ í‘œì‹œë˜ë©´ ì •ìƒ

**ğŸ’¡ HTTP ì‘ë‹µ ì½”ë“œ:**
- `200 OK`: ì„±ê³µ
- `301 Moved Permanently`: ì˜êµ¬ ë¦¬ë‹¤ì´ë ‰íŠ¸
- `302 Found`: ì„ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- `304 Not Modified`: ìºì‹œëœ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
- `400 Bad Request`: ì˜ëª»ëœ ìš”ì²­
- `401 Unauthorized`: ì¸ì¦ í•„ìš”
- `403 Forbidden`: ì ‘ê·¼ ê±°ë¶€
- `404 Not Found`: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- `500 Internal Server Error`: ì„œë²„ ì˜¤ë¥˜
- `502 Bad Gateway`: í”„ë¡ì‹œ/ê²Œì´íŠ¸ì›¨ì´ ì˜¤ë¥˜
- `503 Service Unavailable`: ì„œë¹„ìŠ¤ ì´ìš© ë¶ˆê°€

## ğŸ“ nginx ë””ë ‰í† ë¦¬ êµ¬ì¡°

### ì£¼ìš” ë””ë ‰í† ë¦¬ ë° íŒŒì¼

```bash
# nginx ê´€ë ¨ ë””ë ‰í† ë¦¬ êµ¬ì¡°
/etc/nginx/
    â”œâ”€â”€ nginx.conf                      # ì£¼ ì„¤ì • íŒŒì¼
    â”œâ”€â”€ sites-available/                # ì‚¬ìš© ê°€ëŠ¥í•œ ì‚¬ì´íŠ¸ ì„¤ì •
    â”‚   â””â”€â”€ default                     # ê¸°ë³¸ ì‚¬ì´íŠ¸ ì„¤ì •
    â”œâ”€â”€ sites-enabled/                  # í™œì„±í™”ëœ ì‚¬ì´íŠ¸ (ì‹¬ë³¼ë¦­ ë§í¬)
    â”‚   â””â”€â”€ default -> ../sites-available/default
    â”œâ”€â”€ conf.d/                         # ì¶”ê°€ ì„¤ì • íŒŒì¼
    â”œâ”€â”€ modules-available/              # ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“ˆ
    â”œâ”€â”€ modules-enabled/                # í™œì„±í™”ëœ ëª¨ë“ˆ
    â”œâ”€â”€ snippets/                       # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ì • ì¡°ê°
    â”œâ”€â”€ mime.types                      # MIME íƒ€ì… ì •ì˜
    â”œâ”€â”€ fastcgi_params                  # FastCGI íŒŒë¼ë¯¸í„°
    â””â”€â”€ proxy_params                    # í”„ë¡ì‹œ íŒŒë¼ë¯¸í„°

/var/log/nginx/
    â”œâ”€â”€ access.log                      # ì ‘ê·¼ ë¡œê·¸
    â””â”€â”€ error.log                       # ì—ëŸ¬ ë¡œê·¸

/var/www/html/                          # ê¸°ë³¸ ë¬¸ì„œ ë£¨íŠ¸
    â””â”€â”€ index.nginx-debian.html         # ê¸°ë³¸ í˜ì´ì§€

/usr/share/nginx/html/                  # ëŒ€ì²´ ë¬¸ì„œ ë£¨íŠ¸ (ë°°í¬íŒì— ë”°ë¼)
```

**ë””ë ‰í† ë¦¬ë³„ ì„¤ëª…:**

**1. `/etc/nginx/nginx.conf` (ì£¼ ì„¤ì • íŒŒì¼)**
```bash
# ì£¼ ì„¤ì • íŒŒì¼ í™•ì¸
sudo cat /etc/nginx/nginx.conf

# ì£¼ìš” ì„¤ì • êµ¬ì¡°:
user www-data;                          # nginx ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ì‚¬ìš©ì
worker_processes auto;                  # ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ìˆ˜ (auto = CPU ì½”ì–´ ìˆ˜)
pid /run/nginx.pid;                     # PID íŒŒì¼ ìœ„ì¹˜

events {
    worker_connections 768;             # ì›Œì»¤ë‹¹ ìµœëŒ€ ì—°ê²° ìˆ˜
}

http {
    # HTTP ê´€ë ¨ ì„¤ì •
    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    # ë¡œê¹…
    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;

    # ê°€ìƒ í˜¸ìŠ¤íŠ¸ ì„¤ì • í¬í•¨
    include /etc/nginx/conf.d/*.conf;
    include /etc/nginx/sites-enabled/*;
}
```

**2. `/etc/nginx/sites-available/default` (ê¸°ë³¸ ì‚¬ì´íŠ¸ ì„¤ì •)**
```bash
# ê¸°ë³¸ ì„¤ì • íŒŒì¼ í™•ì¸
sudo cat /etc/nginx/sites-available/default

# ê¸°ë³¸ ì„¤ì • ë‚´ìš©:
server {
    listen 80 default_server;           # IPv4 80ë²ˆ í¬íŠ¸ ë¦¬ìŠ¤ë‹
    listen [::]:80 default_server;      # IPv6 80ë²ˆ í¬íŠ¸ ë¦¬ìŠ¤ë‹

    root /var/www/html;                 # ë¬¸ì„œ ë£¨íŠ¸ ë””ë ‰í† ë¦¬
    index index.html index.htm index.nginx-debian.html;

    server_name _;                      # ì„œë²„ ì´ë¦„ (ì–¸ë”ìŠ¤ì½”ì–´ëŠ” ëª¨ë“  ë„ë©”ì¸)

    location / {
        try_files $uri $uri/ =404;      # íŒŒì¼ ì°¾ê¸° ì‹œë„, ì—†ìœ¼ë©´ 404
    }
}
```

**3. ë¡œê·¸ íŒŒì¼**
```bash
# ì ‘ê·¼ ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/nginx/access.log

# ì¶œë ¥ í˜•ì‹:
192.168.186.1 - - [17/Dec/2025:10:30:25 +0900] "GET / HTTP/1.1" 200 615 "-" "Mozilla/5.0..."
 â””â”€ í´ë¼ì´ì–¸íŠ¸IP  â””â”€ ë‚ ì§œ/ì‹œê°„              â””â”€ ìš”ì²­    â””â”€ ìƒíƒœ  â””â”€í¬ê¸°    â””â”€ User-Agent

# ì—ëŸ¬ ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/nginx/error.log

# ì¶œë ¥ ì˜ˆì‹œ:
2025/12/17 10:30:25 [error] 1237#1237: *1 open() "/var/www/html/favicon.ico" failed (2: No such file or directory)
```

## âš™ï¸ nginx ê¸°ë³¸ ì„¤ì •

### ê°€ìƒ í˜¸ìŠ¤íŠ¸ (Virtual Host) ì„¤ì •

**ìƒˆë¡œìš´ ì‚¬ì´íŠ¸ ì„¤ì • ìƒì„±:**
```bash
# ìƒˆ ì„¤ì • íŒŒì¼ ìƒì„±
sudo nano /etc/nginx/sites-available/mysite

# ì„¤ì • ë‚´ìš©:
server {
    listen 80;
    server_name mysite.com www.mysite.com;

    root /var/www/mysite;
    index index.html index.htm;

    location / {
        try_files $uri $uri/ =404;
    }

    # ë¡œê·¸ íŒŒì¼ ë¶„ë¦¬
    access_log /var/log/nginx/mysite_access.log;
    error_log /var/log/nginx/mysite_error.log;
}

# ë¬¸ì„œ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
sudo mkdir -p /var/www/mysite

# í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ìƒì„±
echo "<h1>My Site</h1>" | sudo tee /var/www/mysite/index.html

# ê¶Œí•œ ì„¤ì •
sudo chown -R www-data:www-data /var/www/mysite
sudo chmod -R 755 /var/www/mysite

# ì‚¬ì´íŠ¸ í™œì„±í™” (ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„±)
sudo ln -s /etc/nginx/sites-available/mysite /etc/nginx/sites-enabled/

# ì‹¬ë³¼ë¦­ ë§í¬ í™•ì¸
ls -l /etc/nginx/sites-enabled/
# ì¶œë ¥: lrwxrwxrwx 1 root root 34 Dec 17 10:30 mysite -> /etc/nginx/sites-available/mysite

# ì„¤ì • ë¬¸ë²• ê²€ì‚¬
sudo nginx -t

# ì¶œë ¥:
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful

# ì„¤ì • ì ìš© (ë¦¬ë¡œë“œ)
sudo systemctl reload nginx
```

**ì‚¬ì´íŠ¸ ë¹„í™œì„±í™”:**
```bash
# ì‹¬ë³¼ë¦­ ë§í¬ ì œê±°
sudo rm /etc/nginx/sites-enabled/mysite

# ì„¤ì • ë¦¬ë¡œë“œ
sudo systemctl reload nginx
```

### ì •ì  íŒŒì¼ ì„œë¹™ ì„¤ì •

```nginx
server {
    listen 80;
    server_name static.example.com;

    root /var/www/static;

    # ì´ë¯¸ì§€ ë””ë ‰í† ë¦¬
    location /images/ {
        alias /var/www/static/images/;
        autoindex on;                   # ë””ë ‰í† ë¦¬ ëª©ë¡ í‘œì‹œ
        expires 7d;                     # 7ì¼ê°„ ìºì‹œ
    }

    # CSS/JS íŒŒì¼
    location ~* \.(css|js)$ {
        expires 1h;                     # 1ì‹œê°„ ìºì‹œ
        add_header Cache-Control "public";
    }

    # íŠ¹ì • íŒŒì¼ ì ‘ê·¼ ì°¨ë‹¨
    location ~ /\.ht {
        deny all;                       # .htaccess ë“± ì°¨ë‹¨
    }
}
```

## ğŸ”„ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •

### ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë€?

**í¬ì›Œë“œ í”„ë¡ì‹œ vs ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ:**

```mermaid
graph LR
    subgraph "Forward Proxy"
        C1[Client 1] --> FP[Forward Proxy]
        C2[Client 2] --> FP
        FP --> I[Internet]
    end

    subgraph "Reverse Proxy"
        I2[Internet] --> RP[Reverse Proxy]
        RP --> S1[Server 1]
        RP --> S2[Server 2]
    end
```

**í¬ì›Œë“œ í”„ë¡ì‹œ:**
- í´ë¼ì´ì–¸íŠ¸ë¥¼ ëŒ€ì‹ í•˜ì—¬ ìš”ì²­
- í´ë¼ì´ì–¸íŠ¸ ìµëª…í™”
- ì½˜í…ì¸  í•„í„°ë§
- ì˜ˆ: íšŒì‚¬ í”„ë¡ì‹œ ì„œë²„

**ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ:**
- ì„œë²„ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì‘ë‹µ
- ì„œë²„ ë³´í˜¸ (ì‹¤ì œ ì„œë²„ ìˆ¨ê¹€)
- ë¡œë“œ ë°¸ëŸ°ì‹±
- SSL ì¢…ë£Œ
- ìºì‹±
- ì˜ˆ: nginx, HAProxy, Cloudflare

### WASë¡œ í”„ë¡ì‹œ ì„¤ì •

**ì‹¤ìŠµ ëª©í‘œ: nginx(80) â†’ Tomcat(8080)**

```bash
# sites-available/default íŒŒì¼ ìˆ˜ì •
sudo nano /etc/nginx/sites-available/default

# ê¸°ì¡´ ì„¤ì • ë°±ì—…
sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/default.backup
```

**ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •:**
```nginx
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    server_name _;

    # ë¡œê·¸ ì„¤ì •
    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;

    # ëª¨ë“  ìš”ì²­ì„ WASë¡œ í”„ë¡ì‹œ
    location / {
        proxy_pass http://192.168.186.129:8080;

        # í”„ë¡ì‹œ í—¤ë” ì„¤ì •
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # íƒ€ì„ì•„ì›ƒ ì„¤ì •
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # ì •ì  íŒŒì¼ì€ nginxê°€ ì§ì ‘ ì„œë¹™ (ì„ íƒì‚¬í•­)
    location /static/ {
        alias /var/www/static/;
        expires 30d;
    }

    # ì´ë¯¸ì§€ íŒŒì¼ì€ nginxê°€ ì§ì ‘ ì„œë¹™ (ì„ íƒì‚¬í•­)
    location ~* \.(jpg|jpeg|png|gif|ico|css|js)$ {
        root /var/www/html;
        expires 7d;
    }
}
```

**í”„ë¡ì‹œ í—¤ë” ì„¤ëª…:**

| í—¤ë” | ì„¤ëª… | ì˜ˆì‹œ ê°’ |
|------|------|---------|
| `Host` | ì›ë˜ ìš”ì²­ì˜ Host í—¤ë” | example.com |
| `X-Real-IP` | í´ë¼ì´ì–¸íŠ¸ì˜ ì‹¤ì œ IP | 192.168.186.1 |
| `X-Forwarded-For` | í”„ë¡ì‹œ ì²´ì¸ì˜ ëª¨ë“  IP | 192.168.186.1, 10.0.0.1 |
| `X-Forwarded-Proto` | ì›ë˜ í”„ë¡œí† ì½œ (http/https) | http |

**ì„¤ì • ì ìš©:**
```bash
# ì„¤ì • ë¬¸ë²• ê²€ì‚¬
sudo nginx -t

# ì¶œë ¥:
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful

# ì„¤ì • ì ìš©
sudo systemctl reload nginx

# ë˜ëŠ” ì¬ì‹œì‘
sudo systemctl restart nginx

# ì„¤ì • ë³€ê²½ ì‚¬í•­ í™•ì¸
sudo nginx -T | grep -A 10 "location /"
# -T ì˜µì…˜: ì‹¤ì œ ì ìš©ëœ ì „ì²´ ì„¤ì • ì¶œë ¥
```

### í”„ë¡ì‹œ ë™ì‘ í™•ì¸

```bash
# nginxì—ì„œ WASë¡œì˜ ì—°ê²° í™•ì¸
curl -I http://192.168.186.128

# ì •ìƒ ì‹œ ì¶œë ¥:
HTTP/1.1 200 OK
Server: nginx/1.24.0 (Ubuntu)
Date: Tue, 17 Dec 2025 01:35:00 GMT
Content-Type: text/html;charset=UTF-8
Connection: keep-alive

# ë¡œê·¸ í™•ì¸ (ì‹¤ì‹œê°„)
sudo tail -f /var/log/nginx/access.log

# ì ‘ì† ì‹œ ë¡œê·¸ ì˜ˆì‹œ:
192.168.186.1 - - [17/Dec/2025:10:35:00 +0900] "GET / HTTP/1.1" 200 1234 "-" "Mozilla/5.0..."

# ì—ëŸ¬ ë°œìƒ ì‹œ
sudo tail -f /var/log/nginx/error.log

# WAS ì—°ê²° ì‹¤íŒ¨ ì‹œ ë¡œê·¸:
2025/12/17 10:35:00 [error] 1237#1237: *1 connect() failed (111: Connection refused) while connecting to upstream,
client: 192.168.186.1, server: _, request: "GET / HTTP/1.1", upstream: "http://192.168.186.129:8080/"
```

## ğŸ”§ nginx ê´€ë¦¬ ëª…ë ¹ì–´

### ê¸°ë³¸ ëª…ë ¹ì–´

```bash
# nginx ì‹œì‘
sudo systemctl start nginx
# ë˜ëŠ”
sudo nginx

# nginx ì¤‘ì§€
sudo systemctl stop nginx
# ë˜ëŠ” (graceful shutdown - í˜„ì¬ ì—°ê²° ì²˜ë¦¬ í›„ ì¢…ë£Œ)
sudo nginx -s quit
# ë˜ëŠ” (ì¦‰ì‹œ ì¢…ë£Œ)
sudo nginx -s stop

# nginx ì¬ì‹œì‘
sudo systemctl restart nginx

# ì„¤ì • ë¦¬ë¡œë“œ (ë‹¤ìš´íƒ€ì„ ì—†ìŒ)
sudo systemctl reload nginx
# ë˜ëŠ”
sudo nginx -s reload

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status nginx

# ì„¤ì • ë¬¸ë²• ê²€ì‚¬
sudo nginx -t

# ì „ì²´ ì„¤ì • ë‚´ìš© ì¶œë ¥
sudo nginx -T

# nginx í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep nginx

# í¬íŠ¸ í™•ì¸
sudo ss -tuln | grep :80
```

### ë¡œê·¸ ë¡œí…Œì´ì…˜

**nginxëŠ” logrotateë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ë¡œê·¸ ë¡œí…Œì´ì…˜ ìˆ˜í–‰:**

```bash
# logrotate ì„¤ì • í™•ì¸
cat /etc/logrotate.d/nginx

# ë‚´ìš©:
/var/log/nginx/*.log {
    daily                           # ë§¤ì¼ ë¡œí…Œì´ì…˜
    missingok                       # ë¡œê·¸ íŒŒì¼ ì—†ì–´ë„ ì—ëŸ¬ ì•ˆ ëƒ„
    rotate 14                       # 14ì¼ì¹˜ ë³´ê´€
    compress                        # ì••ì¶•
    delaycompress                   # ë‹¤ìŒ ë¡œí…Œì´ì…˜ ë•Œ ì••ì¶•
    notifempty                      # ë¹ˆ íŒŒì¼ì€ ë¡œí…Œì´ì…˜ ì•ˆ í•¨
    create 0640 www-data adm        # ìƒˆ ë¡œê·¸ íŒŒì¼ ìƒì„± ê¶Œí•œ
    sharedscripts
    prerotate
        if [ -d /etc/logrotate.d/httpd-prerotate ]; then \
            run-parts /etc/logrotate.d/httpd-prerotate; \
        fi \
    endscript
    postrotate
        invoke-rc.d nginx rotate >/dev/null 2>&1
    endscript
}

# ìˆ˜ë™ ë¡œê·¸ ë¡œí…Œì´ì…˜ í…ŒìŠ¤íŠ¸
sudo logrotate -f /etc/logrotate.d/nginx

# ë¡œí…Œì´ì…˜ëœ ë¡œê·¸ í™•ì¸
ls -lh /var/log/nginx/
# ì¶œë ¥ ì˜ˆì‹œ:
-rw-r----- 1 www-data adm  12K Dec 17 00:00 access.log
-rw-r----- 1 www-data adm 123K Dec 16 23:59 access.log.1
-rw-r----- 1 www-data adm  45K Dec 15 23:59 access.log.2.gz
```

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°

**1. nginx ì‹œì‘ ì‹¤íŒ¨**
```bash
# ì—ëŸ¬ í™•ì¸
sudo systemctl status nginx
sudo journalctl -u nginx -n 50

# ì¼ë°˜ì ì¸ ì›ì¸:
# - ì„¤ì • íŒŒì¼ ë¬¸ë²• ì˜¤ë¥˜
sudo nginx -t

# - 80ë²ˆ í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘
sudo ss -tuln | grep :80
sudo lsof -i :80

# - ê¶Œí•œ ë¬¸ì œ
sudo chown -R www-data:www-data /var/www/html
```

**2. 502 Bad Gateway (WAS ì—°ê²° ì‹¤íŒ¨)**
```bash
# WAS ì„œë²„ ë™ì‘ í™•ì¸
curl http://192.168.186.129:8080

# ë°©í™”ë²½ í™•ì¸
sudo ufw status

# SELinux í™•ì¸ (CentOS/RHEL)
getenforce

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
ping 192.168.186.129
telnet 192.168.186.129 8080

# nginx ì—ëŸ¬ ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/nginx/error.log
```

**3. 403 Forbidden**
```bash
# íŒŒì¼ ê¶Œí•œ í™•ì¸
ls -la /var/www/html/

# ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸ (ì‹¤í–‰ ê¶Œí•œ í•„ìš”)
chmod 755 /var/www/html/

# íŒŒì¼ ê¶Œí•œ í™•ì¸ (ì½ê¸° ê¶Œí•œ í•„ìš”)
chmod 644 /var/www/html/index.html

# ì†Œìœ ì í™•ì¸
sudo chown -R www-data:www-data /var/www/html/

# index íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -l /var/www/html/index.html
```

**4. ì„¤ì •ì´ ì ìš©ë˜ì§€ ì•ŠìŒ**
```bash
# ì„¤ì • ë¬¸ë²• ê²€ì‚¬
sudo nginx -t

# ì‹¬ë³¼ë¦­ ë§í¬ í™•ì¸
ls -l /etc/nginx/sites-enabled/

# ê°•ì œ ì¬ì‹œì‘
sudo systemctl restart nginx

# í”„ë¡œì„¸ìŠ¤ê°€ ì´ì „ ì„¤ì •ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
ps aux | grep nginx
sudo kill -9 <PID>  # ë¹„ìƒì‹œì—ë§Œ ì‚¬ìš©
sudo systemctl start nginx
```

## âœ… í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì„¤ì¹˜ ë° ê¸°ë³¸ ì„¤ì •:**
- [ ] nginxë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] nginx ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘/ì¤‘ì§€/ì¬ì‹œì‘í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] nginxì˜ ê¸°ë³¸ í˜ì´ì§€ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸í–ˆëŠ”ê°€?
- [ ] nginx í”„ë¡œì„¸ìŠ¤ êµ¬ì¡°ë¥¼ ì´í•´í•˜ëŠ”ê°€? (master/worker)

**ì„¤ì • íŒŒì¼:**
- [ ] ì£¼ ì„¤ì • íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì•Œê³  ìˆëŠ”ê°€? (`/etc/nginx/nginx.conf`)
- [ ] ì‚¬ì´íŠ¸ ì„¤ì • íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì•Œê³  ìˆëŠ”ê°€? (`/etc/nginx/sites-available/`)
- [ ] ì‚¬ì´íŠ¸ë¥¼ í™œì„±í™”/ë¹„í™œì„±í™”í•  ìˆ˜ ìˆëŠ”ê°€? (ì‹¬ë³¼ë¦­ ë§í¬)
- [ ] ì„¤ì • ë¬¸ë²•ì„ ê²€ì‚¬í•  ìˆ˜ ìˆëŠ”ê°€? (`nginx -t`)

**ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ:**
- [ ] ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œì˜ ê°œë…ì„ ì´í•´í•˜ëŠ”ê°€?
- [ ] proxy_pass ì§€ì‹œì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] í”„ë¡ì‹œ í—¤ë”ì˜ ì˜ë¯¸ë¥¼ ì´í•´í•˜ëŠ”ê°€?
- [ ] WASë¡œ ìš”ì²­ì„ í”„ë¡ì‹œí•˜ëŠ” ì„¤ì •ì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ”ê°€?

**ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§:**
- [ ] access.logì˜ ìœ„ì¹˜ì™€ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] error.logì—ì„œ ë¬¸ì œë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ë¦¬ìŠ¤ë‹ í¬íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?

**ë¬¸ì œ í•´ê²°:**
- [ ] nginx ì‹œì‘ ì‹¤íŒ¨ ì‹œ ì›ì¸ì„ ì°¾ì„ ìˆ˜ ìˆëŠ”ê°€?
- [ ] 502 Bad Gateway ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] 403 Forbidden ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ”ê°€?


**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ”** WAS ì„œë²„(Tomcat)ë¥¼ ì„¤ì¹˜í•˜ê³  JSP ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤.
# Section 4: WAS ì„œë²„ êµ¬ì¶• (Tomcat)

## â˜• Apache Tomcat ì†Œê°œ

### WAS (Web Application Server)ë€?

WASëŠ” ë™ì  ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ê³  ì²˜ë¦¬í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ ì„œë²„ì´ë‹¤. ì›¹ ì„œë²„ì™€ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤.

**ì›¹ ì„œë²„ vs WAS ë¹„êµ:**

```mermaid
graph TD
    subgraph "Web Server (nginx)"
        A[ì •ì  íŒŒì¼ ì„œë¹™] --> A1[HTML]
        A --> A2[CSS]
        A --> A3[JavaScript]
        A --> A4[ì´ë¯¸ì§€]
    end

    subgraph "WAS (Tomcat)"
        B[ë™ì  ì½˜í…ì¸  ìƒì„±] --> B1[JSP]
        B --> B2[Servlet]
        B --> B3[ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§]
        B --> B4[ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™]
    end

    Client[Client] --> WebServer[Web Server]
    WebServer --> |ë™ì  ìš”ì²­| WAS[WAS]
    WebServer --> |ì •ì  ìš”ì²­| Static[Static Files]
    WAS --> DB[Database]
```

**ì£¼ìš” ì°¨ì´ì :**

| êµ¬ë¶„ | ì›¹ ì„œë²„ (nginx, Apache) | WAS (Tomcat, JBoss, WebLogic) |
|------|------------------------|-------------------------------|
| ì—­í•  | ì •ì  ì½˜í…ì¸  ì„œë¹™ | ë™ì  ì½˜í…ì¸  ìƒì„± |
| ì²˜ë¦¬ | HTML, CSS, JS, ì´ë¯¸ì§€ | JSP, Servlet, EJB |
| í”„ë¡œí† ì½œ | HTTP, HTTPS | HTTP, HTTPS + ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| DB ì—°ë™ | ì—†ìŒ | JDBC, JPA ë“± |
| ì˜ˆì‹œ | nginx, Apache HTTP Server | Tomcat, JBoss, WebSphere |

### Apache Tomcatì´ë€?

Tomcatì€ Apache Software Foundationì—ì„œ ê°œë°œí•œ ì˜¤í”ˆ ì†ŒìŠ¤ WASì´ë‹¤. Java Servlet, JSP(JavaServer Pages) ìŠ¤í™ì„ êµ¬í˜„í•œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì´ì ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì´ë‹¤.

**Tomcatì˜ íŠ¹ì§•:**
- ì˜¤í”ˆ ì†ŒìŠ¤ (ë¬´ë£Œ)
- ê°€ë³ê³  ë¹ ë¦„
- Java EE í‘œì¤€ ì¼ë¶€ ì§€ì› (Servlet, JSP)
- ëŒ€ê·œëª¨ ì»¤ë®¤ë‹ˆí‹°
- ìƒìš© WASì— ë¹„í•´ ì„¤ì •ì´ ê°„ë‹¨

**Tomcat ë²„ì „:**
- Tomcat 10.x: Jakarta EE 9+ (íŒ¨í‚¤ì§€ëª… jakarta.*)
- Tomcat 9.x: Java EE 8 (íŒ¨í‚¤ì§€ëª… javax.*)
- Tomcat 8.5.x: Java EE 7

**ğŸ’¡ ì¤‘ìš”:** Tomcat 10ë¶€í„° íŒ¨í‚¤ì§€ëª…ì´ `javax.*`ì—ì„œ `jakarta.*`ë¡œ ë³€ê²½ë˜ì—ˆë‹¤.

## ğŸ“¦ Java ë° Tomcat ì„¤ì¹˜

### Java ì„¤ì¹˜

Tomcatì„ ì‹¤í–‰í•˜ë ¤ë©´ ë¨¼ì € Javaê°€ í•„ìš”í•˜ë‹¤.

```bash
# Java ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸
java -version

# Javaê°€ ì—†ìœ¼ë©´ ì„¤ì¹˜
sudo apt update
sudo apt install default-jdk -y

# ì„¤ì¹˜ í›„ ë²„ì „ í™•ì¸
java -version
# ì¶œë ¥ ì˜ˆì‹œ:
openjdk version "11.0.24" 2024-07-16
OpenJDK Runtime Environment (build 11.0.24+8-post-Ubuntu-1ubuntu324.04)
OpenJDK 64-Bit Server VM (build 11.0.24+8-post-Ubuntu-1ubuntu324.04, mixed mode, sharing)

javac -version
# ì¶œë ¥: javac 11.0.24

# JAVA_HOME í™˜ê²½ ë³€ìˆ˜ í™•ì¸
echo $JAVA_HOME

# JAVA_HOMEì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´
# Java ì„¤ì¹˜ ê²½ë¡œ ì°¾ê¸°
update-alternatives --config java
# ì¶œë ¥ ì˜ˆì‹œ: /usr/lib/jvm/java-11-openjdk-amd64/bin/java

# JAVA_HOME ì„¤ì • (ì˜êµ¬ì )
echo 'export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64' | sudo tee -a /etc/environment
echo 'export PATH=$PATH:$JAVA_HOME/bin' | sudo tee -a /etc/environment

# ì ìš©
source /etc/environment

# í™•ì¸
echo $JAVA_HOME
# ì¶œë ¥: /usr/lib/jvm/java-11-openjdk-amd64
```

### Tomcat10 ì„¤ì¹˜

```bash
# Tomcat10 ì„¤ì¹˜
sudo apt install tomcat10 -y

# ì„¤ì¹˜ ê³¼ì • ì¶œë ¥ ì˜ˆì‹œ:
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  libeclipse-jdt-core-java libtomcat10-java tomcat10-common
Suggested packages:
  tomcat10-admin tomcat10-docs tomcat10-examples
The following NEW packages will be installed:
  libeclipse-jdt-core-java libtomcat10-java tomcat10 tomcat10-common
0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.
Need to get 8,234 kB of archives.
After this operation, 10,567 kB of additional disk space will be used.

# Tomcat ë²„ì „ í™•ì¸
/usr/share/tomcat10/bin/version.sh

# ì¶œë ¥ ì˜ˆì‹œ:
Using CATALINA_BASE:   /var/lib/tomcat10
Using CATALINA_HOME:   /usr/share/tomcat10
Using CATALINA_TMPDIR: /var/lib/tomcat10/temp
Using JRE_HOME:        /usr/lib/jvm/java-11-openjdk-amd64
Using CLASSPATH:       /usr/share/tomcat10/bin/bootstrap.jar:/usr/share/tomcat10/bin/tomcat-juli.jar
Using CATALINA_OPTS:
Server version: Apache Tomcat/10.1.20 (Ubuntu)
Server built:   May 3 2024 20:13:00 UTC
Server number:  10.1.20.0
OS Name:        Linux
OS Version:     6.8.0-51-generic
Architecture:   amd64
JVM Version:    11.0.24+8-post-Ubuntu-1ubuntu324.04
JVM Vendor:     Ubuntu
```

### Tomcat ì„œë¹„ìŠ¤ ì‹œì‘

```bash
# Tomcat ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start tomcat10

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status tomcat10

# ì¶œë ¥ ì˜ˆì‹œ:
â— tomcat10.service - Apache Tomcat 10 Web Application Server
     Loaded: loaded (/lib/systemd/system/tomcat10.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-12-17 11:00:00 KST; 5s ago
       Docs: https://tomcat.apache.org/tomcat-10.1-doc/index.html
    Process: 5678 ExecStartPre=/usr/libexec/tomcat10/tomcat-update-policy.sh (code=exited, status=0/SUCCESS)
   Main PID: 5680 (java)
      Tasks: 31 (limit: 4558)
     Memory: 156.7M
        CPU: 3.456s
     CGroup: /system.slice/tomcat10.service
             â””â”€5680 /usr/lib/jvm/java-11-openjdk-amd64/bin/java -Djava.util.logging.config.file=/var/lib/tomcat10/conf/logging.properties...

Dec 17 11:00:00 wasserver systemd[1]: Starting Apache Tomcat 10 Web Application Server...
Dec 17 11:00:03 wasserver systemd[1]: Started Apache Tomcat 10 Web Application Server.

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
sudo systemctl enable tomcat10

# í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep tomcat

# ì¶œë ¥ ì˜ˆì‹œ:
tomcat10 5680 2.5 5.2 2345678 234567 ?      Ssl  11:00  0:03 /usr/lib/jvm/java-11-openjdk-amd64/bin/java ...

# í¬íŠ¸ í™•ì¸
sudo ss -tuln | grep :8080

# ì¶œë ¥:
tcp6  LISTEN 0  100  :::8080  :::*

# ë˜ëŠ”
sudo lsof -i :8080

# ì¶œë ¥:
COMMAND   PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
java     5680 tomcat10   48u  IPv6  12345      0t0  TCP *:http-alt (LISTEN)
```

**Tomcat ì£¼ìš” í¬íŠ¸:**
- `8080`: HTTP í¬íŠ¸ (ê¸°ë³¸)
- `8443`: HTTPS í¬íŠ¸
- `8005`: Shutdown í¬íŠ¸
- `8009`: AJP í¬íŠ¸ (Apacheì™€ ì—°ë™ ì‹œ)

### Tomcat ë™ì‘ í…ŒìŠ¤íŠ¸

```bash
# ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸
curl http://localhost:8080

# ì¶œë ¥ (HTML):
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Apache Tomcat/10.1.20 (Ubuntu)</title>
        ...
    </head>
    <body>
        <h1>It works !</h1>
        ...
    </body>
</html>

# HTTP í—¤ë” í™•ì¸
curl -I http://localhost:8080

# ì¶œë ¥:
HTTP/1.1 200
Content-Type: text/html;charset=UTF-8
Transfer-Encoding: chunked
Date: Tue, 17 Dec 2025 02:00:00 GMT

# IP ì£¼ì†Œë¡œ í…ŒìŠ¤íŠ¸
curl http://192.168.186.129:8080

# ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸:
# http://192.168.186.129:8080
```

**ì •ìƒ ë™ì‘ ì‹œ ë¸Œë¼ìš°ì €ì— í‘œì‹œë˜ëŠ” ë‚´ìš©:**
- "It works!" ë©”ì‹œì§€
- Tomcat ë²„ì „ ì •ë³´
- ì„¤ì¹˜ ì„±ê³µ ë©”ì‹œì§€

## ğŸ“ Tomcat ë””ë ‰í† ë¦¬ êµ¬ì¡°

### ì£¼ìš” ë””ë ‰í† ë¦¬

```bash
# Tomcat ê´€ë ¨ ë””ë ‰í† ë¦¬
/usr/share/tomcat10/           # Tomcat í™ˆ ë””ë ‰í† ë¦¬ (CATALINA_HOME)
    â”œâ”€â”€ bin/                   # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
    â”œâ”€â”€ lib/                   # ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬
    â””â”€â”€ ...

/var/lib/tomcat10/             # Tomcat ë² ì´ìŠ¤ ë””ë ‰í† ë¦¬ (CATALINA_BASE)
    â”œâ”€â”€ conf/                  # ì„¤ì • íŒŒì¼
    â”‚   â”œâ”€â”€ server.xml         # ì£¼ ì„¤ì • íŒŒì¼
    â”‚   â”œâ”€â”€ web.xml            # ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
    â”‚   â”œâ”€â”€ context.xml        # ì»¨í…ìŠ¤íŠ¸ ì„¤ì •
    â”‚   â”œâ”€â”€ tomcat-users.xml   # ì‚¬ìš©ì ì¸ì¦ ì„¤ì •
    â”‚   â””â”€â”€ logging.properties # ë¡œê¹… ì„¤ì •
    â”œâ”€â”€ webapps/               # ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ë””ë ‰í† ë¦¬
    â”‚   â”œâ”€â”€ ROOT/              # ê¸°ë³¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
    â”‚   â”œâ”€â”€ manager/           # Tomcat ê´€ë¦¬ì ì•±
    â”‚   â””â”€â”€ docs/              # ë¬¸ì„œ
    â”œâ”€â”€ work/                  # JSP ì»´íŒŒì¼ëœ ì„œë¸”ë¦¿
    â”œâ”€â”€ temp/                  # ì„ì‹œ íŒŒì¼
    â””â”€â”€ logs/                  # ë¡œê·¸ íŒŒì¼ (ì‹¬ë³¼ë¦­ ë§í¬)

/var/log/tomcat10/             # ë¡œê·¸ íŒŒì¼ ì‹¤ì œ ìœ„ì¹˜
    â”œâ”€â”€ catalina.out           # í‘œì¤€ ì¶œë ¥/ì—ëŸ¬ ë¡œê·¸
    â”œâ”€â”€ catalina.YYYY-MM-DD.log
    â”œâ”€â”€ localhost.YYYY-MM-DD.log
    â””â”€â”€ localhost_access_log.YYYY-MM-DD.txt
```

**ë””ë ‰í† ë¦¬ í™•ì¸:**
```bash
# webapps ë””ë ‰í† ë¦¬ í™•ì¸
ls -l /var/lib/tomcat10/webapps/

# ì¶œë ¥ ì˜ˆì‹œ:
total 4
drwxr-xr-x 3 tomcat10 tomcat10 4096 Dec 17 11:00 ROOT

# ROOT ë””ë ‰í† ë¦¬ ë‚´ìš©
ls -l /var/lib/tomcat10/webapps/ROOT/

# ì¶œë ¥ ì˜ˆì‹œ:
-rw-r--r-- 1 root root  1234 May  3 20:13 index.html
drwxr-xr-x 2 root root  4096 May  3 20:13 WEB-INF
```

### ì„¤ì • íŒŒì¼ êµ¬ì¡°

**server.xml (ì£¼ ì„¤ì • íŒŒì¼):**
```bash
sudo cat /var/lib/tomcat10/conf/server.xml | grep -v "<!--" | grep -v "^$"

# ì£¼ìš” ì„¤ì • ìš”ì†Œ:
<Server port="8005" shutdown="SHUTDOWN">      # ì„œë²„ ì„¤ì •
  <Service name="Catalina">                   # ì„œë¹„ìŠ¤
    <Connector port="8080" protocol="HTTP/1.1"  # HTTP ì»¤ë„¥í„°
               connectionTimeout="20000"
               redirectPort="8443" />
    <Engine name="Catalina" defaultHost="localhost">  # ì—”ì§„
      <Host name="localhost" appBase="webapps"        # ê°€ìƒ í˜¸ìŠ¤íŠ¸
            unpackWARs="true" autoDeploy="true">
      </Host>
    </Engine>
  </Service>
</Server>
```

## ğŸš€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬

### JSP íŒŒì¼ ì§ì ‘ ë°°í¬

**ê°„ë‹¨í•œ JSP íŒŒì¼ ìƒì„±:**
```bash
# ROOT ì• í”Œë¦¬ì¼€ì´ì…˜ì— JSP íŒŒì¼ ìƒì„±
sudo nano /var/lib/tomcat10/webapps/ROOT/test.jsp
```

**test.jsp ë‚´ìš©:**
```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<!DOCTYPE html>
<html>
<head>
    <title>JSP Test Page</title>
</head>
<body>
    <h1>JSP Test Page</h1>
    <p>í˜„ì¬ ì‹œê°„: <%= new java.util.Date() %></p>
    <p>ì„œë²„ ì •ë³´: <%= application.getServerInfo() %></p>
    <p>ì„¸ì…˜ ID: <%= session.getId() %></p>

    <%
        // Java ì½”ë“œ ë¸”ë¡
        int number = (int)(Math.random() * 100);
        out.println("<p>ëœë¤ ìˆ«ì: " + number + "</p>");
    %>

    <h2>ìš”ì²­ ì •ë³´</h2>
    <ul>
        <li>ìš”ì²­ URI: <%= request.getRequestURI() %></li>
        <li>ìš”ì²­ Method: <%= request.getMethod() %></li>
        <li>í´ë¼ì´ì–¸íŠ¸ IP: <%= request.getRemoteAddr() %></li>
        <li>ì„œë²„ ì´ë¦„: <%= request.getServerName() %></li>
        <li>ì„œë²„ í¬íŠ¸: <%= request.getServerPort() %></li>
    </ul>
</body>
</html>
```

**íŒŒì¼ ê¶Œí•œ ì„¤ì •:**
```bash
# ì†Œìœ ìë¥¼ tomcat10ìœ¼ë¡œ ë³€ê²½
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/webapps/ROOT/test.jsp

# ì½ê¸° ê¶Œí•œ ì„¤ì •
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/test.jsp

# íŒŒì¼ í™•ì¸
ls -l /var/lib/tomcat10/webapps/ROOT/test.jsp
# ì¶œë ¥: -rw-r--r-- 1 tomcat10 tomcat10 567 Dec 17 11:10 test.jsp
```

**ì ‘ì† í…ŒìŠ¤íŠ¸:**
```bash
# curlë¡œ í…ŒìŠ¤íŠ¸
curl http://localhost:8080/test.jsp

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†:
# http://192.168.186.129:8080/test.jsp
```

### JSP ë™ì‘ ì›ë¦¬

```mermaid
sequenceDiagram
    participant C as Client
    participant T as Tomcat
    participant JSP as JSP Engine
    participant S as Servlet

    C->>T: test.jsp ìš”ì²­
    T->>JSP: JSP íŒŒì¼ ì „ë‹¬
    Note over JSP: ì²« ìš”ì²­ ì‹œ<br/>ì„œë¸”ë¦¿ìœ¼ë¡œ ë³€í™˜
    JSP->>S: test_jsp.java ìƒì„±<br/>ë° ì»´íŒŒì¼
    Note over S: test_jsp.class<br/>ìƒì„±
    S->>T: ì„œë¸”ë¦¿ ì‹¤í–‰
    T->>C: HTML ì‘ë‹µ

    Note over C,T: ë‘ ë²ˆì§¸ ìš”ì²­ë¶€í„°ëŠ”<br/>ì»´íŒŒì¼ëœ ì„œë¸”ë¦¿ ì¬ì‚¬ìš©
```

**JSP ì»´íŒŒì¼ëœ íŒŒì¼ í™•ì¸:**
```bash
# work ë””ë ‰í† ë¦¬ì—ì„œ ì»´íŒŒì¼ëœ ì„œë¸”ë¦¿ í™•ì¸
find /var/lib/tomcat10/work -name "*test_jsp*"

# ì¶œë ¥ ì˜ˆì‹œ:
/var/lib/tomcat10/work/Catalina/localhost/ROOT/org/apache/jsp/test_jsp.java
/var/lib/tomcat10/work/Catalina/localhost/ROOT/org/apache/jsp/test_jsp.class

# Java ì†ŒìŠ¤ í™•ì¸
sudo cat /var/lib/tomcat10/work/Catalina/localhost/ROOT/org/apache/jsp/test_jsp.java | head -n 30

# ì¶œë ¥ (ì¼ë¶€):
package org.apache.jsp;
import jakarta.servlet.*;
import jakarta.servlet.http.*;
import jakarta.servlet.jsp.*;
public final class test_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {
  ...
}
```

### HTML ë¡œê·¸ì¸ í¼ ìƒì„±

**ë¡œê·¸ì¸ í˜ì´ì§€ ìƒì„±:**
```bash
sudo nano /var/lib/tomcat10/webapps/ROOT/login.html
```

**login.html ë‚´ìš©:**
```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œê·¸ì¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .login-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            width: 300px;
        }
        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }
        input[type="text"],
        input[type="password"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 14px;
        }
        input[type="submit"] {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
        }
        input[type="submit"]:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="login-container">
        <h2>ë¡œê·¸ì¸</h2>
        <form action="login.jsp" method="post">
            <div class="form-group">
                <label for="username">ì‚¬ìš©ì ì´ë¦„</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="password" name="password" required>
            </div>
            <input type="submit" value="ë¡œê·¸ì¸">
        </form>
    </div>
</body>
</html>
```

**ê¶Œí•œ ì„¤ì •:**
```bash
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/webapps/ROOT/login.html
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/login.html
```

**ì ‘ì† í…ŒìŠ¤íŠ¸:**
```
http://192.168.186.129:8080/login.html
```

### GET vs POST ë©”ì„œë“œ

**GET ë©”ì„œë“œ:**
```html
<!-- URLì— ë°ì´í„°ê°€ ë…¸ì¶œë¨ -->
<form action="login.jsp" method="get">
    <input type="text" name="username">
    <input type="password" name="password">
    <input type="submit">
</form>

<!-- ì „ì†¡ ì‹œ URL:
     http://example.com/login.jsp?username=admin&password=1234
-->
```

**GETì˜ íŠ¹ì§•:**
- URLì— íŒŒë¼ë¯¸í„°ê°€ ë…¸ì¶œë¨
- ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ì— ë‚¨ìŒ
- ë¶ë§ˆí¬ ê°€ëŠ¥
- ë°ì´í„° ê¸¸ì´ ì œí•œ (ì•½ 2KB)
- ë©±ë“±ì„± (ì—¬ëŸ¬ ë²ˆ ìš”ì²­í•´ë„ ê°™ì€ ê²°ê³¼)
- ì¡°íšŒ(Read) ì‘ì—…ì— ì í•©

**POST ë©”ì„œë“œ:**
```html
<!-- HTTP Bodyì— ë°ì´í„°ê°€ í¬í•¨ë¨ (URLì— ë…¸ì¶œ ì•ˆ ë¨) -->
<form action="login.jsp" method="post">
    <input type="text" name="username">
    <input type="password" name="password">
    <input type="submit">
</form>

<!-- ì „ì†¡ ì‹œ URL:
     http://example.com/login.jsp
     (íŒŒë¼ë¯¸í„°ëŠ” HTTP Bodyì— í¬í•¨)
-->
```

**POSTì˜ íŠ¹ì§•:**
- URLì— íŒŒë¼ë¯¸í„°ê°€ ë…¸ì¶œë˜ì§€ ì•ŠìŒ
- ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ì— ë°ì´í„°ê°€ ë‚¨ì§€ ì•ŠìŒ
- ë¶ë§ˆí¬ ë¶ˆê°€
- ë°ì´í„° ê¸¸ì´ ì œí•œ ì—†ìŒ
- ë¹„ë©±ë“±ì„± (ìš”ì²­ë§ˆë‹¤ ì„œë²„ ìƒíƒœ ë³€ê²½ ê°€ëŠ¥)
- ìƒì„±(Create), ìˆ˜ì •(Update), ì‚­ì œ(Delete) ì‘ì—…ì— ì í•©

**ğŸ’¡ ë³´ì•ˆ ê´€ì :**
- ë¡œê·¸ì¸ í¼ì€ ë°˜ë“œì‹œ POST ì‚¬ìš© (ë¹„ë°€ë²ˆí˜¸ ë³´í˜¸)
- GETì€ ë¯¼ê°í•œ ì •ë³´ ì „ì†¡ì— ë¶€ì í•© (URLì— ë…¸ì¶œ)
- HTTPS ì‚¬ìš© ê¶Œì¥ (ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ ë°©ì§€)

## ğŸ“Š Tomcat ë¡œê·¸ í™•ì¸

### ì£¼ìš” ë¡œê·¸ íŒŒì¼

```bash
# ë¡œê·¸ ë””ë ‰í† ë¦¬ í™•ì¸
ls -lh /var/log/tomcat10/

# ì¶œë ¥ ì˜ˆì‹œ:
-rw-r----- 1 tomcat10 adm   1.2K Dec 17 11:00 catalina.2025-12-17.log
-rw-r----- 1 tomcat10 adm    45K Dec 17 11:05 catalina.out
-rw-r----- 1 tomcat10 adm   567B Dec 17 11:00 localhost.2025-12-17.log
-rw-r----- 1 tomcat10 adm   2.3K Dec 17 11:05 localhost_access_log.2025-12-17.txt

# ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
sudo tail -f /var/log/tomcat10/catalina.out

# ì¶œë ¥ ì˜ˆì‹œ:
17-Dec-2025 11:00:00.123 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [3456] milliseconds
17-Dec-2025 11:05:23.456 INFO [http-nio-8080-exec-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring DispatcherServlet 'dispatcher'
```

**ë¡œê·¸ íŒŒì¼ë³„ ì„¤ëª…:**

**1. catalina.out**
- Tomcatì˜ í‘œì¤€ ì¶œë ¥/ì—ëŸ¬
- ì‹œìŠ¤í…œ ë ˆë²¨ ë¡œê·¸
- ì„œë²„ ì‹œì‘/ì¢…ë£Œ ë©”ì‹œì§€

```bash
# ìµœê·¼ 50ì¤„ í™•ì¸
sudo tail -n 50 /var/log/tomcat10/catalina.out

# ì—ëŸ¬ë§Œ í™•ì¸
sudo grep "ERROR" /var/log/tomcat10/catalina.out

# íŠ¹ì • ë‚ ì§œ ë¡œê·¸ í™•ì¸
sudo grep "17-Dec-2025" /var/log/tomcat10/catalina.out
```

**2. catalina.YYYY-MM-DD.log**
- ë‚ ì§œë³„ Tomcat ë‚´ë¶€ ë¡œê·¸
- Catalina ì—”ì§„ ê´€ë ¨ ë©”ì‹œì§€

**3. localhost.YYYY-MM-DD.log**
- ê°€ìƒ í˜¸ìŠ¤íŠ¸(localhost) ê´€ë ¨ ë¡œê·¸
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬/í•´ì œ ë©”ì‹œì§€

**4. localhost_access_log.YYYY-MM-DD.txt**
- HTTP ì ‘ê·¼ ë¡œê·¸ (Apacheì˜ access.logì™€ ìœ ì‚¬)

```bash
# ì ‘ê·¼ ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/tomcat10/localhost_access_log.2025-12-17.txt

# ì¶œë ¥ ì˜ˆì‹œ:
192.168.186.1 - - [17/Dec/2025:11:05:23 +0900] "GET /test.jsp HTTP/1.1" 200 1234
192.168.186.1 - - [17/Dec/2025:11:05:30 +0900] "GET /login.html HTTP/1.1" 200 567
192.168.186.1 - - [17/Dec/2025:11:05:45 +0900] "POST /login.jsp HTTP/1.1" 200 890
```

### journalctlì„ í†µí•œ ë¡œê·¸ í™•ì¸

```bash
# Tomcat ì„œë¹„ìŠ¤ ë¡œê·¸
sudo journalctl -u tomcat10

# ìµœê·¼ ë¡œê·¸ë§Œ
sudo journalctl -u tomcat10 -n 50

# ì‹¤ì‹œê°„ ë¡œê·¸
sudo journalctl -u tomcat10 -f

# íŠ¹ì • ì‹œê°„ ì´í›„
sudo journalctl -u tomcat10 --since "2025-12-17 11:00:00"

# ì˜¤ëŠ˜ì˜ ë¡œê·¸ë§Œ
sudo journalctl -u tomcat10 --since today

# ì—ëŸ¬ë§Œ í™•ì¸
sudo journalctl -u tomcat10 -p err
```

## ğŸ”§ Tomcat ê´€ë¦¬ ëª…ë ¹ì–´

### ì„œë¹„ìŠ¤ ê´€ë¦¬

```bash
# Tomcat ì‹œì‘
sudo systemctl start tomcat10

# Tomcat ì¤‘ì§€
sudo systemctl stop tomcat10

# Tomcat ì¬ì‹œì‘
sudo systemctl restart tomcat10

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status tomcat10

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
sudo systemctl enable tomcat10

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ í•´ì œ
sudo systemctl disable tomcat10

# ì„œë¹„ìŠ¤ í™œì„±í™” ì—¬ë¶€ í™•ì¸
systemctl is-enabled tomcat10

# ì„œë¹„ìŠ¤ ì‹¤í–‰ ì—¬ë¶€ í™•ì¸
systemctl is-active tomcat10
```

### ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ë°°í¬

```bash
# JSP íŒŒì¼ ìˆ˜ì • í›„ ìë™ ë°˜ì˜ í™•ì¸
# Tomcatì€ ê¸°ë³¸ì ìœ¼ë¡œ íŒŒì¼ ë³€ê²½ì„ ê°ì§€í•˜ì—¬ ìë™ ë¦¬ë¡œë“œ

# ê°•ì œ ë¦¬ë¡œë“œê°€ í•„ìš”í•œ ê²½ìš°
sudo systemctl restart tomcat10

# ë˜ëŠ” íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ë§Œ ë¦¬ë¡œë“œ
# (manager ì•± ì„¤ì¹˜ ë° ì„¤ì • í•„ìš”)

# work ë””ë ‰í† ë¦¬ ì‚­ì œ (ì»´íŒŒì¼ëœ JSP ì¬ìƒì„±)
sudo rm -rf /var/lib/tomcat10/work/Catalina/localhost/ROOT/*
sudo systemctl restart tomcat10
```

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°

**1. Tomcat ì‹œì‘ ì‹¤íŒ¨**
```bash
# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status tomcat10

# ë¡œê·¸ í™•ì¸
sudo journalctl -u tomcat10 -n 100
sudo tail -n 100 /var/log/tomcat10/catalina.out

# ì¼ë°˜ì ì¸ ì›ì¸:
# - Javaê°€ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ
java -version

# - 8080 í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘
sudo ss -tuln | grep :8080
sudo lsof -i :8080

# - ê¶Œí•œ ë¬¸ì œ
sudo chown -R tomcat10:tomcat10 /var/lib/tomcat10
sudo chmod -R 755 /var/lib/tomcat10/webapps
```

**2. JSP í˜ì´ì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ (404 ì˜¤ë¥˜)**
```bash
# íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -l /var/lib/tomcat10/webapps/ROOT/*.jsp

# íŒŒì¼ ê¶Œí•œ í™•ì¸
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/*.jsp

# Tomcat ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/tomcat10/catalina.out
sudo tail -f /var/log/tomcat10/localhost.*.log

# Tomcat ì¬ì‹œì‘
sudo systemctl restart tomcat10
```

**3. JSP ì»´íŒŒì¼ ì˜¤ë¥˜ (500 ì˜¤ë¥˜)**
```bash
# ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸ (ë¸Œë¼ìš°ì €ì— í‘œì‹œë¨)
# ì¼ë°˜ì ì¸ ì›ì¸:
# - JSP ë¬¸ë²• ì˜¤ë¥˜
# - ëˆ„ë½ëœ import ë¬¸
# - ì˜ëª»ëœ EL í‘œí˜„ì‹

# work ë””ë ‰í† ë¦¬ì—ì„œ ì»´íŒŒì¼ ì˜¤ë¥˜ í™•ì¸
sudo tail -f /var/log/tomcat10/catalina.out

# work ë””ë ‰í† ë¦¬ ì‚­ì œ í›„ ì¬ì»´íŒŒì¼
sudo rm -rf /var/lib/tomcat10/work/Catalina/localhost/ROOT/*
# ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ ì¬ìš”ì²­
```

**4. ë©”ëª¨ë¦¬ ë¶€ì¡± (OutOfMemoryError)**
```bash
# Tomcat ë©”ëª¨ë¦¬ ì„¤ì • ë³€ê²½
sudo nano /etc/default/tomcat10

# ë‹¤ìŒ ì¤„ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •:
CATALINA_OPTS="-Xms512M -Xmx1024M -XX:MaxPermSize=256M"
# -Xms: ì´ˆê¸° í™ ë©”ëª¨ë¦¬
# -Xmx: ìµœëŒ€ í™ ë©”ëª¨ë¦¬
# -XX:MaxPermSize: ìµœëŒ€ Perm Gen ë©”ëª¨ë¦¬ (Java 7 ì´í•˜)

# Tomcat ì¬ì‹œì‘
sudo systemctl restart tomcat10

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
ps aux | grep tomcat
top -p $(pgrep -f tomcat)
```

**5. ëŠë¦° ì‘ë‹µ ì‹œê°„**
```bash
# ìŠ¤ë ˆë“œ í’€ ì„¤ì • í™•ì¸
sudo cat /var/lib/tomcat10/conf/server.xml | grep Connector

# Connector ì„¤ì • ìµœì í™”
<Connector port="8080" protocol="HTTP/1.1"
           connectionTimeout="20000"
           maxThreads="200"           <!-- ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜ -->
           minSpareThreads="25"       <!-- ìµœì†Œ ìœ íœ´ ìŠ¤ë ˆë“œ -->
           maxConnections="10000"     <!-- ìµœëŒ€ ì—°ê²° ìˆ˜ -->
           acceptCount="100"          <!-- ëŒ€ê¸° í í¬ê¸° -->
           redirectPort="8443" />

# ì„¤ì • ë³€ê²½ í›„ ì¬ì‹œì‘
sudo systemctl restart tomcat10
```

## âœ… í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì„¤ì¹˜ ë° ì„¤ì •:**
- [ ] Javaë¥¼ ì„¤ì¹˜í•˜ê³  ë²„ì „ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] JAVA_HOME í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] Tomcat10ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] Tomcat ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘/ì¤‘ì§€/ì¬ì‹œì‘í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] Tomcatì´ 8080 í¬íŠ¸ë¡œ ë¦¬ìŠ¤ë‹í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?

**ë””ë ‰í† ë¦¬ êµ¬ì¡°:**
- [ ] webapps ë””ë ‰í† ë¦¬ì˜ ìœ„ì¹˜ë¥¼ ì•Œê³  ìˆëŠ”ê°€?
- [ ] ROOT ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¬´ì—‡ì¸ì§€ ì´í•´í•˜ëŠ”ê°€?
- [ ] ë¡œê·¸ íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì•Œê³  ìˆëŠ”ê°€?
- [ ] work ë””ë ‰í† ë¦¬ì˜ ì—­í• ì„ ì´í•´í•˜ëŠ”ê°€?

**JSP ë°°í¬:**
- [ ] JSP íŒŒì¼ì„ ìƒì„±í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] JSP ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•˜ëŠ”ê°€? (ì„œë¸”ë¦¿ ë³€í™˜)
- [ ] HTML í¼ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] GETê³¼ POSTì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ëŠ”ê°€?

**ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§:**
- [ ] catalina.out ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ì ‘ê·¼ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] journalctlë¡œ Tomcat ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?

**ë¬¸ì œ í•´ê²°:**
- [ ] Tomcat ì‹œì‘ ì‹¤íŒ¨ ì‹œ ì›ì¸ì„ ì°¾ì„ ìˆ˜ ìˆëŠ”ê°€?
- [ ] 404/500 ì˜¤ë¥˜ë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] í¬íŠ¸ ì¶©ëŒì„ í•´ê²°í•  ìˆ˜ ìˆëŠ”ê°€?


**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ”** MariaDB ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ê³  ì›ê²© ì ‘ì†ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤.
# Section 5: ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ êµ¬ì¶• (MariaDB)

## ğŸ—„ï¸ MariaDB ì†Œê°œ

### MariaDBë€?

MariaDBëŠ” MySQLì˜ ì°½ì‹œìì¸ Michael "Monty" Wideniusê°€ Oracleì˜ MySQL ì¸ìˆ˜ í›„ ë§Œë“  ì˜¤í”ˆ ì†ŒìŠ¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(RDBMS)ì´ë‹¤. MySQLê³¼ ë†’ì€ í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„ ë” ë§ì€ ê¸°ëŠ¥ê³¼ ê°œì„ ì‚¬í•­ì„ ì œê³µí•œë‹¤.

**MariaDBì˜ íŠ¹ì§•:**
- MySQLê³¼ì˜ ë†’ì€ í˜¸í™˜ì„± (ë“œë¡­ì¸ ëŒ€ì²´ ê°€ëŠ¥)
- ì™„ì „í•œ ì˜¤í”ˆ ì†ŒìŠ¤ (GPL ë¼ì´ì„ ìŠ¤)
- ë” ë¹ ë¥¸ ì„±ëŠ¥
- ë” ë§ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì§€ì›
- í™œë°œí•œ ê°œë°œ ì»¤ë®¤ë‹ˆí‹°
- ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ëŠ¥ ë¬´ë£Œ ì œê³µ

**MySQL vs MariaDB:**

| íŠ¹ì§• | MySQL | MariaDB |
|------|-------|---------|
| ë¼ì´ì„ ìŠ¤ | GPL (ì¼ë¶€ ìƒìš©) | GPL (ì™„ì „ ì˜¤í”ˆì†ŒìŠ¤) |
| ì†Œìœ  | Oracle | MariaDB Foundation |
| ìŠ¤í† ë¦¬ì§€ ì—”ì§„ | InnoDB, MyISAM ë“± | ë” ë§ì€ ì—”ì§„ ì§€ì› |
| í˜¸í™˜ì„± | - | MySQLê³¼ í˜¸í™˜ |
| ì„±ëŠ¥ | ì¢‹ìŒ | ë” ì¢‹ìŒ |

### 3ê³„ì¸µ ì•„í‚¤í…ì²˜ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì—­í• 

```mermaid
graph LR
    A[Presentation<br/>Layer] --> B[Application<br/>Layer]
    B --> C[Data<br/>Layer]

    A1[Web Server<br/>nginx] --> A
    B1[WAS<br/>Tomcat] --> B
    C1[Database<br/>MariaDB] --> C

    style C fill:#ffe1ff
    style C1 fill:#ffe1ff
```

**ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì—­í• :**
1. ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬
2. CRUD ì‘ì—… ì²˜ë¦¬ (Create, Read, Update, Delete)
3. ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
4. íŠ¸ëœì­ì…˜ ê´€ë¦¬ (ACID ì†ì„±)
5. ë™ì‹œì„± ì œì–´
6. ë°±ì—… ë° ë³µêµ¬
7. ë³´ì•ˆ ë° ì ‘ê·¼ ì œì–´

**ğŸ’¡ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³„ë„ ì„œë²„ë¡œ ë¶„ë¦¬í•˜ëŠ” ì´ìœ :**
- **í™•ì¥ì„±**: DB ë¶€í•˜ì— ë”°ë¼ ë…ë¦½ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼ì—…
- **ë³´ì•ˆ**: DBë¥¼ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì™„ì „íˆ ê²©ë¦¬
- **ì„±ëŠ¥**: DB ì „ìš© í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
- **ì•ˆì •ì„±**: DB ì¥ì• ê°€ ë‹¤ë¥¸ ê³„ì¸µì— ì˜í–¥ ìµœì†Œí™”
- **ê´€ë¦¬**: DB ë°±ì—…, ìœ ì§€ë³´ìˆ˜ ë…ë¦½ì  ìˆ˜í–‰

## ğŸ“¦ MariaDB ì„¤ì¹˜

### MariaDB ì„œë²„ ì„¤ì¹˜

```bash
# íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸
sudo apt update

# MariaDB ì„œë²„ ì„¤ì¹˜
sudo apt install mariadb-server -y

# ì„¤ì¹˜ ê³¼ì • ì¶œë ¥ ì˜ˆì‹œ:
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  galera-4 libconfig-inifiles-perl libdbd-mariadb-perl libdbi-perl
  libmariadb3 libterm-readkey-perl mariadb-client mariadb-client-core
  mariadb-common mariadb-server-core mysql-common socat
Suggested packages:
  libipc-sharedcache-perl libterm-readline-gnu-perl mailx tinyca
The following NEW packages will be installed:
  galera-4 libconfig-inifiles-perl libdbd-mariadb-perl libdbi-perl
  libmariadb3 libterm-readkey-perl mariadb-client mariadb-client-core
  mariadb-common mariadb-server mariadb-server-core mysql-common socat
0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
Need to get 24.5 MB of archives.
After this operation, 231 MB of additional disk space will be used.

# MariaDB ë²„ì „ í™•ì¸
mysql --version
# ì¶œë ¥: mysql  Ver 15.1 Distrib 10.11.8-MariaDB, for debian-linux-gnu (x86_64) using  EditLine wrapper

# ë˜ëŠ”
mariadb --version
# ì¶œë ¥: mariadb from 10.11.8-MariaDB, client 15.2 for debian-linux-gnu (x86_64) using  EditLine wrapper
```

**ğŸ’¡ ì£¼ì˜:** `mysql` ëª…ë ¹ì–´ì™€ `mariadb` ëª…ë ¹ì–´ëŠ” ë™ì¼í•˜ë‹¤. MariaDBëŠ” MySQLê³¼ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ ë‘ ëª…ë ¹ì–´ë¥¼ ëª¨ë‘ ì œê³µí•œë‹¤.

### MariaDB ì„œë¹„ìŠ¤ ì‹œì‘

```bash
# MariaDB ì„œë¹„ìŠ¤ ì‹œì‘
sudo systemctl start mariadb

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status mariadb

# ì¶œë ¥ ì˜ˆì‹œ:
â— mariadb.service - MariaDB 10.11.8 database server
     Loaded: loaded (/lib/systemd/system/mariadb.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2025-12-17 12:00:00 KST; 5s ago
       Docs: man:mariadbd(8)
             https://mariadb.com/kb/en/library/systemd/
    Process: 2345 ExecStartPre=/usr/bin/install -m 755 -o mysql -g root -d /var/run/mysqld (code=exited, status=0/SUCCESS)
    Process: 2346 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)
    Process: 2348 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] && VAR= ||   VAR=`cd /usr/bin/..; /usr/bin/galera_recovery`; [ $? -eq 0 ]   && systemctl set-environment _WSREP_START_POSITION=$VAR || exit 1 (code=exited, status=0/SUCCESS)
    Process: 2391 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)
    Process: 2393 ExecStartPost=/etc/mysql/debian-start (code=exited, status=0/SUCCESS)
   Main PID: 2371 (mariadbd)
     Status: "Taking your SQL requests now..."
      Tasks: 9 (limit: 4558)
     Memory: 84.3M
        CPU: 567ms
     CGroup: /system.slice/mariadb.service
             â””â”€2371 /usr/sbin/mariadbd

Dec 17 12:00:00 dbserver systemd[1]: Starting MariaDB 10.11.8 database server...
Dec 17 12:00:00 dbserver mariadbd[2371]: 2025-12-17 12:00:00 0 [Note] /usr/sbin/mariadbd (server 10.11.8-MariaDB-0ubuntu0.24.04.1) starting as process 2371 ...
Dec 17 12:00:00 dbserver systemd[1]: Started MariaDB 10.11.8 database server.

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
sudo systemctl enable mariadb

# í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep mariadb

# ì¶œë ¥ ì˜ˆì‹œ:
mysql     2371  0.1  2.8 1789456 123456 ?      Ssl  12:00   0:00 /usr/sbin/mariadbd

# í¬íŠ¸ í™•ì¸
sudo ss -tuln | grep :3306

# ì¶œë ¥:
tcp   LISTEN 0      80     127.0.0.1:3306     0.0.0.0:*
# â†‘ ê¸°ë³¸ì ìœ¼ë¡œ localhost(127.0.0.1)ë§Œ ë¦¬ìŠ¤ë‹

# lsofë¡œ í™•ì¸
sudo lsof -i :3306

# ì¶œë ¥:
COMMAND   PID  USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
mariadbd 2371 mysql   18u  IPv4  12345      0t0  TCP localhost:mysql (LISTEN)
```

### MariaDB ë³´ì•ˆ ì„¤ì •

**mysql_secure_installation ì‹¤í–‰:**
```bash
sudo mysql_secure_installation

# ëŒ€í™”í˜• í”„ë¡¬í”„íŠ¸:

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB
      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!

Enter current password for root (enter for none): [Enter í‚¤]
# ì´ˆê¸°ì—ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì—†ìŒ

Switch to unix_socket authentication [Y/n] n
# Unix ì†Œì¼“ ì¸ì¦ ì‚¬ìš© ì—¬ë¶€ (ì¼ë°˜ì ìœ¼ë¡œ n)

Change the root password? [Y/n] Y
# root ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
New password: ********
Re-enter new password: ********
Password updated successfully!

Remove anonymous users? [Y/n] Y
# ìµëª… ì‚¬ìš©ì ì œê±° (ë³´ì•ˆìƒ ê¶Œì¥)
 ... Success!

Disallow root login remotely? [Y/n] Y
# root ì›ê²© ë¡œê·¸ì¸ ì°¨ë‹¨ (ë³´ì•ˆìƒ ê¶Œì¥)
 ... Success!

Remove test database and access to it? [Y/n] Y
# í…ŒìŠ¤íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ ì œê±°
 - Dropping test database...
 ... Success!
 - Removing privileges on test database...
 ... Success!

Reload privilege tables now? [Y/n] Y
# ê¶Œí•œ í…Œì´ë¸” ë¦¬ë¡œë“œ
 ... Success!

Cleaning up...

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!
```

## ğŸ”Œ MariaDB ì ‘ì†

### ë¡œì»¬ ì ‘ì†

```bash
# root ì‚¬ìš©ìë¡œ MariaDB ì ‘ì†
sudo mysql -u root -p

# ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ í”„ë¡¬í”„íŠ¸ í‘œì‹œ:
Enter password: ********

Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 35
Server version: 10.11.8-MariaDB-0ubuntu0.24.04.1 Ubuntu 24.04

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> _

# ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª…ë ¹ì¤„ì— í¬í•¨ (ë³´ì•ˆìƒ ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
sudo mysql -u root -pë¹„ë°€ë²ˆí˜¸

# sudo ì—†ì´ ì ‘ì† (Unix ì†Œì¼“ ì¸ì¦ ì‚¬ìš© ì‹œ)
sudo mysql
```

**ê¸°ë³¸ SQL ëª…ë ¹ì–´:**
```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ í™•ì¸
SHOW DATABASES;

-- ì¶œë ¥:
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.001 sec)

-- í˜„ì¬ ì‚¬ìš©ì í™•ì¸
SELECT USER();

-- ì¶œë ¥:
+----------------+
| USER()         |
+----------------+
| root@localhost |
+----------------+
1 row in set (0.000 sec)

-- MariaDB ë²„ì „ í™•ì¸
SELECT VERSION();

-- ì¶œë ¥:
+-----------------------------------------+
| VERSION()                               |
+-----------------------------------------+
| 10.11.8-MariaDB-0ubuntu0.24.04.1        |
+-----------------------------------------+
1 row in set (0.000 sec)

-- í˜„ì¬ ì‹œê°„ í™•ì¸
SELECT NOW();

-- ì¶œë ¥:
+---------------------+
| NOW()               |
+---------------------+
| 2025-12-17 12:05:30 |
+---------------------+
1 row in set (0.000 sec)

-- ì ‘ì† ì¢…ë£Œ
EXIT;
-- ë˜ëŠ”
QUIT;
-- ë˜ëŠ”
\q
```

## ğŸŒ ì›ê²© ì ‘ì† ì„¤ì •

### bind-address ë³€ê²½

ê¸°ë³¸ì ìœ¼ë¡œ MariaDBëŠ” ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ localhost(127.0.0.1)ì—ì„œë§Œ ì—°ê²°ì„ ìˆ˜ì‹ í•œë‹¤. ì›ê²© ì ‘ì†ì„ í—ˆìš©í•˜ë ¤ë©´ ì„¤ì •ì„ ë³€ê²½í•´ì•¼ í•œë‹¤.

```bash
# MariaDB ì„¤ì • íŒŒì¼ ìœ„ì¹˜ í™•ì¸
sudo find /etc/mysql -name "*.cnf" -type f

# ì¶œë ¥:
/etc/mysql/my.cnf
/etc/mysql/mariadb.cnf
/etc/mysql/conf.d/mysql.cnf
/etc/mysql/mariadb.conf.d/50-client.cnf
/etc/mysql/mariadb.conf.d/50-mysql-clients.cnf
/etc/mysql/mariadb.conf.d/50-mysqldump.cnf
/etc/mysql/mariadb.conf.d/50-server.cnf    â† ì´ íŒŒì¼ ìˆ˜ì •

# ì„œë²„ ì„¤ì • íŒŒì¼ ë°±ì—…
sudo cp /etc/mysql/mariadb.conf.d/50-server.cnf /etc/mysql/mariadb.conf.d/50-server.cnf.backup

# ì„¤ì • íŒŒì¼ í¸ì§‘
sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf
```

**50-server.cnf íŒŒì¼ì—ì„œ bind-address ì°¾ê¸°:**
```ini
# ì›ë˜ ì„¤ì • (localhostë§Œ í—ˆìš©):
[mysqld]
bind-address = 127.0.0.1

# ë³€ê²½ í›„ (ëª¨ë“  IPì—ì„œ ì ‘ì† í—ˆìš©):
[mysqld]
bind-address = 0.0.0.0

# ë˜ëŠ” íŠ¹ì • IPë§Œ í—ˆìš©:
[mysqld]
bind-address = 192.168.186.130
```

**ğŸ’¡ bind-address ì„¤ëª…:**
- `127.0.0.1`: localhostë§Œ ì ‘ì† ê°€ëŠ¥
- `0.0.0.0`: ëª¨ë“  IPì—ì„œ ì ‘ì† ê°€ëŠ¥
- `192.168.186.130`: íŠ¹ì • IP ì¸í„°í˜ì´ìŠ¤ë§Œ ë¦¬ìŠ¤ë‹

**ì„¤ì • ì ìš©:**
```bash
# ë³€ê²½ ë‚´ìš© í™•ì¸
sudo grep "bind-address" /etc/mysql/mariadb.conf.d/50-server.cnf

# ì¶œë ¥:
bind-address = 0.0.0.0

# MariaDB ì¬ì‹œì‘
sudo systemctl restart mariadb

# ì¬ì‹œì‘ í™•ì¸
sudo systemctl status mariadb

# í¬íŠ¸ í™•ì¸ (0.0.0.0ìœ¼ë¡œ ë¦¬ìŠ¤ë‹)
sudo ss -tuln | grep :3306

# ì¶œë ¥:
tcp   LISTEN 0      80     0.0.0.0:3306     0.0.0.0:*
#                    â†‘ ëª¨ë“  IPì—ì„œ ì ‘ì† ê°€ëŠ¥
```

### ì›ê²© ì ‘ì† ì‚¬ìš©ì ìƒì„±

```bash
# MariaDB ì ‘ì†
sudo mysql -u root -p
```

**ì‚¬ìš©ì ìƒì„± ë° ê¶Œí•œ ë¶€ì—¬:**
```sql
-- CloudDB ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ (ê¸°ì¡´ ê²ƒì´ ìˆë‹¤ë©´)
DROP DATABASE IF EXISTS CloudDB;

-- CloudDB ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE CloudDB;

-- ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
SHOW DATABASES;

-- CloudDB ì‚¬ìš©
USE CloudDB;

-- í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
SELECT DATABASE();

-- ì¶œë ¥:
+------------+
| DATABASE() |
+------------+
| CloudDB    |
+------------+

-- ì›ê²© ì ‘ì† ì‚¬ìš©ì ìƒì„±
-- '%'ëŠ” ëª¨ë“  IPì—ì„œ ì ‘ì† ê°€ëŠ¥ì„ ì˜ë¯¸
CREATE USER 'clouduser'@'%' IDENTIFIED BY 'password123';

-- ë˜ëŠ” íŠ¹ì • IP/ë„¤íŠ¸ì›Œí¬ë§Œ í—ˆìš©
CREATE USER 'clouduser'@'192.168.186.%' IDENTIFIED BY 'password123';
-- 192.168.186.0/24 ë„¤íŠ¸ì›Œí¬ë§Œ í—ˆìš©

-- ë˜ëŠ” íŠ¹ì • í˜¸ìŠ¤íŠ¸ë§Œ í—ˆìš©
CREATE USER 'clouduser'@'192.168.186.129' IDENTIFIED BY 'password123';
-- WAS ì„œë²„ë§Œ í—ˆìš©

-- ì‚¬ìš©ìì—ê²Œ CloudDB ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  ê¶Œí•œ ë¶€ì—¬
GRANT ALL PRIVILEGES ON CloudDB.* TO 'clouduser'@'%';

-- íŠ¹ì • ê¶Œí•œë§Œ ë¶€ì—¬í•˜ëŠ” ë°©ë²•:
-- GRANT SELECT, INSERT, UPDATE, DELETE ON CloudDB.* TO 'clouduser'@'%';

-- ê¶Œí•œ í…Œì´ë¸” ë¦¬ë¡œë“œ (ë³€ê²½ì‚¬í•­ ì¦‰ì‹œ ì ìš©)
FLUSH PRIVILEGES;

-- ì‚¬ìš©ì ëª©ë¡ í™•ì¸
SELECT User, Host FROM mysql.user;

-- ì¶œë ¥ ì˜ˆì‹œ:
+-------------+---------------+
| User        | Host          |
+-------------+---------------+
| clouduser   | %             |
| mariadb.sys | localhost     |
| mysql       | localhost     |
| root        | localhost     |
+-------------+---------------+

-- ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
SHOW GRANTS FOR 'clouduser'@'%';

-- ì¶œë ¥:
+--------------------------------------------------+
| Grants for clouduser@%                           |
+--------------------------------------------------+
| GRANT USAGE ON *.* TO `clouduser`@`%`            |
| GRANT ALL PRIVILEGES ON `CloudDB`.* TO `clouduser`@`%` |
+--------------------------------------------------+
```

**ğŸ’¡ ê¶Œí•œ ë ˆë²¨:**
- `*.*`: ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  í…Œì´ë¸”
- `CloudDB.*`: CloudDB ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  í…Œì´ë¸”
- `CloudDB.UserInfo`: CloudDB ë°ì´í„°ë² ì´ìŠ¤ì˜ UserInfo í…Œì´ë¸”ë§Œ

**ğŸ’¡ ì£¼ìš” ê¶Œí•œ ì¢…ë¥˜:**
- `ALL PRIVILEGES`: ëª¨ë“  ê¶Œí•œ
- `SELECT`: ì½ê¸°
- `INSERT`: ì‚½ì…
- `UPDATE`: ìˆ˜ì •
- `DELETE`: ì‚­ì œ
- `CREATE`: í…Œì´ë¸”/DB ìƒì„±
- `DROP`: í…Œì´ë¸”/DB ì‚­ì œ
- `ALTER`: í…Œì´ë¸” êµ¬ì¡° ë³€ê²½
- `INDEX`: ì¸ë±ìŠ¤ ìƒì„±/ì‚­ì œ

### ì›ê²© ì ‘ì† í…ŒìŠ¤íŠ¸

**WAS ì„œë²„(192.168.186.129)ì—ì„œ í…ŒìŠ¤íŠ¸:**
```bash
# WAS ì„œë²„ì— MySQL í´ë¼ì´ì–¸íŠ¸ ì„¤ì¹˜
sudo apt install mysql-client -y

# DB ì„œë²„ë¡œ ì ‘ì† í…ŒìŠ¤íŠ¸
mysql -h 192.168.186.130 -u clouduser -p

# ë¹„ë°€ë²ˆí˜¸ ì…ë ¥:
Enter password: password123

# ì„±ê³µ ì‹œ ì¶œë ¥:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 40
Server version: 10.11.8-MariaDB-0ubuntu0.24.04.1 Ubuntu 24.04

Copyright (c) 2000, 2024, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> _

# ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
mysql> SHOW DATABASES;

# ì¶œë ¥:
+--------------------+
| Database           |
+--------------------+
| CloudDB            |
| information_schema |
+--------------------+

# ì ‘ì† ì¢…ë£Œ
mysql> EXIT;
```

**ì ‘ì† ì‹¤íŒ¨ ì‹œ ì›ì¸ í™•ì¸:**
```bash
# 1. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
ping 192.168.186.130

# 2. í¬íŠ¸ í™•ì¸
telnet 192.168.186.130 3306
# ë˜ëŠ”
nc -zv 192.168.186.130 3306

# 3. ë°©í™”ë²½ í™•ì¸
sudo ufw status

# 4. MariaDB ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/mysql/error.log
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ìƒì„±

### UserInfo í…Œì´ë¸” ìƒì„±

```sql
-- MariaDB ì ‘ì† (DB ì„œë²„ì—ì„œ)
sudo mysql -u root -p

-- CloudDB ì‚¬ìš©
USE CloudDB;

-- UserInfo í…Œì´ë¸” ìƒì„±
CREATE TABLE UserInfo (
    uid INT PRIMARY KEY AUTO_INCREMENT,
    uname VARCHAR(20) NOT NULL,
    pass VARCHAR(128) NOT NULL,
    profile VARCHAR(200),
    priority INT DEFAULT 0
);

-- í…Œì´ë¸” ëª©ë¡ í™•ì¸
SHOW TABLES;

-- ì¶œë ¥:
+-------------------+
| Tables_in_CloudDB |
+-------------------+
| UserInfo          |
+-------------------+

-- í…Œì´ë¸” êµ¬ì¡° í™•ì¸
DESC UserInfo;

-- ì¶œë ¥:
+----------+--------------+------+-----+---------+----------------+
| Field    | Type         | Null | Key | Default | Extra          |
+----------+--------------+------+-----+---------+----------------+
| uid      | int(11)      | NO   | PRI | NULL    | auto_increment |
| uname    | varchar(20)  | NO   |     | NULL    |                |
| pass     | varchar(128) | NO   |     | NULL    |                |
| profile  | varchar(200) | YES  |     | NULL    |                |
| priority | int(11)      | YES  |     | 0       |                |
+----------+--------------+------+-----+---------+----------------+

-- ë˜ëŠ”
SHOW CREATE TABLE UserInfo\G

-- ì¶œë ¥:
*************************** 1. row ***************************
       Table: UserInfo
Create Table: CREATE TABLE `UserInfo` (
  `uid` int(11) NOT NULL AUTO_INCREMENT,
  `uname` varchar(20) NOT NULL,
  `pass` varchar(128) NOT NULL,
  `profile` varchar(200) DEFAULT NULL,
  `priority` int(11) DEFAULT 0,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci
```

**ì»¬ëŸ¼ ì„¤ëª…:**
- `uid`: ì‚¬ìš©ì ID (ìë™ ì¦ê°€ ê¸°ë³¸í‚¤)
- `uname`: ì‚¬ìš©ì ì´ë¦„ (ìµœëŒ€ 20ì, NULL ë¶ˆê°€)
- `pass`: ë¹„ë°€ë²ˆí˜¸ (ìµœëŒ€ 128ì, NULL ë¶ˆê°€)
- `profile`: í”„ë¡œí•„ ì •ë³´ (ìµœëŒ€ 200ì, NULL í—ˆìš©)
- `priority`: ìš°ì„ ìˆœìœ„ (ê¸°ë³¸ê°’ 0)

### í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚½ì…

```sql
-- í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ì¶”ê°€
INSERT INTO UserInfo (uname, pass, profile, priority) VALUES
('admin', '1234', 'Administrator', 100),
('user1', 'pass1', 'Regular User 1', 10),
('user2', 'pass2', 'Regular User 2', 10),
('guest', 'guest', 'Guest User', 1);

-- ì‚½ì… í™•ì¸
SELECT * FROM UserInfo;

-- ì¶œë ¥:
+-----+-------+-------+-----------------+----------+
| uid | uname | pass  | profile         | priority |
+-----+-------+-------+-----------------+----------+
|   1 | admin | 1234  | Administrator   |      100 |
|   2 | user1 | pass1 | Regular User 1  |       10 |
|   3 | user2 | pass2 | Regular User 2  |       10 |
|   4 | guest | guest | Guest User      |        1 |
+-----+-------+-------+-----------------+----------+
4 rows in set (0.001 sec)

-- íŠ¹ì • ì‚¬ìš©ì ì¡°íšŒ
SELECT * FROM UserInfo WHERE uname = 'admin';

-- ì¶œë ¥:
+-----+-------+------+---------------+----------+
| uid | uname | pass | profile       | priority |
+-----+-------+------+---------------+----------+
|   1 | admin | 1234 | Administrator |      100 |
+-----+-------+------+---------------+----------+

-- ì‚¬ìš©ìëª…ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì¸ì¦ (ë¡œê·¸ì¸ ì‹œë®¬ë ˆì´ì…˜)
SELECT * FROM UserInfo WHERE uname = 'admin' AND pass = '1234';

-- ì¶œë ¥:
+-----+-------+------+---------------+----------+
| uid | uname | pass | profile       | priority |
+-----+-------+------+---------------+----------+
|   1 | admin | 1234 | Administrator |      100 |
+-----+-------+------+---------------+----------+
1 row in set (0.001 sec)

-- ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‹œë„
SELECT * FROM UserInfo WHERE uname = 'admin' AND pass = 'wrong';

-- ì¶œë ¥:
Empty set (0.000 sec)
```

## ğŸ”§ CRUD ì‘ì—…

### CREATE (ë°ì´í„° ì‚½ì…)

```sql
-- ë‹¨ì¼ í–‰ ì‚½ì…
INSERT INTO UserInfo (uname, pass, profile, priority)
VALUES ('newuser', 'newpass', 'New User', 50);

-- ì—¬ëŸ¬ í–‰ ë™ì‹œ ì‚½ì…
INSERT INTO UserInfo (uname, pass, profile, priority) VALUES
('test1', 'test1', 'Test User 1', 5),
('test2', 'test2', 'Test User 2', 5),
('test3', 'test3', 'Test User 3', 5);

-- uid ìë™ ì¦ê°€ í™•ì¸
SELECT LAST_INSERT_ID();

-- íŠ¹ì • ì»¬ëŸ¼ë§Œ ì‚½ì… (ë‚˜ë¨¸ì§€ëŠ” ê¸°ë³¸ê°’ ë˜ëŠ” NULL)
INSERT INTO UserInfo (uname, pass) VALUES ('minimal', 'min123');
```

### READ (ë°ì´í„° ì¡°íšŒ)

```sql
-- ëª¨ë“  ë°ì´í„° ì¡°íšŒ
SELECT * FROM UserInfo;

-- íŠ¹ì • ì»¬ëŸ¼ë§Œ ì¡°íšŒ
SELECT uname, profile FROM UserInfo;

-- ì¡°ê±´ë¶€ ì¡°íšŒ
SELECT * FROM UserInfo WHERE priority >= 10;

-- ì •ë ¬
SELECT * FROM UserInfo ORDER BY priority DESC;

-- ìƒìœ„ Nê°œë§Œ ì¡°íšŒ
SELECT * FROM UserInfo ORDER BY priority DESC LIMIT 3;

-- íŒ¨í„´ ë§¤ì¹­ (LIKE)
SELECT * FROM UserInfo WHERE uname LIKE 'test%';

-- ê°œìˆ˜ ì„¸ê¸°
SELECT COUNT(*) FROM UserInfo;

-- ì¡°ê±´ë³„ ê°œìˆ˜
SELECT priority, COUNT(*) AS user_count
FROM UserInfo
GROUP BY priority
ORDER BY priority DESC;
```

### UPDATE (ë°ì´í„° ìˆ˜ì •)

```sql
-- íŠ¹ì • ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
UPDATE UserInfo SET pass = 'newpassword' WHERE uname = 'user1';

-- ì—¬ëŸ¬ ì»¬ëŸ¼ ë™ì‹œ ìˆ˜ì •
UPDATE UserInfo
SET pass = 'updated', profile = 'Updated User', priority = 20
WHERE uname = 'user2';

-- ì¡°ê±´ì— ë§ëŠ” ëª¨ë“  í–‰ ìˆ˜ì •
UPDATE UserInfo SET priority = priority + 10 WHERE priority < 50;

-- ì˜í–¥ë°›ì€ í–‰ ìˆ˜ í™•ì¸
-- Query OK, X rows affected
```

### DELETE (ë°ì´í„° ì‚­ì œ)

```sql
-- íŠ¹ì • ì‚¬ìš©ì ì‚­ì œ
DELETE FROM UserInfo WHERE uname = 'test3';

-- ì¡°ê±´ì— ë§ëŠ” ëª¨ë“  í–‰ ì‚­ì œ
DELETE FROM UserInfo WHERE priority < 5;

-- âš ï¸ ëª¨ë“  ë°ì´í„° ì‚­ì œ (ì£¼ì˜!)
DELETE FROM UserInfo;

-- í…Œì´ë¸” ì´ˆê¸°í™” (ë” ë¹ ë¦„, AUTO_INCREMENT ë¦¬ì…‹)
TRUNCATE TABLE UserInfo;
```

**ğŸ’¡ DELETE vs TRUNCATE:**
- `DELETE`: í–‰ë³„ë¡œ ì‚­ì œ, WHERE ì¡°ê±´ ì‚¬ìš© ê°€ëŠ¥, ë¡¤ë°± ê°€ëŠ¥, ëŠë¦¼
- `TRUNCATE`: í…Œì´ë¸” ì „ì²´ ì‚­ì œ, ì¡°ê±´ ë¶ˆê°€, ë¡¤ë°± ë¶ˆê°€, ë¹ ë¦„, AUTO_INCREMENT ë¦¬ì…‹

## ğŸ›¡ï¸ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ë¹„ë°€ë²ˆí˜¸ í•´ì‹±

**âš ï¸ í˜„ì¬ ë¬¸ì œì :**
```sql
-- ë¹„ë°€ë²ˆí˜¸ë¥¼ í‰ë¬¸ìœ¼ë¡œ ì €ì¥ (ë§¤ìš° ìœ„í—˜!)
INSERT INTO UserInfo (uname, pass) VALUES ('user', '1234');

SELECT * FROM UserInfo WHERE uname = 'user';
-- ì¶œë ¥: pass ì»¬ëŸ¼ì— '1234'ê°€ ê·¸ëŒ€ë¡œ ë³´ì„
```

**âœ… ê¶Œì¥ ë°©ë²•:**
```sql
-- SHA2 í•´ì‹± ì‚¬ìš© (256ë¹„íŠ¸)
INSERT INTO UserInfo (uname, pass)
VALUES ('secure_user', SHA2('1234', 256));

-- ë¡œê·¸ì¸ ê²€ì¦
SELECT * FROM UserInfo
WHERE uname = 'secure_user'
AND pass = SHA2('1234', 256);

-- MD5 (ë³´ì•ˆì´ ì•½í•¨, ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
UPDATE UserInfo SET pass = MD5('1234') WHERE uname = 'user1';

-- bcrypt ì‚¬ìš© (ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì²˜ë¦¬ ê¶Œì¥)
-- Javaì˜ BCrypt, Pythonì˜ bcrypt ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±
```

**í•´ì‹œ ë¹„êµ:**

| ì•Œê³ ë¦¬ì¦˜ | ì¶œë ¥ ê¸¸ì´ | ë³´ì•ˆì„± | ì†ë„ |
|---------|----------|--------|------|
| MD5 | 32ì (16ë°”ì´íŠ¸) | ë‚®ìŒ | ë¹ ë¦„ |
| SHA1 | 40ì (20ë°”ì´íŠ¸) | ë‚®ìŒ | ë¹ ë¦„ |
| SHA256 | 64ì (32ë°”ì´íŠ¸) | ì¤‘ê°„ | ì¤‘ê°„ |
| bcrypt | 60ì | ë†’ìŒ | ëŠë¦¼ (ì˜ë„ì ) |

**ğŸ’¡ ìµœì„ ì˜ ë°©ë²•:**
- ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ bcrypt/Argon2 ì‚¬ìš©
- Salt ì¶”ê°€ (ê°™ì€ ë¹„ë°€ë²ˆí˜¸ë„ ë‹¤ë¥¸ í•´ì‹œê°’ ìƒì„±)
- ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” í•´ì‹œê°’ë§Œ ì €ì¥
- HTTPS ì‚¬ìš© (ì „ì†¡ ì¤‘ ì•”í˜¸í™”)

### SQL ì¸ì ì…˜ ë°©ì–´

**ì·¨ì•½í•œ ì¿¼ë¦¬ (SQL ì¸ì ì…˜ ê°€ëŠ¥):**
```java
// âŒ ì ˆëŒ€ ì´ë ‡ê²Œ í•˜ì§€ ë§ ê²ƒ!
String query = "SELECT * FROM UserInfo WHERE uname='" + username + "' AND pass='" + password + "'";
```

**ê³µê²© ì‹œë‚˜ë¦¬ì˜¤:**
```
ì…ë ¥ëœ username: admin' OR '1'='1
ì…ë ¥ëœ password: anything

ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin' OR '1'='1' AND pass='anything'
â†‘ '1'='1'ì€ í•­ìƒ ì°¸ì´ë¯€ë¡œ ëª¨ë“  ì‚¬ìš©ì ì •ë³´ê°€ ë°˜í™˜ë¨
```

**ì•ˆì „í•œ ì¿¼ë¦¬ (PreparedStatement ì‚¬ìš©):**
```java
// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
String query = "SELECT * FROM UserInfo WHERE uname=? AND pass=?";
PreparedStatement pstmt = conn.prepareStatement(query);
pstmt.setString(1, username);
pstmt.setString(2, password);
ResultSet rs = pstmt.executeQuery();
```

## ğŸ“ MariaDB ê´€ë¦¬ ëª…ë ¹ì–´

### ì„œë¹„ìŠ¤ ê´€ë¦¬

```bash
# MariaDB ì‹œì‘
sudo systemctl start mariadb

# MariaDB ì¤‘ì§€
sudo systemctl stop mariadb

# MariaDB ì¬ì‹œì‘
sudo systemctl restart mariadb

# ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status mariadb

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘
sudo systemctl enable mariadb

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ í•´ì œ
sudo systemctl disable mariadb
```

### ë¡œê·¸ í™•ì¸

```bash
# ì—ëŸ¬ ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/mysql/error.log

# ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ (ëŠë¦° ì¿¼ë¦¬ ê¸°ë¡)
sudo tail -f /var/log/mysql/mysql-slow.log

# journalctlë¡œ í™•ì¸
sudo journalctl -u mariadb -f
```

### ë°±ì—… ë° ë³µì›

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
mysqldump -u root -p CloudDB > clouddb_backup.sql

# ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
mysqldump -u root -p --all-databases > all_databases_backup.sql

# í…Œì´ë¸” êµ¬ì¡°ë§Œ ë°±ì—…
mysqldump -u root -p --no-data CloudDB > clouddb_structure.sql

# ë°±ì—… ë³µì›
mysql -u root -p CloudDB < clouddb_backup.sql

# ìƒˆ ë°ì´í„°ë² ì´ìŠ¤ì— ë³µì›
mysql -u root -p -e "CREATE DATABASE CloudDB_restore;"
mysql -u root -p CloudDB_restore < clouddb_backup.sql
```

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°

**1. ì›ê²© ì ‘ì† ì‹¤íŒ¨**
```bash
# ì›ì¸ 1: bind-addressê°€ localhostë¡œ ì„¤ì •ë¨
sudo grep "bind-address" /etc/mysql/mariadb.conf.d/50-server.cnf
# 0.0.0.0ìœ¼ë¡œ ë³€ê²½

# ì›ì¸ 2: ë°©í™”ë²½ ì°¨ë‹¨
sudo ufw status
sudo ufw allow 3306/tcp

# ì›ì¸ 3: ì‚¬ìš©ì ê¶Œí•œ ì—†ìŒ
mysql> SHOW GRANTS FOR 'clouduser'@'%';
mysql> GRANT ALL PRIVILEGES ON CloudDB.* TO 'clouduser'@'%';
mysql> FLUSH PRIVILEGES;

# ì›ì¸ 4: MariaDBê°€ ë¦¬ìŠ¤ë‹í•˜ì§€ ì•ŠìŒ
sudo ss -tuln | grep :3306
sudo systemctl restart mariadb
```

**2. Access Denied ì—ëŸ¬**
```bash
# ë¹„ë°€ë²ˆí˜¸ í™•ì¸
mysql -u clouduser -p

# ì‚¬ìš©ì ì¡´ì¬ í™•ì¸
mysql> SELECT User, Host FROM mysql.user WHERE User='clouduser';

# ê¶Œí•œ í™•ì¸
mysql> SHOW GRANTS FOR 'clouduser'@'%';

# ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
mysql> ALTER USER 'clouduser'@'%' IDENTIFIED BY 'new_password';
mysql> FLUSH PRIVILEGES;
```

**3. MariaDB ì‹œì‘ ì‹¤íŒ¨**
```bash
# ë¡œê·¸ í™•ì¸
sudo journalctl -u mariadb -n 100
sudo cat /var/log/mysql/error.log

# ì¼ë°˜ì ì¸ ì›ì¸:
# - í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘
sudo lsof -i :3306

# - ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
df -h

# - ì„¤ì • íŒŒì¼ ì˜¤ë¥˜
sudo mariadbd --help --verbose
```

**4. ì—°ê²°ì´ ëŠë¦¼**
```sql
-- ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ í™œì„±í™”
SET GLOBAL slow_query_log = 'ON';
SET GLOBAL long_query_time = 2;  -- 2ì´ˆ ì´ìƒ ê±¸ë¦¬ëŠ” ì¿¼ë¦¬ ê¸°ë¡

-- ì¿¼ë¦¬ ì‹¤í–‰ ê³„íš í™•ì¸
EXPLAIN SELECT * FROM UserInfo WHERE uname = 'admin';

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX idx_uname ON UserInfo(uname);

-- ì¸ë±ìŠ¤ í™•ì¸
SHOW INDEX FROM UserInfo;
```

## âœ… í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì„¤ì¹˜ ë° ì„¤ì •:**
- [ ] MariaDBë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] MariaDB ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘/ì¤‘ì§€í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] mysql_secure_installationì„ ì‹¤í–‰í–ˆëŠ”ê°€?
- [ ] bind-addressë¥¼ ë³€ê²½í•˜ì—¬ ì›ê²© ì ‘ì†ì„ í—ˆìš©í•  ìˆ˜ ìˆëŠ”ê°€?

**ì‚¬ìš©ì ë° ê¶Œí•œ:**
- [ ] ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ì‚¬ìš©ì ëª©ë¡ê³¼ ê¶Œí•œì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ì›ê²© ì ‘ì†ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ”ê°€?

**ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸”:**
- [ ] ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] í…Œì´ë¸”ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] í…Œì´ë¸” êµ¬ì¡°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?

**CRUD ì‘ì—…:**
- [ ] ë°ì´í„°ë¥¼ ì‚½ì…(INSERT)í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ë°ì´í„°ë¥¼ ì¡°íšŒ(SELECT)í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ë°ì´í„°ë¥¼ ìˆ˜ì •(UPDATE)í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ë°ì´í„°ë¥¼ ì‚­ì œ(DELETE)í•  ìˆ˜ ìˆëŠ”ê°€?

**ë³´ì•ˆ:**
- [ ] ë¹„ë°€ë²ˆí˜¸ í•´ì‹±ì˜ ì¤‘ìš”ì„±ì„ ì´í•´í•˜ëŠ”ê°€?
- [ ] SQL ì¸ì ì…˜ ê³µê²©ì„ ì´í•´í•˜ëŠ”ê°€?
- [ ] PreparedStatementì˜ í•„ìš”ì„±ì„ ì´í•´í•˜ëŠ”ê°€?

**ê´€ë¦¬:**
- [ ] ë¡œê·¸ íŒŒì¼ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ê°€?
- [ ] ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°±ì—…í•˜ê³  ë³µì›í•  ìˆ˜ ìˆëŠ”ê°€?


**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ”** 3ê³„ì¸µ ì•„í‚¤í…ì²˜ë¥¼ í†µí•©í•˜ê³  JDBCë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•œë‹¤.
# Section 6: 3ê³„ì¸µ ì•„í‚¤í…ì²˜ í†µí•© ë° ë¡œê·¸ì¸ êµ¬í˜„

## ğŸ”— 3ê³„ì¸µ ì•„í‚¤í…ì²˜ í†µí•©

### ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”

ì´ì œ ì§€ê¸ˆê¹Œì§€ êµ¬ì¶•í•œ 3ëŒ€ì˜ ì„œë²„ë¥¼ ì—°ë™í•˜ì—¬ ì™„ì „í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“ ë‹¤.

```mermaid
graph TB
    subgraph "Client"
        Browser[ì›¹ ë¸Œë¼ìš°ì €]
    end

    subgraph "Web Server - 192.168.186.128"
        nginx[nginx<br/>Port 80]
        nginx_role[ì—­í• : ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ]
    end

    subgraph "WAS Server - 192.168.186.129"
        tomcat[Tomcat<br/>Port 8080]
        jsp[JSP/Servlet]
        jdbc[JDBC Driver]
        tomcat_role[ì—­í• : ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§]
    end

    subgraph "DB Server - 192.168.186.130"
        mariadb[MariaDB<br/>Port 3306]
        clouddb[(CloudDB<br/>UserInfo)]
        db_role[ì—­í• : ë°ì´í„° ì €ì¥]
    end

    Browser -->|HTTP ìš”ì²­| nginx
    nginx -->|í”„ë¡ì‹œ| tomcat
    tomcat --> jsp
    jsp --> jdbc
    jdbc -->|SQL ì¿¼ë¦¬| mariadb
    mariadb --> clouddb

    style Browser fill:#e1f5ff
    style nginx fill:#ffe1e1
    style tomcat fill:#e1ffe1
    style mariadb fill:#ffe1ff
```

### ë°ì´í„° íë¦„

**ë¡œê·¸ì¸ ìš”ì²­ ì‹œ ë°ì´í„° íë¦„:**

```mermaid
sequenceDiagram
    participant U as User
    participant W as Web Server<br/>(nginx)
    participant A as WAS<br/>(Tomcat)
    participant D as Database<br/>(MariaDB)

    U->>W: 1. GET /login.html
    W->>A: í”„ë¡ì‹œ ì „ë‹¬
    A->>W: login.html ë°˜í™˜
    W->>U: login.html í‘œì‹œ

    Note over U: ì‚¬ìš©ìê°€ ID/PW ì…ë ¥

    U->>W: 2. POST /login.jsp<br/>username=admin&password=1234
    W->>A: í”„ë¡ì‹œ ì „ë‹¬

    Note over A: JDBC ì—°ê²° ì„¤ì •

    A->>D: 3. SELECT * FROM UserInfo<br/>WHERE uname='admin'<br/>AND pass='1234'

    Note over D: ì¿¼ë¦¬ ì‹¤í–‰

    D->>A: 4. ê²°ê³¼ ë°˜í™˜<br/>(1 row ë˜ëŠ” 0 row)

    Note over A: ê²°ê³¼ ì²˜ë¦¬<br/>(ë¡œê·¸ì¸ ì„±ê³µ/ì‹¤íŒ¨)

    A->>W: 5. HTML ì‘ë‹µ ìƒì„±
    W->>U: 6. ê²°ê³¼ í˜ì´ì§€ í‘œì‹œ
```

## ğŸ“š JDBC (Java Database Connectivity)

### JDBCë€?

JDBCëŠ” Java ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ í‘œì¤€ APIì´ë‹¤.

**JDBC ì•„í‚¤í…ì²˜:**

```mermaid
graph TD
    A[Java Application<br/>JSP/Servlet] --> B[JDBC API]
    B --> C[JDBC Driver Manager]
    C --> D1[MySQL Driver]
    C --> D2[PostgreSQL Driver]
    C --> D3[Oracle Driver]
    C --> D4[MariaDB Driver]

    D1 --> E1[MySQL DB]
    D2 --> E2[PostgreSQL DB]
    D3 --> E3[Oracle DB]
    D4 --> E4[MariaDB DB]

    style A fill:#e1ffe1
    style B fill:#ffe1e1
    style C fill:#e1f5ff
    style D4 fill:#ffe1ff
    style E4 fill:#ffe1ff
```

**JDBCì˜ ì£¼ìš” êµ¬ì„± ìš”ì†Œ:**
1. **Driver Manager**: ë“œë¼ì´ë²„ë¥¼ ë¡œë“œí•˜ê³  ì—°ê²° ê´€ë¦¬
2. **Driver**: íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µì‹ í•˜ëŠ” ë“œë¼ì´ë²„
3. **Connection**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê°ì²´
4. **Statement**: SQL ë¬¸ ì‹¤í–‰ ê°ì²´
5. **ResultSet**: ì¿¼ë¦¬ ê²°ê³¼ ì €ì¥ ê°ì²´

### MariaDB JDBC Connector ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜

**WAS ì„œë²„(192.168.186.129)ì—ì„œ ì‘ì—…:**

```bash
# Tomcat lib ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /var/lib/tomcat10/lib

# MariaDB JDBC Connector ë‹¤ìš´ë¡œë“œ
sudo wget https://dlm.mariadb.com/3784278/Connectors/java/connector-java-3.3.3/mariadb-java-client-3.3.3.jar

# ë˜ëŠ” aptë¡œ ì„¤ì¹˜
sudo apt install libmariadb-java

# ì„¤ì¹˜ í™•ì¸
ls -lh /var/lib/tomcat10/lib/mariadb-java-client*.jar

# ë˜ëŠ”
ls -lh /usr/share/java/mariadb-java-client.jar

# ì‹¬ë³¼ë¦­ ë§í¬ ìƒì„± (apt ì„¤ì¹˜ ì‹œ)
sudo ln -s /usr/share/java/mariadb-java-client.jar /var/lib/tomcat10/lib/

# ìµœì¢… í™•ì¸
ls -lh /var/lib/tomcat10/lib/ | grep mariadb

# ì¶œë ¥ ì˜ˆì‹œ:
-rw-r--r-- 1 root root 618K Dec 17 13:00 mariadb-java-client-3.3.3.jar

# ê¶Œí•œ í™•ì¸
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/lib/mariadb-java-client*.jar
sudo chmod 644 /var/lib/tomcat10/lib/mariadb-java-client*.jar

# Tomcat ì¬ì‹œì‘ (ìƒˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ)
sudo systemctl restart tomcat10
```

**ğŸ’¡ JDBC ë“œë¼ì´ë²„ ë²„ì „:**
- MariaDB Connector/J 3.x: MariaDB 10.2+, MySQL 5.5+
- Jakarta EE 9+ (Tomcat 10) í˜¸í™˜
- JDBC 4.2 ìŠ¤í™ ì§€ì›

### JDBC ì—°ê²° í…ŒìŠ¤íŠ¸ JSP

**ê°„ë‹¨í•œ ì—°ê²° í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ìƒì„±:**

```bash
sudo nano /var/lib/tomcat10/webapps/ROOT/jdbc_test.jsp
```

**jdbc_test.jsp ë‚´ìš©:**
```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page import="java.sql.*" %>
<!DOCTYPE html>
<html>
<head>
    <title>JDBC Connection Test</title>
</head>
<body>
    <h1>JDBC Connection Test</h1>
    <%
        Connection conn = null;
        try {
            // 1. JDBC ë“œë¼ì´ë²„ ë¡œë“œ
            Class.forName("org.mariadb.jdbc.Driver");
            out.println("<p>âœ“ JDBC ë“œë¼ì´ë²„ ë¡œë“œ ì„±ê³µ</p>");

            // 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
            String url = "jdbc:mariadb://192.168.186.130:3306/CloudDB";
            String user = "clouduser";
            String password = "password123";

            conn = DriverManager.getConnection(url, user, password);
            out.println("<p>âœ“ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ</p>");

            // 3. ì—°ê²° ì •ë³´ ì¶œë ¥
            DatabaseMetaData meta = conn.getMetaData();
            out.println("<h2>ì—°ê²° ì •ë³´:</h2>");
            out.println("<ul>");
            out.println("<li>Database Product: " + meta.getDatabaseProductName() + "</li>");
            out.println("<li>Database Version: " + meta.getDatabaseProductVersion() + "</li>");
            out.println("<li>Driver Name: " + meta.getDriverName() + "</li>");
            out.println("<li>Driver Version: " + meta.getDriverVersion() + "</li>");
            out.println("<li>URL: " + meta.getURL() + "</li>");
            out.println("<li>Username: " + meta.getUserName() + "</li>");
            out.println("</ul>");

            // 4. í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ ì‹¤í–‰
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery("SELECT COUNT(*) AS cnt FROM UserInfo");

            if (rs.next()) {
                int count = rs.getInt("cnt");
                out.println("<p>âœ“ UserInfo í…Œì´ë¸”ì— " + count + "ê°œì˜ ë ˆì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤.</p>");
            }

            rs.close();
            stmt.close();

        } catch (ClassNotFoundException e) {
            out.println("<p style='color:red'>âœ— JDBC ë“œë¼ì´ë²„ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + e.getMessage() + "</p>");
            e.printStackTrace();
        } catch (SQLException e) {
            out.println("<p style='color:red'>âœ— ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜: " + e.getMessage() + "</p>");
            e.printStackTrace();
        } finally {
            // 5. ì—°ê²° ì¢…ë£Œ
            if (conn != null) {
                try {
                    conn.close();
                    out.println("<p>âœ“ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì¢…ë£Œ</p>");
                } catch (SQLException e) {
                    e.printStackTrace();
                }
            }
        }
    %>
</body>
</html>
```

**íŒŒì¼ ê¶Œí•œ ì„¤ì •:**
```bash
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/webapps/ROOT/jdbc_test.jsp
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/jdbc_test.jsp
```

**ì ‘ì† í…ŒìŠ¤íŠ¸:**
```
http://192.168.186.128/jdbc_test.jsp (nginxë¥¼ í†µí•œ ì ‘ì†)
ë˜ëŠ”
http://192.168.186.129:8080/jdbc_test.jsp (ì§ì ‘ ì ‘ì†)
```

**ì •ìƒ ì¶œë ¥ ì˜ˆì‹œ:**
```
JDBC Connection Test
âœ“ JDBC ë“œë¼ì´ë²„ ë¡œë“œ ì„±ê³µ
âœ“ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ

ì—°ê²° ì •ë³´:
â€¢ Database Product: MariaDB
â€¢ Database Version: 10.11.8-MariaDB-0ubuntu0.24.04.1
â€¢ Driver Name: MariaDB Connector/J
â€¢ Driver Version: 3.3.3
â€¢ URL: jdbc:mariadb://192.168.186.130:3306/CloudDB
â€¢ Username: clouduser@192.168.186.129

âœ“ UserInfo í…Œì´ë¸”ì— 4ê°œì˜ ë ˆì½”ë“œê°€ ìˆìŠµë‹ˆë‹¤.
âœ“ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì¢…ë£Œ
```

### JDBC ì—°ê²° ì‹¤íŒ¨ ì‹œ ë¬¸ì œ í•´ê²°

**1. ClassNotFoundException: org.mariadb.jdbc.Driver**
```bash
# ì›ì¸: JDBC ë“œë¼ì´ë²„ JAR íŒŒì¼ì´ ì—†ìŒ
ls /var/lib/tomcat10/lib/mariadb-java-client*.jar

# í•´ê²°: ë“œë¼ì´ë²„ ë‹¤ìš´ë¡œë“œ ë° ë°°ì¹˜
sudo wget -P /var/lib/tomcat10/lib/ https://dlm.mariadb.com/3784278/Connectors/java/connector-java-3.3.3/mariadb-java-client-3.3.3.jar
sudo systemctl restart tomcat10
```

**2. SQLException: Access denied**
```bash
# ì›ì¸: ì‚¬ìš©ì ì¸ì¦ ì‹¤íŒ¨
# í•´ê²°: DB ì„œë²„ì—ì„œ ì‚¬ìš©ì í™•ì¸ ë° ì¬ìƒì„±

mysql -u root -p
```
```sql
SELECT User, Host FROM mysql.user WHERE User='clouduser';
SHOW GRANTS FOR 'clouduser'@'%';

-- í•„ìš”ì‹œ ì¬ìƒì„±
DROP USER 'clouduser'@'%';
CREATE USER 'clouduser'@'%' IDENTIFIED BY 'password123';
GRANT ALL PRIVILEGES ON CloudDB.* TO 'clouduser'@'%';
FLUSH PRIVILEGES;
```

**3. SQLException: Communications link failure**
```bash
# ì›ì¸ 1: DB ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹˜
ssh root@192.168.186.130
sudo systemctl status mariadb

# ì›ì¸ 2: ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ
ping 192.168.186.130
telnet 192.168.186.130 3306

# ì›ì¸ 3: bind-address ì„¤ì • ë¬¸ì œ
sudo grep "bind-address" /etc/mysql/mariadb.conf.d/50-server.cnf
# 0.0.0.0 ë˜ëŠ” 192.168.186.130ì´ì–´ì•¼ í•¨

# ì›ì¸ 4: ë°©í™”ë²½
sudo ufw status
sudo ufw allow 3306/tcp
```

## ğŸ” ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„

### login.jsp ìƒì„±

**WAS ì„œë²„ì—ì„œ login.jsp ìƒì„±:**

```bash
sudo nano /var/lib/tomcat10/webapps/ROOT/login.jsp
```

**login.jsp ì „ì²´ ì½”ë“œ:**
```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page import="java.sql.*" %>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œê·¸ì¸ ê²°ê³¼</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .result-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 500px;
            width: 100%;
        }
        .success {
            color: #4CAF50;
            border: 2px solid #4CAF50;
            padding: 20px;
            border-radius: 5px;
            background-color: #f0fff0;
        }
        .failure {
            color: #f44336;
            border: 2px solid #f44336;
            padding: 20px;
            border-radius: 5px;
            background-color: #fff5f5;
        }
        .user-info {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }
        .back-button {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #2196F3;
            color: white;
            text-decoration: none;
            border-radius: 4px;
        }
        .back-button:hover {
            background-color: #0b7dda;
        }
    </style>
</head>
<body>
    <div class="result-container">
        <%
            // POSTë¡œ ì „ì†¡ëœ íŒŒë¼ë¯¸í„° ë°›ê¸°
            String username = request.getParameter("username");
            String password = request.getParameter("password");

            // ì…ë ¥ê°’ ê²€ì¦
            if (username == null || password == null ||
                username.trim().isEmpty() || password.trim().isEmpty()) {
                out.println("<div class='failure'>");
                out.println("<h2>ì…ë ¥ ì˜¤ë¥˜</h2>");
                out.println("<p>ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>");
                out.println("</div>");
                out.println("<a href='login.html' class='back-button'>ëŒì•„ê°€ê¸°</a>");
                return;
            }

            Connection conn = null;
            PreparedStatement pstmt = null;
            ResultSet rs = null;

            try {
                // 1. JDBC ë“œë¼ì´ë²„ ë¡œë“œ
                Class.forName("org.mariadb.jdbc.Driver");

                // 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
                String url = "jdbc:mariadb://192.168.186.130:3306/CloudDB";
                String dbUser = "clouduser";
                String dbPassword = "password123";

                conn = DriverManager.getConnection(url, dbUser, dbPassword);

                // 3. SQL ì¿¼ë¦¬ ì¤€ë¹„ (PreparedStatement ì‚¬ìš© - SQL ì¸ì ì…˜ ë°©ì–´)
                String sql = "SELECT * FROM UserInfo WHERE uname = ? AND pass = ?";
                pstmt = conn.prepareStatement(sql);
                pstmt.setString(1, username);
                pstmt.setString(2, password);

                // 4. ì¿¼ë¦¬ ì‹¤í–‰
                rs = pstmt.executeQuery();

                // 5. ê²°ê³¼ ì²˜ë¦¬
                if (rs.next()) {
                    // ë¡œê·¸ì¸ ì„±ê³µ
                    int uid = rs.getInt("uid");
                    String uname = rs.getString("uname");
                    String profile = rs.getString("profile");
                    int priority = rs.getInt("priority");

                    out.println("<div class='success'>");
                    out.println("<h2>âœ“ ë¡œê·¸ì¸ ì„±ê³µ!</h2>");
                    out.println("<p>í™˜ì˜í•©ë‹ˆë‹¤, " + uname + "ë‹˜!</p>");
                    out.println("</div>");

                    out.println("<div class='user-info'>");
                    out.println("<h3>ì‚¬ìš©ì ì •ë³´</h3>");
                    out.println("<p><strong>ì‚¬ìš©ì ID:</strong> " + uid + "</p>");
                    out.println("<p><strong>ì‚¬ìš©ì ì´ë¦„:</strong> " + uname + "</p>");
                    out.println("<p><strong>í”„ë¡œí•„:</strong> " + profile + "</p>");
                    out.println("<p><strong>ìš°ì„ ìˆœìœ„:</strong> " + priority + "</p>");
                    out.println("</div>");

                    // ì„¸ì…˜ì— ì‚¬ìš©ì ì •ë³´ ì €ì¥
                    session.setAttribute("username", uname);
                    session.setAttribute("uid", uid);

                } else {
                    // ë¡œê·¸ì¸ ì‹¤íŒ¨
                    out.println("<div class='failure'>");
                    out.println("<h2>âœ— ë¡œê·¸ì¸ ì‹¤íŒ¨</h2>");
                    out.println("<p>ì‚¬ìš©ì ì´ë¦„ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>");
                    out.println("</div>");
                }

            } catch (ClassNotFoundException e) {
                out.println("<div class='failure'>");
                out.println("<h2>ì˜¤ë¥˜ ë°œìƒ</h2>");
                out.println("<p>JDBC ë“œë¼ì´ë²„ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>");
                out.println("<p>ì˜¤ë¥˜ ë©”ì‹œì§€: " + e.getMessage() + "</p>");
                out.println("</div>");
                e.printStackTrace();

            } catch (SQLException e) {
                out.println("<div class='failure'>");
                out.println("<h2>ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜</h2>");
                out.println("<p>ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë˜ëŠ” ì¿¼ë¦¬ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>");
                out.println("<p>ì˜¤ë¥˜ ë©”ì‹œì§€: " + e.getMessage() + "</p>");
                out.println("</div>");
                e.printStackTrace();

            } finally {
                // 6. ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (ì—­ìˆœìœ¼ë¡œ)
                try {
                    if (rs != null) rs.close();
                    if (pstmt != null) pstmt.close();
                    if (conn != null) conn.close();
                } catch (SQLException e) {
                    e.printStackTrace();
                }
            }
        %>

        <a href="login.html" class="back-button">ëŒì•„ê°€ê¸°</a>

        <div style="margin-top: 20px; padding: 10px; background-color: #f0f0f0; border-radius: 5px; font-size: 12px;">
            <p><strong>ì ‘ì† ì •ë³´:</strong></p>
            <p>í´ë¼ì´ì–¸íŠ¸ IP: <%= request.getRemoteAddr() %></p>
            <p>ì„œë²„ ì´ë¦„: <%= request.getServerName() %></p>
            <p>ì„œë²„ í¬íŠ¸: <%= request.getServerPort() %></p>
            <p>ìš”ì²­ URI: <%= request.getRequestURI() %></p>
            <p>ì„¸ì…˜ ID: <%= session.getId() %></p>
        </div>
    </div>
</body>
</html>
```

**íŒŒì¼ ê¶Œí•œ ì„¤ì •:**
```bash
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/webapps/ROOT/login.jsp
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/login.jsp
```

### ì½”ë“œ ìƒì„¸ ì„¤ëª…

**1. íŒŒë¼ë¯¸í„° ë°›ê¸°:**
```jsp
<%
    String username = request.getParameter("username");
    String password = request.getParameter("password");
%>
```
- `request.getParameter()`: POST/GETìœ¼ë¡œ ì „ì†¡ëœ í¼ ë°ì´í„°ë¥¼ ë°›ìŒ
- HTML í¼ì˜ `name` ì†ì„±ê³¼ ì¼ì¹˜í•´ì•¼ í•¨

**2. JDBC ë“œë¼ì´ë²„ ë¡œë“œ:**
```java
Class.forName("org.mariadb.jdbc.Driver");
```
- JVMì— JDBC ë“œë¼ì´ë²„ í´ë˜ìŠ¤ë¥¼ ë¡œë“œ
- MariaDB Connector/JëŠ” `org.mariadb.jdbc.Driver` ì‚¬ìš©
- MySQL Connector/JëŠ” `com.mysql.cj.jdbc.Driver` ì‚¬ìš©

**3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°:**
```java
String url = "jdbc:mariadb://192.168.186.130:3306/CloudDB";
String user = "clouduser";
String password = "password123";
Connection conn = DriverManager.getConnection(url, user, password);
```

**ì—°ê²° URL í˜•ì‹:**
```
jdbc:mariadb://í˜¸ìŠ¤íŠ¸:í¬íŠ¸/ë°ì´í„°ë² ì´ìŠ¤ëª…?ì˜µì…˜
```

**ì£¼ìš” ì˜µì…˜:**
```java
// íƒ€ì„ì•„ì›ƒ ì„¤ì •
"jdbc:mariadb://192.168.186.130:3306/CloudDB?connectTimeout=5000"

// ë¬¸ì ì¸ì½”ë”© ì„¤ì •
"jdbc:mariadb://192.168.186.130:3306/CloudDB?characterEncoding=UTF-8"

// ì—¬ëŸ¬ ì˜µì…˜ ì¡°í•©
"jdbc:mariadb://192.168.186.130:3306/CloudDB?characterEncoding=UTF-8&connectTimeout=5000"
```

**4. PreparedStatement ì‚¬ìš© (ì¤‘ìš”!):**
```java
String sql = "SELECT * FROM UserInfo WHERE uname = ? AND pass = ?";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setString(1, username);  // ì²« ë²ˆì§¸ ? ì— ê°’ ì„¤ì •
pstmt.setString(2, password);  // ë‘ ë²ˆì§¸ ? ì— ê°’ ì„¤ì •
```

**PreparedStatement vs Statement:**

```java
// âŒ Statement (SQL ì¸ì ì…˜ ì·¨ì•½)
String sql = "SELECT * FROM UserInfo WHERE uname='" + username + "' AND pass='" + password + "'";
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery(sql);

// âœ… PreparedStatement (ì•ˆì „)
String sql = "SELECT * FROM UserInfo WHERE uname = ? AND pass = ?";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setString(1, username);
pstmt.setString(2, password);
ResultSet rs = pstmt.executeQuery();
```

**PreparedStatementì˜ ì¥ì :**
- SQL ì¸ì ì…˜ ë°©ì–´
- ì„±ëŠ¥ í–¥ìƒ (ì¿¼ë¦¬ ìºì‹±)
- ì½”ë“œ ê°€ë…ì„±
- ìë™ ì´ìŠ¤ì¼€ì´í•‘

**5. ê²°ê³¼ ì²˜ë¦¬:**
```java
ResultSet rs = pstmt.executeQuery();

if (rs.next()) {
    // ê²°ê³¼ê°€ ìˆìœ¼ë©´ (ë¡œê·¸ì¸ ì„±ê³µ)
    int uid = rs.getInt("uid");
    String uname = rs.getString("uname");
    String profile = rs.getString("profile");
    int priority = rs.getInt("priority");
} else {
    // ê²°ê³¼ê°€ ì—†ìœ¼ë©´ (ë¡œê·¸ì¸ ì‹¤íŒ¨)
}
```

**ResultSet ë©”ì„œë“œ:**
- `next()`: ë‹¤ìŒ í–‰ìœ¼ë¡œ ì´ë™ (ê²°ê³¼ê°€ ìˆìœ¼ë©´ true)
- `getInt(ì»¬ëŸ¼ëª…)`: INT íƒ€ì… ê°’ ê°€ì ¸ì˜¤ê¸°
- `getString(ì»¬ëŸ¼ëª…)`: VARCHAR íƒ€ì… ê°’ ê°€ì ¸ì˜¤ê¸°
- `getDate(ì»¬ëŸ¼ëª…)`: DATE íƒ€ì… ê°’ ê°€ì ¸ì˜¤ê¸°

**6. ë¦¬ì†ŒìŠ¤ ì •ë¦¬:**
```java
finally {
    try {
        if (rs != null) rs.close();
        if (pstmt != null) pstmt.close();
        if (conn != null) conn.close();
    } catch (SQLException e) {
        e.printStackTrace();
    }
}
```

**ğŸ’¡ ì¤‘ìš”:** ë¦¬ì†ŒìŠ¤ëŠ” ë°˜ë“œì‹œ `finally` ë¸”ë¡ì—ì„œ ì—­ìˆœìœ¼ë¡œ ë‹«ì•„ì•¼ í•œë‹¤.
- ResultSet â†’ PreparedStatement â†’ Connection ìˆœì„œ

## ğŸ§ª í†µí•© í…ŒìŠ¤íŠ¸

### ì „ì²´ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸

**1. ê° ì„œë²„ ìƒíƒœ í™•ì¸:**

```bash
# Web ì„œë²„ (192.168.186.128)
sudo systemctl status nginx
sudo ss -tuln | grep :80

# WAS ì„œë²„ (192.168.186.129)
sudo systemctl status tomcat10
sudo ss -tuln | grep :8080

# DB ì„œë²„ (192.168.186.130)
sudo systemctl status mariadb
sudo ss -tuln | grep :3306
```

**2. ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„° í™•ì¸:**

```bash
# DB ì„œë²„ì—ì„œ
mysql -u root -p CloudDB
```
```sql
SELECT * FROM UserInfo;

-- í…ŒìŠ¤íŠ¸ ê³„ì •ì´ ìˆëŠ”ì§€ í™•ì¸
-- admin / 1234
-- user1 / pass1
-- ë“±ë“±
```

**3. ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸:**

```
1. http://192.168.186.128/login.html ì ‘ì†
   â†’ nginxë¥¼ í†µí•´ ì ‘ì† (ê¶Œì¥)

2. ì˜¬ë°”ë¥¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸:
   ì‚¬ìš©ì ì´ë¦„: admin
   ë¹„ë°€ë²ˆí˜¸: 1234
   â†’ "ë¡œê·¸ì¸ ì„±ê³µ!" ë©”ì‹œì§€ì™€ ì‚¬ìš©ì ì •ë³´ í‘œì‹œ

3. ì˜ëª»ëœ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸:
   ì‚¬ìš©ì ì´ë¦„: admin
   ë¹„ë°€ë²ˆí˜¸: wrong
   â†’ "ë¡œê·¸ì¸ ì‹¤íŒ¨" ë©”ì‹œì§€ í‘œì‹œ

4. ë¹ˆ í•„ë“œë¡œ ì œì¶œ:
   â†’ "ì…ë ¥ ì˜¤ë¥˜" ë©”ì‹œì§€ í‘œì‹œ
```

**4. ë¡œê·¸ í™•ì¸:**

**nginx ë¡œê·¸:**
```bash
# Web ì„œë²„ì—ì„œ
sudo tail -f /var/log/nginx/access.log

# ì¶œë ¥ ì˜ˆì‹œ:
192.168.186.1 - - [17/Dec/2025:13:30:00 +0900] "GET /login.html HTTP/1.1" 200 1234
192.168.186.1 - - [17/Dec/2025:13:30:15 +0900] "POST /login.jsp HTTP/1.1" 200 5678
```

**Tomcat ë¡œê·¸:**
```bash
# WAS ì„œë²„ì—ì„œ
sudo tail -f /var/log/tomcat10/localhost_access_log.2025-12-17.txt

# ì¶œë ¥ ì˜ˆì‹œ:
192.168.186.128 - - [17/Dec/2025:13:30:00 +0900] "GET /login.html HTTP/1.1" 200 1234
192.168.186.128 - - [17/Dec/2025:13:30:15 +0900] "POST /login.jsp HTTP/1.1" 200 5678
```

**MariaDB ë¡œê·¸:**
```bash
# DB ì„œë²„ì—ì„œ
sudo tail -f /var/log/mysql/error.log
```

### ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ í™•ì¸

**tcpdumpë¥¼ ì‚¬ìš©í•œ íŒ¨í‚· ìº¡ì²˜:**

```bash
# WAS ì„œë²„ì—ì„œ DB ì„œë²„ë¡œì˜ íŠ¸ë˜í”½ ìº¡ì²˜
sudo tcpdump -i any port 3306 -nn

# ì¶œë ¥ ì˜ˆì‹œ:
13:30:15.123456 IP 192.168.186.129.54321 > 192.168.186.130.3306: Flags [S], seq 123456
13:30:15.123789 IP 192.168.186.130.3306 > 192.168.186.129.54321: Flags [S.], seq 789012

# ë˜ëŠ” ìƒì„¸ ì •ë³´
sudo tcpdump -i any port 3306 -X

# Web â†’ WAS íŠ¸ë˜í”½ ìº¡ì²˜
sudo tcpdump -i any port 8080 -nn
```

### ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

**ab (Apache Bench)ë¥¼ ì‚¬ìš©í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸:**

```bash
# ab ì„¤ì¹˜
sudo apt install apache2-utils

# 100ê°œ ìš”ì²­, 10ê°œ ë™ì‹œ ì—°ê²°
ab -n 100 -c 10 http://192.168.186.128/login.html

# ì¶œë ¥ ì˜ˆì‹œ:
Server Software:        nginx/1.24.0
Server Hostname:        192.168.186.128
Server Port:            80

Document Path:          /login.html
Document Length:        1234 bytes

Concurrency Level:      10
Time taken for tests:   2.345 seconds
Complete requests:      100
Failed requests:        0
Total transferred:      145678 bytes
HTML transferred:       123400 bytes
Requests per second:    42.64 [#/sec] (mean)
Time per request:       234.5 [ms] (mean)
Time per request:       23.45 [ms] (mean, across all concurrent requests)
Transfer rate:          60.67 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    5   2.3      5      12
Processing:    45  220  45.2    210     345
Waiting:       40  215  44.8    205     340
Total:         50  225  46.1    215     350
```

## ğŸ› í†µí•© í…ŒìŠ¤íŠ¸ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

**1. 502 Bad Gateway (nginx)**

```bash
# WAS ì„œë²„ ë™ì‘ í™•ì¸
curl http://192.168.186.129:8080/login.html

# nginx ì„¤ì • í™•ì¸
sudo cat /etc/nginx/sites-enabled/default | grep proxy_pass

# nginx ì—ëŸ¬ ë¡œê·¸
sudo tail -f /var/log/nginx/error.log

# ì¼ë°˜ì ì¸ ì›ì¸:
# - Tomcatì´ ì‹¤í–‰ ì¤‘ì´ ì•„ë‹˜
# - proxy_pass URLì´ ì˜ëª»ë¨
# - ë°©í™”ë²½ ì°¨ë‹¨
```

**2. ë¡œê·¸ì¸ í˜ì´ì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ (404)**

```bash
# íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -l /var/lib/tomcat10/webapps/ROOT/login.html
ls -l /var/lib/tomcat10/webapps/ROOT/login.jsp

# ê¶Œí•œ í™•ì¸
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/login.*
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/webapps/ROOT/login.*

# Tomcat ì¬ì‹œì‘
sudo systemctl restart tomcat10
```

**3. JDBC ì—°ê²° ì‹¤íŒ¨**

```bash
# JDBC ë“œë¼ì´ë²„ í™•ì¸
ls -l /var/lib/tomcat10/lib/mariadb-java-client*.jar

# DB ì—°ê²° í…ŒìŠ¤íŠ¸
mysql -h 192.168.186.130 -u clouduser -p CloudDB

# ë„¤íŠ¸ì›Œí¬ ì—°ê²°
ping 192.168.186.130
telnet 192.168.186.130 3306

# Tomcat ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/tomcat10/catalina.out
```

**4. SQL Exception**

```bash
# DB ì„œë²„ ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/mysql/error.log

# ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
mysql -u root -p
```
```sql
SHOW GRANTS FOR 'clouduser'@'%';
SELECT User, Host FROM mysql.user WHERE User='clouduser';

-- í•„ìš”ì‹œ ê¶Œí•œ ì¬ë¶€ì—¬
GRANT ALL PRIVILEGES ON CloudDB.* TO 'clouduser'@'%';
FLUSH PRIVILEGES;
```

## âœ… í†µí•© í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì‹œìŠ¤í…œ êµ¬ì„±:**
- [ ] 3ëŒ€ì˜ ì„œë²„ê°€ ëª¨ë‘ ì‹¤í–‰ ì¤‘ì¸ê°€?
- [ ] ê° ì„œë²„ì˜ ì„œë¹„ìŠ¤ê°€ ì •ìƒ ë™ì‘í•˜ëŠ”ê°€?
- [ ] ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì´ ì •ìƒì¸ê°€?

**JDBC ì—°ë™:**
- [ ] JDBC ë“œë¼ì´ë²„ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì¹˜ë˜ì—ˆëŠ”ê°€?
- [ ] JDBC ì—°ê²° í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ëŠ”ê°€?
- [ ] PreparedStatementë¥¼ ì‚¬ìš©í•˜ì—¬ SQL ì¸ì ì…˜ì„ ë°©ì–´í•˜ëŠ”ê°€?

**ë¡œê·¸ì¸ ì‹œìŠ¤í…œ:**
- [ ] login.html í˜ì´ì§€ê°€ ì •ìƒ í‘œì‹œë˜ëŠ”ê°€?
- [ ] ì˜¬ë°”ë¥¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ì„±ê³µí•˜ëŠ”ê°€?
- [ ] ì˜ëª»ëœ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ì‹¤íŒ¨í•˜ëŠ”ê°€?
- [ ] ì—ëŸ¬ ì²˜ë¦¬ê°€ ì ì ˆí•œê°€?

**ì „ì²´ íë¦„:**
- [ ] Client â†’ Web Server â†’ WAS â†’ DB íë¦„ì´ ì •ìƒì¸ê°€?
- [ ] ê° ê³„ì¸µì˜ ë¡œê·¸ì—ì„œ ìš”ì²­ì´ í™•ì¸ë˜ëŠ”ê°€?
- [ ] ì‘ë‹µ ì‹œê°„ì´ ì ì ˆí•œê°€?


**ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ”** SQL ì¸ì ì…˜ ê³µê²©ì˜ ì›ë¦¬ì™€ ë°©ì–´ ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ í•™ìŠµí•œë‹¤.
# Section 7: ë³´ì•ˆ ê°œë… ë° SQL ì¸ì ì…˜

## ğŸ›¡ï¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ ê°œìš”

### OWASP Top 10

OWASP (Open Web Application Security Project)ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°€ì¥ ì¤‘ìš”í•œ ë³´ì•ˆ ìœ„í˜‘ 10ê°€ì§€ë¥¼ ì„ ì •í•˜ì—¬ ë°œí‘œí•œë‹¤.

**OWASP Top 10 (2021):**

1. **Broken Access Control** (ì ‘ê·¼ ì œì–´ ì·¨ì•½ì )
2. **Cryptographic Failures** (ì•”í˜¸í™” ì‹¤íŒ¨)
3. **Injection** (ì¸ì ì…˜) â† SQL ì¸ì ì…˜ í¬í•¨
4. **Insecure Design** (ì•ˆì „í•˜ì§€ ì•Šì€ ì„¤ê³„)
5. **Security Misconfiguration** (ë³´ì•ˆ ì„¤ì • ì˜¤ë¥˜)
6. **Vulnerable and Outdated Components** (ì·¨ì•½í•œ êµ¬ì„±ìš”ì†Œ)
7. **Identification and Authentication Failures** (ì¸ì¦ ì‹¤íŒ¨)
8. **Software and Data Integrity Failures** (ë¬´ê²°ì„± ì‹¤íŒ¨)
9. **Security Logging and Monitoring Failures** (ë¡œê¹…/ëª¨ë‹ˆí„°ë§ ì‹¤íŒ¨)
10. **Server-Side Request Forgery (SSRF)** (ì„œë²„ì¸¡ ìš”ì²­ ìœ„ì¡°)

**ğŸ’¡ ì£¼ìš” ìœ„í˜‘:**
- **Injection**: SQL, OS ëª…ë ¹ì–´, LDAP ë“±
- **Broken Authentication**: ì„¸ì…˜ í•˜ì´ì¬í‚¹, ì•½í•œ ë¹„ë°€ë²ˆí˜¸
- **XSS (Cross-Site Scripting)**: ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ ì‚½ì…
- **CSRF (Cross-Site Request Forgery)**: ìœ„ì¡°ëœ ìš”ì²­
- **Insecure Direct Object References**: ì§ì ‘ ê°ì²´ ì°¸ì¡° ì·¨ì•½ì 

### CIA Triad (ì •ë³´ ë³´ì•ˆì˜ 3ëŒ€ ì›ì¹™)

```mermaid
graph TD
    A[ì •ë³´ ë³´ì•ˆ] --> B[ê¸°ë°€ì„±<br/>Confidentiality]
    A --> C[ë¬´ê²°ì„±<br/>Integrity]
    A --> D[ê°€ìš©ì„±<br/>Availability]

    B --> B1[ì¸ê°€ëœ ì‚¬ìš©ìë§Œ<br/>ì ‘ê·¼ ê°€ëŠ¥]
    C --> C1[ë°ì´í„°ê°€<br/>ë³€ì¡°ë˜ì§€ ì•ŠìŒ]
    D --> D1[í•„ìš”í•  ë•Œ<br/>ì‚¬ìš© ê°€ëŠ¥]

    style A fill:#ffe1e1
    style B fill:#e1ffe1
    style C fill:#e1f5ff
    style D fill:#ffe1ff
```

**1. ê¸°ë°€ì„± (Confidentiality)**
- ì¸ê°€ëœ ì‚¬ìš©ìë§Œ ì •ë³´ì— ì ‘ê·¼
- ì˜ˆ: ì•”í˜¸í™”, ì ‘ê·¼ ì œì–´, ì¸ì¦

**2. ë¬´ê²°ì„± (Integrity)**
- ì •ë³´ê°€ ë³€ì¡°ë˜ì§€ ì•ŠìŒì„ ë³´ì¥
- ì˜ˆ: í•´ì‹œ, ë””ì§€í„¸ ì„œëª…, ì²´í¬ì„¬

**3. ê°€ìš©ì„± (Availability)**
- í•„ìš”í•  ë•Œ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- ì˜ˆ: ë°±ì—…, ì´ì¤‘í™”, DDoS ë°©ì–´

## ğŸ’‰ SQL ì¸ì ì…˜ (SQL Injection)

### SQL ì¸ì ì…˜ì´ë€?

SQL ì¸ì ì…˜ì€ ì‚¬ìš©ì ì…ë ¥ì„ í†µí•´ ì•…ì˜ì ì¸ SQL ì¿¼ë¦¬ë¥¼ ì‚½ì…í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ê³µê²© ê¸°ë²•ì´ë‹¤. OWASP Top 10ì— í¬í•¨ëœ ë§¤ìš° ìœ„í—˜í•œ ì·¨ì•½ì ì´ë‹¤.

**ê³µê²©ì˜ ì˜í–¥:**
- ë°ì´í„° ìœ ì¶œ (ì‚¬ìš©ì ì •ë³´, ë¹„ë°€ë²ˆí˜¸ ë“±)
- ë°ì´í„° ë³€ì¡° ë˜ëŠ” ì‚­ì œ
- ì¸ì¦ ìš°íšŒ (ë¡œê·¸ì¸ ìš°íšŒ)
- ê¶Œí•œ ìƒìŠ¹
- ì‹œìŠ¤í…œ ëª…ë ¹ ì‹¤í–‰ (ì¼ë¶€ DBì—ì„œ)

### ì·¨ì•½í•œ ì½”ë“œ ì˜ˆì œ

**âŒ ì·¨ì•½í•œ JSP ì½”ë“œ:**
```jsp
<%
    // ì‚¬ìš©ì ì…ë ¥ì„ ì§ì ‘ SQL ì¿¼ë¦¬ì— ì—°ê²°
    String username = request.getParameter("username");
    String password = request.getParameter("password");

    // ì·¨ì•½í•œ ì¿¼ë¦¬ ìƒì„± (String concatenation)
    String sql = "SELECT * FROM UserInfo WHERE uname='" + username + "' AND pass='" + password + "'";

    Statement stmt = conn.createStatement();
    ResultSet rs = stmt.executeQuery(sql);
%>
```

**ì •ìƒì ì¸ ì…ë ¥:**
```
username: admin
password: 1234

ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin' AND pass='1234'
```

### SQL ì¸ì ì…˜ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ì¸ì¦ ìš°íšŒ (Authentication Bypass)

**ê³µê²© ì…ë ¥:**
```
username: admin' OR '1'='1
password: anything

ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin' OR '1'='1' AND pass='anything'
```

**ì¿¼ë¦¬ ë¶„ì„:**
```sql
SELECT * FROM UserInfo
WHERE uname='admin' OR '1'='1' AND pass='anything'
       â†‘           â†‘
       í•­ìƒ ê±°ì§“    í•­ìƒ ì°¸

-- ANDëŠ” ORë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìœ¼ë¯€ë¡œ:
WHERE uname='admin' OR ('1'='1' AND pass='anything')
WHERE uname='admin' OR ì°¸

-- ê²°ê³¼: ëª¨ë“  ì‚¬ìš©ìê°€ ë°˜í™˜ë¨
```

**ë” ê°„ë‹¨í•œ ê³µê²©:**
```
username: admin' --
password: (ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ë¨)

ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin' -- ' AND pass=''

-- '--'ëŠ” SQL ì£¼ì„ì´ë¯€ë¡œ ë’¤ì˜ ë‚´ìš©ì´ ë¬´ì‹œë¨
SELECT * FROM UserInfo WHERE uname='admin'
```

**ğŸ’¡ SQL ì£¼ì„:**
- `--`: í•œ ì¤„ ì£¼ì„ (MySQL, MariaDB, SQL Server)
- `#`: í•œ ì¤„ ì£¼ì„ (MySQL, MariaDB)
- `/* */`: ì—¬ëŸ¬ ì¤„ ì£¼ì„ (ëª¨ë“  DB)

#### ì‹œë‚˜ë¦¬ì˜¤ 2: UNION ê³µê²© (Data Exfiltration)

**ê³µê²© ì…ë ¥:**
```
username: admin' UNION SELECT 1,2,3,4,5 --
password: (ë¬´ê´€)

ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin' UNION SELECT 1,2,3,4,5 -- ' AND pass=''

-- ê²°ê³¼: UserInfo í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ìˆ˜ë¥¼ ì•Œì•„ëƒ„ (5ê°œ)
```

**ì»¬ëŸ¼ ìˆ˜ë¥¼ ì•Œì•„ë‚¸ í›„:**
```
username: admin' UNION SELECT 1, user(), database(), version(), 5 --

ì‹¤ì œ ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin' UNION SELECT 1, user(), database(), version(), 5 --

-- ê²°ê³¼: í˜„ì¬ DB ì‚¬ìš©ì, ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„, ë²„ì „ ì •ë³´ ìœ ì¶œ
```

**ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ë°ì´í„° ì¶”ì¶œ:**
```
username: ' UNION SELECT 1, User, Password, Host, 5 FROM mysql.user --

ì‹¤ì œ ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='' UNION SELECT 1, User, Password, Host, 5 FROM mysql.user --

-- ê²°ê³¼: mysql.user í…Œì´ë¸”ì˜ ëª¨ë“  ì‚¬ìš©ì ê³„ì • ì •ë³´ ìœ ì¶œ
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: Blind SQL Injection

**ì¡°ê±´ë¶€ ì‘ë‹µì„ ì´ìš©í•œ ê³µê²©:**
```
username: admin' AND SUBSTRING((SELECT password FROM UserInfo WHERE uname='admin'),1,1)='a' --

-- ë¹„ë°€ë²ˆí˜¸ì˜ ì²« ê¸€ìê°€ 'a'ì¸ì§€ í™•ì¸
-- ë¡œê·¸ì¸ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ë¡œ ì°¸/ê±°ì§“ íŒë‹¨

username: admin' AND SUBSTRING((SELECT password FROM UserInfo WHERE uname='admin'),1,1)='1' --

-- ë¹„ë°€ë²ˆí˜¸ì˜ ì²« ê¸€ìê°€ '1'ì¸ì§€ í™•ì¸
-- ì´ëŸ° ì‹ìœ¼ë¡œ í•œ ê¸€ìì”© ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¶”ì¶œ
```

**ì‹œê°„ ê¸°ë°˜ Blind SQL Injection:**
```
username: admin' AND IF(SUBSTRING((SELECT password FROM UserInfo WHERE uname='admin'),1,1)='1', SLEEP(5), 0) --

-- ë¹„ë°€ë²ˆí˜¸ì˜ ì²« ê¸€ìê°€ '1'ì´ë©´ 5ì´ˆ ëŒ€ê¸°
-- ì‘ë‹µ ì‹œê°„ìœ¼ë¡œ ì°¸/ê±°ì§“ íŒë‹¨
```

#### ì‹œë‚˜ë¦¬ì˜¤ 4: ë°ì´í„° ë³€ì¡° ë° ì‚­ì œ

**ë°ì´í„° ìˆ˜ì •:**
```
username: admin'; UPDATE UserInfo SET pass='hacked' WHERE uname='admin' --

ì‹¤ì œ ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin';
UPDATE UserInfo SET pass='hacked' WHERE uname='admin' -- ' AND pass=''

-- admin ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ê°€ 'hacked'ë¡œ ë³€ê²½ë¨
```

**ë°ì´í„° ì‚­ì œ:**
```
username: admin'; DROP TABLE UserInfo; --

ì‹¤ì œ ì¿¼ë¦¬:
SELECT * FROM UserInfo WHERE uname='admin';
DROP TABLE UserInfo; -- ' AND pass=''

-- UserInfo í…Œì´ë¸”ì´ ì‚­ì œë¨!
```

**ğŸ’¡ Stacked Queries:**
- ì—¬ëŸ¬ SQL ë¬¸ì„ ì„¸ë¯¸ì½œë¡ (;)ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì‹¤í–‰
- ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ê°€ ì§€ì›í•˜ëŠ” ê²ƒì€ ì•„ë‹˜
- MariaDB/MySQLì˜ ê¸°ë³¸ PHP/JSP ë“œë¼ì´ë²„ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¹„í™œì„±í™”

### SQL ì¸ì ì…˜ ì‹¤ìŠµ

**ì·¨ì•½í•œ ë¡œê·¸ì¸ í˜ì´ì§€ ìƒì„± (í…ŒìŠ¤íŠ¸ìš©):**

```bash
sudo nano /var/lib/tomcat10/webapps/ROOT/vulnerable_login.jsp
```

**vulnerable_login.jsp ë‚´ìš©:**
```jsp
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page import="java.sql.*" %>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì·¨ì•½í•œ ë¡œê·¸ì¸ (í…ŒìŠ¤íŠ¸ìš©)</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .warning { color: red; font-weight: bold; padding: 10px; background-color: #ffe1e1; }
        .query-box { background-color: #f0f0f0; padding: 10px; margin: 10px 0; font-family: monospace; }
        .result { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>ì·¨ì•½í•œ ë¡œê·¸ì¸ í˜ì´ì§€ (SQL Injection í…ŒìŠ¤íŠ¸ìš©)</h1>
    <div class="warning">
        âš ï¸ ê²½ê³ : ì´ í˜ì´ì§€ëŠ” êµìœ¡ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”!<br/>
        ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì ˆëŒ€ ì´ëŸ° ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”!
    </div>

    <form method="post">
        <p>
            <label>ì‚¬ìš©ì ì´ë¦„:</label><br/>
            <input type="text" name="username" size="50" value="<%= request.getParameter("username") != null ? request.getParameter("username") : "" %>">
        </p>
        <p>
            <label>ë¹„ë°€ë²ˆí˜¸:</label><br/>
            <input type="text" name="password" size="50" value="<%= request.getParameter("password") != null ? request.getParameter("password") : "" %>">
        </p>
        <p>
            <input type="submit" value="ë¡œê·¸ì¸">
        </p>
    </form>

    <h2>ì‹œë„í•´ë³¼ ê³µê²© ì˜ˆì œ:</h2>
    <ul>
        <li><code>admin' OR '1'='1</code> (ì¸ì¦ ìš°íšŒ)</li>
        <li><code>admin' --</code> (ì£¼ì„ì„ ì´ìš©í•œ ìš°íšŒ)</li>
        <li><code>admin' UNION SELECT 1,2,3,4,5 --</code> (UNION ê³µê²©)</li>
        <li><code>' OR 1=1 --</code> (ëª¨ë“  ë ˆì½”ë“œ ì¡°íšŒ)</li>
    </ul>

    <%
        String username = request.getParameter("username");
        String password = request.getParameter("password");

        if (username != null && password != null) {
            Connection conn = null;
            Statement stmt = null;
            ResultSet rs = null;

            try {
                Class.forName("org.mariadb.jdbc.Driver");
                String url = "jdbc:mariadb://192.168.186.130:3306/CloudDB";
                conn = DriverManager.getConnection(url, "clouduser", "password123");

                // âŒ ì·¨ì•½í•œ ì¿¼ë¦¬ (String concatenation)
                String sql = "SELECT * FROM UserInfo WHERE uname='" + username + "' AND pass='" + password + "'";

                out.println("<h2>ì‹¤í–‰ëœ ì¿¼ë¦¬:</h2>");
                out.println("<div class='query-box'>" + sql + "</div>");

                stmt = conn.createStatement();
                rs = stmt.executeQuery(sql);

                out.println("<h2>ê²°ê³¼:</h2>");
                out.println("<div class='result'>");

                boolean hasResult = false;
                while (rs.next()) {
                    hasResult = true;
                    out.println("<p><strong>ë¡œê·¸ì¸ ì„±ê³µ!</strong></p>");
                    out.println("<ul>");
                    out.println("<li>UID: " + rs.getInt("uid") + "</li>");
                    out.println("<li>ì´ë¦„: " + rs.getString("uname") + "</li>");
                    out.println("<li>í”„ë¡œí•„: " + rs.getString("profile") + "</li>");
                    out.println("<li>ìš°ì„ ìˆœìœ„: " + rs.getInt("priority") + "</li>");
                    out.println("</ul>");
                    out.println("<hr/>");
                }

                if (!hasResult) {
                    out.println("<p>ë¡œê·¸ì¸ ì‹¤íŒ¨</p>");
                }
                out.println("</div>");

            } catch (Exception e) {
                out.println("<div class='result' style='color:red'>");
                out.println("<h3>SQL ì—ëŸ¬ ë°œìƒ:</h3>");
                out.println("<pre>" + e.getMessage() + "</pre>");
                out.println("</div>");
            } finally {
                try {
                    if (rs != null) rs.close();
                    if (stmt != null) stmt.close();
                    if (conn != null) conn.close();
                } catch (SQLException e) {}
            }
        }
    %>
</body>
</html>
```

**íŒŒì¼ ê¶Œí•œ ì„¤ì •:**
```bash
sudo chown tomcat10:tomcat10 /var/lib/tomcat10/webapps/ROOT/vulnerable_login.jsp
sudo chmod 644 /var/lib/tomcat10/webapps/ROOT/vulnerable_login.jsp
```

**ì ‘ì† ë° í…ŒìŠ¤íŠ¸:**
```
http://192.168.186.128/vulnerable_login.jsp

í…ŒìŠ¤íŠ¸í•  ì…ë ¥:
1. admin' OR '1'='1
2. admin' --
3. ' OR 1=1 --
4. admin' UNION SELECT 1,2,3,4,5 --
```

## ğŸ›¡ï¸ SQL ì¸ì ì…˜ ë°©ì–´ ë°©ë²•

### 1. PreparedStatement ì‚¬ìš© (ìµœìš°ì„ )

**âœ… ì•ˆì „í•œ ì½”ë“œ:**
```java
String sql = "SELECT * FROM UserInfo WHERE uname = ? AND pass = ?";
PreparedStatement pstmt = conn.prepareStatement(sql);
pstmt.setString(1, username);  // ìë™ ì´ìŠ¤ì¼€ì´í•‘
pstmt.setString(2, password);  // ìë™ ì´ìŠ¤ì¼€ì´í•‘
ResultSet rs = pstmt.executeQuery();
```

**PreparedStatementê°€ ì•ˆì „í•œ ì´ìœ :**
1. SQL ì¿¼ë¦¬ êµ¬ì¡°ê°€ ë¯¸ë¦¬ ì»´íŒŒì¼ë¨
2. íŒŒë¼ë¯¸í„°ëŠ” ë°ì´í„°ë¡œë§Œ ì·¨ê¸‰ë¨ (ì½”ë“œë¡œ í•´ì„ ì•ˆ ë¨)
3. íŠ¹ìˆ˜ ë¬¸ìê°€ ìë™ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í•‘ë¨
4. Stacked Queries ë°©ì§€

**ë‚´ë¶€ ë™ì‘ ì›ë¦¬:**
```
ì‚¬ìš©ì ì…ë ¥: admin' OR '1'='1

Statement (ì·¨ì•½):
SELECT * FROM UserInfo WHERE uname='admin' OR '1'='1' AND pass=''
                                    â†‘ SQL ì½”ë“œë¡œ í•´ì„ë¨

PreparedStatement (ì•ˆì „):
SELECT * FROM UserInfo WHERE uname='admin'' OR ''1''=''1' AND pass=''
                                    â†‘ ì‘ì€ë”°ì˜´í‘œê°€ ì´ìŠ¤ì¼€ì´í•‘ë˜ì–´ ë¬¸ìì—´ë¡œ ì·¨ê¸‰ë¨
```

### 2. ì…ë ¥ê°’ ê²€ì¦ (Input Validation)

**í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë°©ì‹ (ê¶Œì¥):**
```java
// ì‚¬ìš©ì ì´ë¦„ì€ ì˜ë¬¸ìì™€ ìˆ«ìë§Œ í—ˆìš©
if (!username.matches("^[a-zA-Z0-9]+$")) {
    throw new IllegalArgumentException("ìœ íš¨í•˜ì§€ ì•Šì€ ì‚¬ìš©ì ì´ë¦„");
}

// ë˜ëŠ”
if (username.contains("'") || username.contains("--") ||
    username.contains(";") || username.contains("/*")) {
    throw new IllegalArgumentException("ìœ íš¨í•˜ì§€ ì•Šì€ ë¬¸ì í¬í•¨");
}
```

**ê¸¸ì´ ì œí•œ:**
```java
if (username.length() > 20) {
    throw new IllegalArgumentException("ì‚¬ìš©ì ì´ë¦„ì´ ë„ˆë¬´ ê¹ë‹ˆë‹¤");
}
```

**JSPì—ì„œì˜ ì…ë ¥ ê²€ì¦:**
```jsp
<%
    String username = request.getParameter("username");

    if (username == null || username.isEmpty()) {
        out.println("ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
        return;
    }

    if (!username.matches("^[a-zA-Z0-9]+$")) {
        out.println("ì‚¬ìš©ì ì´ë¦„ì€ ì˜ë¬¸ìì™€ ìˆ«ìë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.");
        return;
    }

    if (username.length() > 20) {
        out.println("ì‚¬ìš©ì ì´ë¦„ì€ 20ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.");
        return;
    }
%>
```

### 3. ìµœì†Œ ê¶Œí•œ ì›ì¹™ (Least Privilege)

**ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ê¶Œí•œ ìµœì†Œí™”:**
```sql
-- âŒ ë‚˜ìœ ì˜ˆ: ëª¨ë“  ê¶Œí•œ ë¶€ì—¬
GRANT ALL PRIVILEGES ON *.* TO 'webuser'@'%';

-- âœ… ì¢‹ì€ ì˜ˆ: í•„ìš”í•œ ê¶Œí•œë§Œ ë¶€ì—¬
CREATE USER 'webuser'@'192.168.186.129' IDENTIFIED BY 'password123';
GRANT SELECT, INSERT, UPDATE ON CloudDB.UserInfo TO 'webuser'@'192.168.186.129';
FLUSH PRIVILEGES;

-- DROP, CREATE, ALTER ê¶Œí•œì€ ë¶€ì—¬í•˜ì§€ ì•ŠìŒ
-- ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ë¶ˆê°€
```

**ì½ê¸° ì „ìš© ì‚¬ìš©ì ìƒì„±:**
```sql
CREATE USER 'readonly'@'192.168.186.129' IDENTIFIED BY 'readpass';
GRANT SELECT ON CloudDB.* TO 'readonly'@'192.168.186.129';
FLUSH PRIVILEGES;
```

### 4. ì—ëŸ¬ ë©”ì‹œì§€ ë…¸ì¶œ ë°©ì§€

**âŒ ë‚˜ìœ ì˜ˆ:**
```jsp
catch (SQLException e) {
    out.println("SQL Error: " + e.getMessage());
    // ì¶œë ¥: Table 'CloudDB.UserInfo' doesn't exist
    // ê³µê²©ìì—ê²Œ í…Œì´ë¸” ì´ë¦„, êµ¬ì¡° ë“±ì˜ ì •ë³´ ì œê³µ
}
```

**âœ… ì¢‹ì€ ì˜ˆ:**
```jsp
catch (SQLException e) {
    // ë¡œê·¸ì—ë§Œ ê¸°ë¡
    logger.error("Database error", e);
    // ì‚¬ìš©ìì—ê²ŒëŠ” ì¼ë°˜ì ì¸ ë©”ì‹œì§€ë§Œ í‘œì‹œ
    out.println("ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.");
}
```

### 5. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°©í™”ë²½ (WAF)

**WAFì˜ ì—­í• :**
- ì•…ì˜ì ì¸ ìš”ì²­ íŒ¨í„´ íƒì§€
- SQL ì¸ì ì…˜ ì‹œë„ ì°¨ë‹¨
- XSS, CSRF ë“± ë‹¤ì–‘í•œ ê³µê²© ë°©ì–´

**ì˜¤í”ˆì†ŒìŠ¤ WAF:**
- **ModSecurity**: Apache, nginxìš©
- **NAXSI**: nginxìš©
- **AWS WAF**: í´ë¼ìš°ë“œ í™˜ê²½

**ModSecurity ì˜ˆì œ:**
```nginx
# nginx + ModSecurity ì„¤ì •
location / {
    modsecurity on;
    modsecurity_rules_file /etc/nginx/modsec/main.conf;
    proxy_pass http://192.168.186.129:8080;
}
```

### 6. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ê°•í™”

**MySQL/MariaDB ë³´ì•ˆ ì„¤ì •:**
```ini
# /etc/mysql/mariadb.conf.d/50-server.cnf

[mysqld]
# ë¡œì»¬ íŒŒì¼ ë¡œë“œ ë¹„í™œì„±í™” (ë³´ì•ˆ)
local-infile=0

# ì‹¬ë³¼ë¦­ ë§í¬ ì‚¬ìš© ì•ˆ í•¨
symbolic-links=0

# ì¿¼ë¦¬ ë¡œê·¸ í™œì„±í™” (ê°ì‚¬)
general_log=1
general_log_file=/var/log/mysql/query.log

# ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸
slow_query_log=1
slow_query_log_file=/var/log/mysql/slow.log
long_query_time=2
```

### 7. ORM (Object-Relational Mapping) ì‚¬ìš©

**Hibernate ì˜ˆì œ (JPA):**
```java
// âŒ Native SQL (ìœ„í—˜í•  ìˆ˜ ìˆìŒ)
String sql = "SELECT * FROM UserInfo WHERE uname = '" + username + "'";
Query query = em.createNativeQuery(sql);

// âœ… JPQL with Parameters (ì•ˆì „)
String jpql = "SELECT u FROM UserInfo u WHERE u.uname = :username";
TypedQuery<UserInfo> query = em.createQuery(jpql, UserInfo.class);
query.setParameter("username", username);
List<UserInfo> results = query.getResultList();
```

## ğŸ” SQL ì¸ì ì…˜ íƒì§€ ë° ëª¨ë‹ˆí„°ë§

### ë¡œê·¸ ë¶„ì„

**ì˜ì‹¬ìŠ¤ëŸ¬ìš´ íŒ¨í„´:**
```bash
# ì›¹ ì„œë²„ ë¡œê·¸ì—ì„œ SQL ì¸ì ì…˜ ì‹œë„ íƒì§€
sudo grep -E "(union|select|insert|update|delete|drop|--|;|/\*)" /var/log/nginx/access.log

# ì˜ˆì‹œ ì¶œë ¥:
192.168.186.1 - - [17/Dec/2025:14:30:00 +0900] "POST /login.jsp HTTP/1.1" 200 1234 "username=admin'%20OR%20'1'='1"
192.168.186.1 - - [17/Dec/2025:14:30:15 +0900] "POST /login.jsp HTTP/1.1" 200 5678 "username=admin'%20UNION%20SELECT"
```

**MariaDB ì¿¼ë¦¬ ë¡œê·¸ í™œì„±í™”:**
```sql
-- ì¼ë°˜ ì¿¼ë¦¬ ë¡œê·¸ í™œì„±í™” (ì„±ëŠ¥ ì˜í–¥ ìˆìŒ, ê°œë°œ/í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œë§Œ)
SET GLOBAL general_log = 'ON';
SET GLOBAL general_log_file = '/var/log/mysql/query.log';

-- ë¡œê·¸ í™•ì¸
-- sudo tail -f /var/log/mysql/query.log

-- ë¹„í™œì„±í™”
SET GLOBAL general_log = 'OFF';
```

### ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ (IDS)

**Snort ê·œì¹™ ì˜ˆì œ:**
```
alert tcp any any -> any 80 (msg:"SQL Injection Attempt - UNION"; flow:to_server,established; content:"UNION"; nocase; classtype:web-application-attack; sid:1000001; rev:1;)

alert tcp any any -> any 80 (msg:"SQL Injection Attempt - OR 1=1"; flow:to_server,established; content:"OR"; nocase; content:"1=1"; nocase; distance:0; classtype:web-application-attack; sid:1000002; rev:1;)
```

## ğŸ“š ì¶”ê°€ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ì„¸ì…˜ ê´€ë¦¬

**ì•ˆì „í•œ ì„¸ì…˜ ì‚¬ìš©:**
```jsp
<%
    // ë¡œê·¸ì¸ ì„±ê³µ ì‹œ
    session.setAttribute("username", username);
    session.setAttribute("authenticated", true);
    session.setMaxInactiveInterval(1800);  // 30ë¶„

    // ì„¸ì…˜ ê³ ì • ê³µê²© ë°©ì–´: ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„¸ì…˜ ID ì¬ìƒì„±
    session.invalidate();
    session = request.getSession(true);
    session.setAttribute("username", username);
%>
```

**ì„¸ì…˜ ê²€ì¦:**
```jsp
<%
    // ë³´í˜¸ëœ í˜ì´ì§€ì—ì„œ
    if (session.getAttribute("authenticated") == null ||
        !((Boolean) session.getAttribute("authenticated"))) {
        response.sendRedirect("login.html");
        return;
    }
%>
```

### HTTPS ì‚¬ìš©

**HTTPSì˜ ì¤‘ìš”ì„±:**
- ì „ì†¡ ì¤‘ ë°ì´í„° ì•”í˜¸í™”
- ì¤‘ê°„ì ê³µê²© (MITM) ë°©ì§€
- ë„¤íŠ¸ì›Œí¬ ìŠ¤ë‹ˆí•‘ ë°©ì–´

**nginx HTTPS ì„¤ì •:**
```nginx
server {
    listen 443 ssl;
    server_name example.com;

    ssl_certificate /etc/ssl/certs/example.com.crt;
    ssl_certificate_key /etc/ssl/private/example.com.key;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;

    location / {
        proxy_pass http://192.168.186.129:8080;
    }
}

# HTTPë¥¼ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
server {
    listen 80;
    server_name example.com;
    return 301 https://$server_name$request_uri;
}
```

### ë¹„ë°€ë²ˆí˜¸ í•´ì‹±

**bcrypt ì‚¬ìš© ì˜ˆì œ (Java):**
```java
import org.mindrot.jbcrypt.BCrypt;

// ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
String hashedPassword = BCrypt.hashpw(plainPassword, BCrypt.gensalt());
// ì¶œë ¥: $2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy

// ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
if (BCrypt.checkpw(plainPassword, hashedPassword)) {
    System.out.println("ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜");
} else {
    System.out.println("ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜");
}
```

**ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥:**
```sql
-- pass ì»¬ëŸ¼ì„ VARCHAR(128)ë¡œ ì„¤ì • (bcrypt í•´ì‹œëŠ” 60ì)
CREATE TABLE UserInfo (
    uid INT PRIMARY KEY AUTO_INCREMENT,
    uname VARCHAR(20) NOT NULL,
    pass VARCHAR(128) NOT NULL,  -- bcrypt í•´ì‹œ ì €ì¥
    ...
);

-- í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸ ì‚½ì…
INSERT INTO UserInfo (uname, pass) VALUES
('admin', '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy');
```

## âœ… ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

**SQL ì¸ì ì…˜ ë°©ì–´:**
- [ ] PreparedStatementë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ì‚¬ìš©ì ì…ë ¥ì„ ê²€ì¦í•˜ëŠ”ê°€?
- [ ] í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë°©ì‹ìœ¼ë¡œ ê²€ì¦í•˜ëŠ”ê°€?
- [ ] SQL ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œí•˜ì§€ ì•ŠëŠ”ê°€?

**ë°ì´í„°ë² ì´ìŠ¤ ë³´ì•ˆ:**
- [ ] ìµœì†Œ ê¶Œí•œ ì›ì¹™ì„ ì ìš©í–ˆëŠ”ê°€?
- [ ] ì½ê¸° ì „ìš© ì‚¬ìš©ìë¥¼ ë³„ë„ë¡œ ìƒì„±í–ˆëŠ”ê°€?
- [ ] bind-addressë¥¼ ì ì ˆíˆ ì„¤ì •í–ˆëŠ”ê°€?
- [ ] ë¶ˆí•„ìš”í•œ ìƒ˜í”Œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì œê±°í–ˆëŠ”ê°€?

**ì¸ì¦ ë° ì„¸ì…˜:**
- [ ] ë¹„ë°€ë²ˆí˜¸ë¥¼ í•´ì‹±í•˜ì—¬ ì €ì¥í•˜ëŠ”ê°€?
- [ ] bcrypt ë˜ëŠ” Argon2ë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ì„¸ì…˜ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í–ˆëŠ”ê°€?
- [ ] ì„¸ì…˜ ê³ ì • ê³µê²©ì„ ë°©ì–´í•˜ëŠ”ê°€?

**ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ:**
- [ ] HTTPSë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ë°©í™”ë²½ì„ ì„¤ì •í–ˆëŠ”ê°€?
- [ ] ë¶ˆí•„ìš”í•œ í¬íŠ¸ë¥¼ ë‹«ì•˜ëŠ”ê°€?
- [ ] ë¡œê·¸ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ëŠ”ê°€?

**ì¼ë°˜ ë³´ì•ˆ:**
- [ ] ì‹œìŠ¤í…œì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ”ê°€?
- [ ] ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ì •ì±…ì„ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…í•˜ëŠ”ê°€?
- [ ] ë³´ì•ˆ íŒ¨ì¹˜ë¥¼ ì¦‰ì‹œ ì ìš©í•˜ëŠ”ê°€?

## ğŸ¯ í•™ìŠµ ë§ˆë¬´ë¦¬

### ê°•ì˜ í•µì‹¬ ë‚´ìš© ìš”ì•½

**1. 3ê³„ì¸µ ì•„í‚¤í…ì²˜**
```
Client â† â†’ Web Server (nginx) â† â†’ WAS (Tomcat) â† â†’ Database (MariaDB)
```
- ê° ê³„ì¸µì˜ ì—­í• ê³¼ ì±…ì„ ë¶„ë¦¬
- í™•ì¥ì„±, ë³´ì•ˆ, ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

**2. ì£¼ìš” ê¸°ìˆ **
- **Linux**: Ubuntu, ë„¤íŠ¸ì›Œí¬, í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
- **nginx**: ì›¹ ì„œë²„, ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ
- **Tomcat**: WAS, JSP/Servlet ì»¨í…Œì´ë„ˆ
- **MariaDB**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- **JDBC**: Java ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™

**3. ë³´ì•ˆ**
- **SQL ì¸ì ì…˜**: ê°€ì¥ ìœ„í—˜í•œ ì›¹ ì·¨ì•½ì  ì¤‘ í•˜ë‚˜
- **PreparedStatement**: í•„ìˆ˜ ë°©ì–´ ìˆ˜ë‹¨
- **ì…ë ¥ ê²€ì¦, ìµœì†Œ ê¶Œí•œ, ì•”í˜¸í™”**: ë‹¤ì¸µ ë°©ì–´

### ì¶”ê°€ í•™ìŠµ ê¶Œì¥ì‚¬í•­

**ì‹¬í™” í•™ìŠµ ì£¼ì œ:**
1. **ê³ ê¸‰ SQL**: ì¸ë±ìŠ¤, ì¿¼ë¦¬ ìµœì í™”, íŠ¸ëœì­ì…˜
2. **í”„ë ˆì„ì›Œí¬**: Spring Boot, Hibernate/JPA
3. **ë³´ì•ˆ**: OWASP Top 10, ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸
4. **ì„±ëŠ¥**: ìºì‹±, ë¡œë“œ ë°¸ëŸ°ì‹±, CDN
5. **DevOps**: Docker, Kubernetes, CI/CD
6. **í´ë¼ìš°ë“œ**: AWS, Azure, GCP

**ì‹¤ìŠµ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´:**
- ê²Œì‹œíŒ ì‹œìŠ¤í…œ
- ì‡¼í•‘ëª°
- ì˜ˆì•½ ì‹œìŠ¤í…œ
- REST API ì„œë²„
- ì‹¤ì‹œê°„ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜

### ë§ˆì¹˜ë©°

ì´ë²ˆ ê°•ì˜ë¥¼ í†µí•´ 3ê³„ì¸µ ì›¹ ì•„í‚¤í…ì²˜ì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³ , ê° ê³„ì¸µì„ êµ¬ì¶•í•˜ê³  ì—°ë™í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí–ˆë‹¤. ë˜í•œ SQL ì¸ì ì…˜ì´ë¼ëŠ” ì¹˜ëª…ì ì¸ ë³´ì•ˆ ì·¨ì•½ì ê³¼ ê·¸ ë°©ì–´ ë°©ë²•ì— ëŒ€í•´ ë°°ì› ë‹¤.

**ğŸ’¡ ê¸°ì–µí•  ì :**
- ë³´ì•ˆì€ ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜
- PreparedStatementëŠ” í•­ìƒ ì‚¬ìš©
- ìµœì†Œ ê¶Œí•œ ì›ì¹™ ì¤€ìˆ˜
- ì…ë ¥ì€ í•­ìƒ ê²€ì¦
- ì—ëŸ¬ ë©”ì‹œì§€ ë…¸ì¶œ ì£¼ì˜

**ì„±ê³µì ì¸ ê°œë°œì„ ìœ„í•´:**
- ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— ì„¤ê³„
- ë¬¸ì„œí™”ë¥¼ ìƒí™œí™”
- ì½”ë“œ ë¦¬ë·° ì ê·¹ í™œìš©
- ë³´ì•ˆì„ ìš°ì„  ìˆœìœ„ì— ë‘ê¸°
- ì§€ì†ì ì¸ í•™ìŠµê³¼ ê°œì„ 


**ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!** ğŸ‰
