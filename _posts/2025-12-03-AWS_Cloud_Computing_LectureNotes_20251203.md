
---
title: "📝 AWS 클라우드 컴퓨팅 강의 노트 (2025-12-03)"
date: 2025-12-03
excerpt: "오늘 강의에서는 Amazon Web Services (AWS) 클라우드 컴퓨팅의 기본 개념부터 실전 활용까지 폭넓은 내용을 다루었습니다. 특히 AWS 계정 관리, 글로벌 인프라 구조, 요금 모델, 그리고 IAM(Identity and Access Managemen..."
categories:
  - AWS-Cloud
tags:
  - AWS-Cloud
  - SK_Rookies
---

# 📝 AWS 클라우드 컴퓨팅 강의 노트 (2025-12-03)

## 📚 강의 개요

오늘 강의에서는 **Amazon Web Services (AWS) 클라우드 컴퓨팅의 기본 개념**부터 **실전 활용**까지 폭넓은 내용을 다루었습니다. 특히 AWS 계정 관리, 글로벌 인프라 구조, 요금 모델, 그리고 IAM(Identity and Access Management) 서비스를 중심으로 학습했습니다.

### 🎯 학습 목표

이번 강의를 통해 다음 내용들을 완전히 이해하고 실습할 수 있게 되었습니다:

1. **AWS 계정 및 리소스 관리**: 리전 배정, 리소스 명명 규칙, 사용 시간 관리
2. **AWS 글로벌 인프라**: 리전, 가용 영역, 엣지 로케이션 등의 개념과 역할
3. **클라우드 요금 모델**: 종량제 요금 체계와 비용 최적화 전략
4. **Well-Architected Framework**: AWS의 모범 사례 및 설계 원칙
5. **AWS 서비스**: EC2, S3, RDS, IAM 등 핵심 서비스의 이해
6. **IAM 서비스**: 사용자, 그룹, 역할, 정책 관리의 실전 활용
7. **실습**: S3 버킷 생성 및 관리, IAM 정책 구성

---

## 🔐 Section 1: AWS 계정 안내 및 사용 규칙

### 📋 AWS 계정 정보 확인 방법

강의 시작 전, 운영진으로부터 AWS 계정 사용에 대한 중요한 안내사항이 전달되었습니다.

#### ✅ 계정 정보 확인 절차

**Step 1: LMS 사이트 접속**
```
1. WSTS LMS 사이트 (https://lms.wsts.or.kr) 접속
2. 로그인 후 상단 메뉴에서 '내 정보' 클릭
3. '학습계정 정보' 메뉴 선택
```

**Step 2: AWS 계정 정보 확인**

LMS 학습계정 정보 페이지에서 다음 정보를 확인할 수 있습니다:

| **항목** | **설명** | **용도** |
|:--------:|:--------:|:--------:|
| AWS 계정 번호 | 12자리 숫자 | 콘솔 로그인 시 사용 |
| IAM 사용자 이름 | 개인별 고유 ID | 로그인 계정명 |
| 초기 비밀번호 | 최초 접속용 임시 비밀번호 | 첫 로그인 시 변경 필요 |
| 할당 리전 | 사용 가능한 AWS 리전 | 리소스 생성 위치 |
| 계정 번호 | 학습자 고유 번호 | 리소스 명명 시 사용 |

💡 **중요!**:
- IAM 계정 정보는 개인별로 고유하게 발급됩니다
- 초기 비밀번호는 반드시 변경해야 합니다
- 계정 정보는 외부에 절대 공유하지 마세요

---

### 🌍 리전 배정 및 사용 규칙

#### 📌 리전 배정의 필요성

강의에서 강조된 바와 같이, **수강생이 많아질수록 한 리전에 리소스가 집중되면 AWS의 리소스 쿼터(Quota) 제한**에 걸릴 수 있습니다.

**리소스 쿼터란?**
- AWS는 각 리전마다 생성할 수 있는 리소스의 수량을 제한합니다
- 예: EC2 인스턴스 최대 개수, VPC 개수, Elastic IP 개수 등
- 너무 많은 사용자가 동일 리전을 사용하면 쿼터 초과로 리소스 생성 불가

#### ✅ 리전 사용 규칙

**규칙 1: 할당된 리전에서만 작업**

각 수강생에게는 특정 리전이 배정되어 있습니다. 반드시 자신에게 할당된 리전에서만 작업해야 합니다.

```
예시:
- 홍길동: ap-northeast-2 (서울)
- 김철수: us-west-2 (오레곤)
- 이영희: ap-northeast-1 (도쿄)
```

💡 **왜 리전을 나누는가?**
- 리소스 쿼터 분산
- 리소스 관리 용이성
- 실습 환경 안정성 확보

**규칙 2: 리소스 명명 규칙 준수**

⚠️ **주의**: 동일 리전 내에서 같은 이름의 리소스는 생성할 수 없습니다!

강사가 "test"라는 이름으로 S3 버킷을 만든다고 해서, 수강생도 똑같이 "test"로 만들면 **이름 충돌 오류**가 발생합니다.

**올바른 명명 규칙:**

```
리소스명 = [서비스명]-[본인번호]-[용도]

예시:
- S3 버킷: s3-bucket-001-test
- EC2 인스턴스: ec2-instance-001-web
- RDS 데이터베이스: rds-db-001-mysql
```

**명명 규칙의 장점:**
1. **충돌 방지**: 고유한 번호로 다른 사람과 구분
2. **검색 용이**: 본인 리소스를 쉽게 찾을 수 있음
3. **관리 편의**: 리소스 삭제 시 자신의 것만 선택 가능
4. **식별 명확**: "이건 내 것, 저건 다른 사람 것" 명확히 구분

#### 🔍 리전별 특성 이해

**리전이란?**
- AWS가 전 세계에 구축한 독립적인 데이터 센터 집합
- 각 리전은 지리적으로 분리되어 있음
- 리전마다 제공하는 서비스와 가격이 약간씩 다를 수 있음

**주요 리전 예시:**

| **리전 코드** | **리전 이름** | **위치** | **특징** |
|:-------------:|:-------------:|:--------:|:--------:|
| ap-northeast-2 | 서울 리전 | 한국 서울 | 낮은 레이턴시, 한국 사용자에게 최적 |
| us-east-1 | 버지니아 북부 | 미국 동부 | AWS 최초 리전, 가장 많은 서비스 제공 |
| us-west-2 | 오레곤 | 미국 서부 | 비용 효율적 |
| ap-northeast-1 | 도쿄 리전 | 일본 도쿄 | 아시아 태평양 지역 |

---

### ⏰ AWS 사용 기간 및 시간 규칙

#### 📅 사용 기간

```
정규 사용 기간: 오늘 (2025-12-03) ~ 다음 주 목요일
총 사용 기간: 약 8-9일
```

#### 🕐 정규 사용 시간

**평일 (금요일 ~ 목요일)**
```
사용 가능 시간: 09:00 ~ 18:00
사용 불가 시간: 18:00 ~ 익일 09:00
```

💡 **정규 시간의 의미**:
- 수업 시간 및 자율 실습 시간
- 이 시간대에는 별도 승인 없이 자유롭게 AWS 리소스 사용 가능
- 리소스 생성, 수정, 삭제 모두 허용

#### 📝 정규 시간 외 사용 신청

**시간 외 사용이 필요한 경우:**
1. 녹화 강의 복습
2. 실습 내용 재수강
3. 개인 학습 및 프로젝트 실습

**신청 방법:**

**Step 1: 클라우드 사용 신청서 작성**

신청서 양식:
```
=====================================
AWS 클라우드 사용 신청서
=====================================

1. 신청자 정보
   - 이름: 홍길동
   - 계정 번호: 001
   - 연락처: 010-1234-5678

2. 사용 목적
   - 예: EC2 실습 복습, S3 버킷 관리 학습

3. 사용 예정 시간
   - 시작: 2025-12-03 19:00
   - 종료: 2025-12-03 22:00
   - 총 시간: 3시간

4. 사용 예정 서비스
   - EC2, S3, RDS

5. 예상 비용 (가능한 경우)
   - EC2 t2.micro: 1시간 x $0.0116 = $0.03
   - S3 스토리지: 1GB x $0.023 = $0.023
   - 총 예상: 약 $0.05

   * 비용 산정이 어려운 경우 사유 기재:
   "녹화 강의 시청 전까지는 정확한 서비스를
    알 수 없어 비용 산정 불가"
=====================================
```

**Step 2: 제출 기한**

| **사용 시점** | **제출 기한** |
|:-------------:|:-------------:|
| 평일 저녁 (18:00 이후) | 당일 17:00 이전 |
| 주말 (토요일, 일요일) | 금요일 14:00 이전 |

**예시:**
```
- 화요일 저녁 19:00에 사용하고 싶다
  → 화요일 17:00 이전에 신청서 제출

- 토요일 오후에 사용하고 싶다
  → 금요일 14:00 이전에 신청서 제출
```

💡 **운영진의 배려**:
- 비용 산정이 어려운 경우, 사유만 명확히 기재하면 OK
- "복습을 위해 사용하는데, 어떤 서비스를 쓸지 미리 알 수 없음" → 승인 가능
- 중요한 것은 **사용 시간과 목적의 명확한 기재**

---

### 🗑️ 리소스 삭제의 중요성

#### ⚠️ 왜 리소스를 꼭 삭제해야 하는가?

강사님께서 강조하신 내용:

> "강사님께서 지도를 해 주실 겁니다. 중간에 시험이나 사정이 있어서 빠지시더라도, 돌아오셔서 **리소스 삭제를 꼭 해주시기 바랍니다**."

**리소스를 삭제하지 않으면 발생하는 문제:**

1. **비용 발생**:
   - 사용하지 않는 리소스도 요금이 계속 청구됨
   - EC2 인스턴스: 중지 상태여도 EBS 볼륨 비용 발생
   - S3: 저장된 데이터만큼 매달 비용 청구

2. **리소스 쿼터 낭비**:
   - 삭제하지 않은 리소스가 쿼터를 차지함
   - 다른 수강생이 리소스를 생성하지 못할 수 있음

3. **관리 혼란**:
   - 불필요한 리소스가 쌓여 관리가 어려워짐
   - 나중에 어떤 것을 삭제해야 할지 헷갈림

#### ✅ 리소스 삭제 체크리스트

**실습 종료 후 반드시 확인:**

```
[ ] EC2 인스턴스 종료 (Terminate)
[ ] EBS 볼륨 삭제
[ ] S3 버킷 비우기 (Empty) 후 삭제
[ ] RDS 데이터베이스 삭제
[ ] Elastic IP 릴리즈
[ ] 로드 밸런서 삭제
[ ] VPC 관련 리소스 정리
[ ] IAM 임시 사용자/역할 삭제 (필요 시)
```

💡 **팁**:
- 실습 중간중간 불필요한 리소스는 즉시 삭제
- "나중에 한꺼번에 삭제해야지" → 잊어버리기 쉬움
- 실습 완료 직후 바로 삭제하는 습관 중요

---

### 🔒 AWS 계정 보안 수칙

#### 🚨 절대 금지 사항

**1. AWS 계정 키 외부 노출 금지**

강사님 강조 사항:
> "AWS 계정 키는 외부에 노출하시면 안 됩니다. 과금이 부과되는 경우 여러분에게 책임이 있습니다."

**계정 키란?**
- **Access Key ID**: 액세스 키 ID (공개 키와 유사)
- **Secret Access Key**: 비밀 액세스 키 (절대 공유 금지!)

**외부 노출 경로:**
- GitHub 등 공개 저장소에 업로드
- 소스 코드에 하드코딩
- 메일, 메신저로 전송
- 스크린샷 공유

**노출 시 발생 가능한 문제:**
```
1. 해커가 계정 키를 획득
2. 수많은 EC2 인스턴스를 대량 생성 (예: 100대)
3. 암호화폐 채굴 등 악용
4. 막대한 과금 발생 (수백만 원 ~ 수천만 원)
5. 책임은 계정 소유자에게!
```

⚠️ **실제 사례**:
```
한 개발자가 GitHub에 AWS 키를 실수로 업로드
→ 2시간 만에 $5,000 (약 600만 원) 과금 발생
→ 해커가 자동화 봇으로 GitHub을 스캔하여 즉시 악용
```

**2. Root 계정 정보 공유 금지**

- Root 계정은 모든 권한을 가진 최상위 계정
- 어떤 경우에도 Root 비밀번호를 타인과 공유하지 말 것
- 업무용으로는 IAM 사용자 계정을 사용

#### 🛡️ 보안 모범 사례

**1. 비밀번호 관리**

**강력한 비밀번호 생성 규칙:**
```
- 최소 12자 이상
- 대문자, 소문자, 숫자, 특수문자 조합
- 사전에 있는 단어 사용 금지
- 개인 정보 포함 금지 (생년월일, 전화번호 등)
```

**좋은 비밀번호 예시:**
```
✅ Aws@2025!MySecure#Pass
✅ Cl0ud$Compute!2025
✅ S3cureP@ssw0rd#AWS
```

**나쁜 비밀번호 예시:**
```
❌ password123
❌ admin1234
❌ 19901010 (생년월일)
❌ aws2025
```

**2. 정기적인 비밀번호 변경**

```
권장 주기: 3개월마다 변경
최소 주기: 6개월마다 변경
```

**3. MFA(다중 인증) 설정**

MFA란?
- Multi-Factor Authentication
- 비밀번호 + 추가 인증 수단
- 예: 비밀번호 + 스마트폰 OTP

**MFA 설정 시 장점:**
```
해커가 비밀번호를 알아도 →
스마트폰 OTP 없이는 로그인 불가 →
계정 보안 크게 강화
```

---

### 💰 비용 관리 주의사항

#### 💡 비용 발생 원리 이해

**과금 시점:**

| **리소스** | **과금 시작** | **과금 종료** |
|:----------:|:------------:|:------------:|
| EC2 인스턴스 | Running 상태 | Stopped/Terminated |
| EBS 볼륨 | 생성 시점 | 삭제 시점 |
| S3 버킷 | 데이터 저장 시 | 데이터 삭제 시 |
| RDS | 생성 시점 | 삭제 시점 |
| Elastic IP | 미사용 시 | 릴리즈 또는 인스턴스에 연결 |

⚠️ **주의**:
```
EC2를 Stopped해도 →
연결된 EBS 볼륨은 계속 과금 →
완전 삭제를 원하면 Terminate 필요
```

#### 📊 비용 모니터링

**AWS 비용 확인 방법:**

**Step 1: Billing Dashboard 접속**
```
1. AWS 콘솔 우측 상단 → 계정 이름 클릭
2. "Billing and Cost Management" 선택
3. Dashboard에서 현재 월 누적 비용 확인
```

**Step 2: Cost Explorer 활용**
```
1. Billing Dashboard → Cost Explorer
2. 일별, 월별 비용 추이 그래프 확인
3. 서비스별 비용 분석
```

**Step 3: Budgets 설정**
```
1. Budgets 메뉴 선택
2. "Create budget" 클릭
3. 월 예산 설정 (예: $10)
4. 알림 설정 (예: 80% 초과 시 이메일 발송)
```

💡 **프리 티어 활용**:
```
AWS 신규 가입 후 12개월간:
- EC2 t2.micro: 월 750시간 무료
- S3: 5GB 무료
- RDS: db.t2.micro 월 750시간 무료
```

---

### 📞 문의 및 지원

#### 🆘 AWS 사용 관련 질문

**운영진 문의:**
- 계정 문제, 권한 문제, 승인 관련
- 클라우드 사용 신청서 제출
- 비용 관련 문의

**강사님 문의:**
- AWS 서비스 기술적 질문
- 실습 오류 해결
- 아키텍처 설계 조언

#### 📧 긴급 상황 대응

**긴급 상황 예시:**
1. 계정 로그인 불가
2. 예상치 못한 고액 과금 발생
3. 리소스 삭제 불가
4. 권한 오류

**대응 절차:**
```
1. 상황 정확히 파악 (오류 메시지 캡처)
2. 운영진/강사님께 즉시 연락
3. 가능한 경우 관련 리소스 즉시 중지/삭제
```

---

## ✅ Section 1 핵심 요약

### 📋 반드시 기억해야 할 내용

1. **계정 정보 확인**: LMS → 내 정보 → 학습계정 정보
2. **리전 규칙**: 할당된 리전에서만 작업
3. **명명 규칙**: [서비스]-[번호]-[용도] 형식 준수
4. **사용 시간**: 평일 09:00~18:00, 시간 외 사용은 사전 승인 필요
5. **리소스 삭제**: 실습 종료 후 즉시 삭제
6. **보안**: AWS 계정 키 외부 노출 절대 금지
7. **비용 관리**: 정기적으로 Billing Dashboard 확인

### 🎯 Section 1 학습 체크리스트

```
[ ] LMS에서 AWS 계정 정보를 확인했다
[ ] 할당된 리전을 확인하고 기억한다
[ ] 리소스 명명 규칙을 이해했다
[ ] 정규 사용 시간을 숙지했다
[ ] 클라우드 사용 신청서 작성 방법을 안다
[ ] 리소스 삭제의 중요성을 이해했다
[ ] AWS 계정 보안 수칙을 숙지했다
[ ] 비용 모니터링 방법을 안다
```

💡 **다음 섹션 예고**:
Section 2에서는 AWS 글로벌 인프라스트럭처의 핵심 개념인 **리전(Region), 가용 영역(Availability Zone), 엣지 로케이션(Edge Location)** 등을 상세히 학습합니다. 이러한 인프라 구조를 이해하는 것은 고가용성과 장애 복구 전략을 설계하는 데 필수적입니다.

---
## 🌍 Section 2: AWS 글로벌 인프라스트럭처

### 📚 글로벌 인프라 개요

AWS는 전 세계에 걸쳐 방대한 물리적 인프라를 구축하고 있습니다. 이러한 인프라는 계층적 구조로 설계되어 있으며, 각 계층은 특정한 목적과 역할을 수행합니다.

**AWS 글로벌 인프라의 핵심 구성 요소:**
1. **리전 (Region)**: 지리적으로 분리된 데이터 센터 클러스터
2. **가용 영역 (Availability Zone, AZ)**: 리전 내 독립적인 데이터 센터
3. **엣지 로케이션 (Edge Location)**: 콘텐츠 전송 가속화 지점
4. **로컬 존 (Local Zone)**: 사용자 근접 소규모 데이터 센터
5. **웨이브렝스 존 (Wavelength Zone)**: 5G 네트워크 통신사 인프라
6. **아웃포스트 (Outposts)**: 고객 온프레미스 AWS 인프라

---

### 🗺️ 리전 (Region)

#### 🔍 리전의 정의와 특징

**리전이란?**

리전은 AWS가 전 세계 주요 지역에 구축한 **물리적으로 분리된 데이터 센터의 집합**입니다. 각 리전은 다음과 같은 특징을 가집니다:

1. **지리적 독립성**:
   - 각 리전은 수백 킬로미터 이상 떨어진 독립된 위치
   - 자연재해, 정전 등의 영향이 다른 리전에 파급되지 않음

2. **완전한 독립 운영**:
   - 각 리전은 독자적인 전력, 네트워킹, 냉각 시스템 보유
   - 한 리전의 장애가 다른 리전에 영향을 주지 않음

3. **데이터 주권 준수**:
   - 리전 간 데이터 자동 복제 없음
   - 고객이 명시적으로 설정하지 않으면 데이터는 리전 내에만 보관
   - 각국의 데이터 보호법 준수 가능

#### 📊 리전 현황 (2025년 기준)

강의에서 언급된 AWS 글로벌 인프라 규모:

```
전 세계 리전: 37개
가용 영역: 117개
엣지 로케이션: 약 700개
로컬 존 + 웨이브렝스 존: 43개
```

**리전 분포 현황:**

| **대륙/지역** | **리전 수** | **주요 리전** |
|:-------------:|:----------:|:------------:|
| 북미 | ~12개 | us-east-1 (버지니아 북부), us-west-2 (오레곤) |
| 남미 | 1개 | 상파울루 |
| 유럽 | ~9개 | eu-west-1 (아일랜드), eu-central-1 (프랑크푸르트) |
| 아시아 태평양 | ~13개 | ap-northeast-2 (서울), ap-northeast-1 (도쿄) |
| 중동 | 2개 | 바레인, UAE |
| 아프리카 | 1개 | 케이프타운 |

#### 🇰🇷 서울 리전 상세 정보

**리전 코드**: `ap-northeast-2`

**출시 연도**: 2016년

**가용 영역 수**: 4개
```
ap-northeast-2a
ap-northeast-2b
ap-northeast-2c
ap-northeast-2d
```

**서울 리전의 장점:**
1. **낮은 레이턴시**: 한국 사용자에게 5-10ms 수준의 빠른 응답
2. **데이터 주권**: 한국 데이터 보호법 준수
3. **높은 가용성**: 4개의 가용 영역으로 안정적 서비스 제공

#### 🇯🇵 일본 리전 비교

**도쿄 리전 (ap-northeast-1)**
```
출시 연도: 2011년
가용 영역: 4개
특징: 아시아 최초 AWS 리전, 가장 많은 서비스 제공
```

**오사카 리전 (ap-northeast-3)**
```
출시 연도: 2021년
가용 영역: 3개
특징: 재해 복구(DR) 용도로 주로 활용
```

💡 **왜 오사카는 가용 영역이 3개?**
- 오사카는 도쿄 리전의 DR(Disaster Recovery) 백업 용도로 설계
- 도쿄에서 대규모 재해 발생 시 오사카로 페일오버
- 비용 효율성을 위해 최소 권장 수인 3개 AZ로 구성

#### 🇺🇸 미국 버지니아 북부 리전의 특별함

**리전 코드**: `us-east-1`

**출시 연도**: 2006년 (AWS 최초 상용 서비스)

**가용 영역 수**: 6개 (AWS 최다)

**특별한 이유:**

1. **AWS의 탄생지**:
   ```
   2006년 Amazon이 자사 쇼핑몰 인프라를 상용 서비스로 전환
   → AWS 클라우드 컴퓨팅의 시작
   ```

2. **가장 많은 서비스 제공**:
   - 신규 AWS 서비스는 대부분 us-east-1에서 먼저 출시
   - 베타 서비스도 이 리전에서 먼저 테스트

3. **최다 가용 영역**:
   - 6개 AZ로 최고 수준의 고가용성 제공
   - 다른 리전은 평균 3-4개 AZ

4. **비용 효율성**:
   - 가장 낮은 가격대의 인스턴스 제공
   - 많은 스타트업이 이 리전을 선택하는 이유

#### 🇨🇳 중국 리전의 특수성

**중국 리전의 독특한 점:**

1. **별도 계정 필요**:
   ```
   글로벌 AWS 계정 ≠ 중국 AWS 계정
   → 중국에서 서비스하려면 별도 가입 필요
   ```

2. **독립적인 운영**:
   - 중국 정부 규정 준수를 위한 별도 운영 체계
   - 중국 내 파트너사를 통한 서비스 제공

3. **별도의 비용 청구**:
   - 글로벌 계정과 통합 청구 불가
   - 중국 위안화(CNY)로 별도 결제

4. **제한된 서비스**:
   - 일부 글로벌 서비스는 중국에서 미제공
   - 중국 법규에 따른 제약 사항 존재

#### 🏢 리전 선택 기준

리소스를 배포할 리전을 선택할 때 고려해야 할 요소:

**1. 레이턴시 (Latency)**

```mermaid
graph LR
    A[서울 사용자] -->|5-10ms| B[ap-northeast-2 서울]
    A -->|30-40ms| C[ap-northeast-1 도쿄]
    A -->|150-200ms| D[us-west-2 오레곤]
    A -->|180-250ms| E[us-east-1 버지니아]
```

**레이턴시 최적화 전략:**
```
타겟 사용자가 한국에 집중
→ ap-northeast-2 (서울) 선택

타겟 사용자가 전 세계
→ CloudFront (CDN) + 다중 리전 배포
```

**2. 비용 (Cost)**

리전별 비용 비교 예시 (EC2 t3.medium 시간당 가격):

| **리전** | **시간당 비용** | **월 비용 (730시간)** |
|:--------:|:--------------:|:-------------------:|
| us-east-1 | $0.0416 | $30.37 |
| us-west-2 | $0.0416 | $30.37 |
| ap-northeast-2 (서울) | $0.0520 | $37.96 |
| eu-west-1 | $0.0464 | $33.87 |

💡 **비용 차이 발생 이유**:
- 전력 비용의 지역별 차이
- 부동산 비용
- 세금 및 운영 비용
- 공급망 및 물류 비용

**3. 규정 준수 (Compliance)**

**데이터 주권 예시:**

```
시나리오: 한국 의료 기관의 환자 데이터

한국 개인정보보호법 요구사항:
- 민감 정보는 국내에 보관
- 해외 이전 시 별도 동의 필요

솔루션:
→ ap-northeast-2 (서울) 리전 사용
→ 데이터를 한국 내에만 보관
```

**GDPR (유럽 개인정보보호법) 준수:**
```
유럽 사용자 데이터
→ EU 리전 (프랑크푸르트, 아일랜드 등) 사용
→ 데이터를 EU 외부로 이전 금지
```

**4. 서비스 가용성**

**신규 서비스 출시 순서:**
```
1. us-east-1 (버지니아 북부)
2. 기타 미국 리전
3. 주요 리전 (서울, 도쿄, 프랑크푸르트 등)
4. 소규모 리전
```

**예시: 특정 AI 서비스**
```
Amazon SageMaker의 신규 기능
→ 처음엔 us-east-1에만 제공
→ 몇 개월 후 다른 리전으로 확대
```

💡 **전략**:
```
최신 서비스가 필수적이지 않은 경우
→ 레이턴시와 비용 우선 고려

최신 서비스 필수
→ us-east-1 선택 또는 서비스 출시 대기
```

**5. 재해 복구 (Disaster Recovery)**

**다중 리전 DR 전략:**

```mermaid
graph TB
    A[Primary: ap-northeast-2 서울] -->|Replication| B[Secondary: ap-northeast-1 도쿄]
    A -->|Backup| C[Tertiary: ap-southeast-1 싱가포르]

    style A fill:#4CAF50
    style B fill:#FFC107
    style C fill:#2196F3
```

**리전 간 거리 고려:**
```
너무 가까운 리전
→ 동일 재해 영향 가능 (예: 지진)

너무 먼 리전
→ 복제 레이턴시 증가, 비용 상승

적절한 거리
→ 서울-도쿄 (약 1,000km)
→ 서울-싱가포르 (약 4,600km)
```

#### 🔗 리전 간 연결

**AWS Backbone Network**

AWS는 리전 간 전용 고속 네트워크를 구축하여 운영:

```
특징:
- 공용 인터넷을 거치지 않음
- 낮은 레이턴시, 높은 대역폭
- 예측 가능한 성능
- 보안 강화 (암호화 통신)
```

**리전 간 데이터 전송 비용:**

| **전송 방향** | **GB당 비용** |
|:-------------:|:------------:|
| 동일 리전 내 (AZ 간) | $0.01 |
| 다른 리전으로 (아웃바운드) | $0.02 |
| 인터넷으로 (아웃바운드) | $0.09 ~ $0.15 |

💡 **비용 최적화 팁**:
```
리전 간 데이터 전송 최소화
→ 가능한 한 동일 리전 내에서 처리
→ 꼭 필요한 데이터만 다른 리전으로 복제
```

---

### 🏗️ 가용 영역 (Availability Zone, AZ)

#### 🔍 가용 영역의 정의

**가용 영역(AZ)이란?**

가용 영역은 **하나 이상의 물리적 데이터 센터로 구성된 독립적인 인프라 단위**입니다.

```
리전
├── Availability Zone A
│   ├── Data Center 1
│   └── Data Center 2
├── Availability Zone B
│   ├── Data Center 3
│   └── Data Center 4
└── Availability Zone C
    ├── Data Center 5
    └── Data Center 6
```

#### ⚡ 가용 영역의 핵심 특징

**1. 물리적 분리**

각 AZ는 물리적으로 분리되어 있습니다:

```
분리 거리: 수 킬로미터 ~ 수십 킬로미터
→ 한 AZ의 화재, 홍수, 정전이 다른 AZ에 영향 없음

독립 전력 공급:
→ 각 AZ는 독립적인 UPS 및 백업 발전기 보유
→ 전력망 장애 시에도 다른 AZ는 정상 운영

독립 네트워크:
→ 서로 다른 통신사 회선 사용
→ 네트워크 장애 시에도 다른 AZ는 정상 운영
```

**2. 고속 연결**

AZ 간에는 전용 고속 네트워크로 연결:

```
네트워크 특성:
- 레이턴시: 1ms 미만 (매우 낮음)
- 대역폭: 매우 높음 (수십 Gbps)
- 안정성: 99.99% 이상
```

이러한 특성 덕분에:
```
✅ AZ 간 데이터 동기화가 빠르고 안정적
✅ 실시간 복제 가능
✅ 사용자는 AZ 간 차이를 거의 느끼지 못함
```

**3. 독립성 보장**

```mermaid
graph TB
    subgraph "Availability Zone A"
        A1[전력 시스템 A]
        A2[네트워크 시스템 A]
        A3[냉각 시스템 A]
    end

    subgraph "Availability Zone B"
        B1[전력 시스템 B]
        B2[네트워크 시스템 B]
        B3[냉각 시스템 B]
    end

    subgraph "Availability Zone C"
        C1[전력 시스템 C]
        C2[네트워크 시스템 C]
        C3[냉각 시스템 C]
    end

    style A1 fill:#ff6b6b
    style A2 fill:#4ecdc4
    style A3 fill:#45b7d1
    style B1 fill:#ff6b6b
    style B2 fill:#4ecdc4
    style B3 fill:#45b7d1
    style C1 fill:#ff6b6b
    style C2 fill:#4ecdc4
    style C3 fill:#45b7d1
```

#### 🛡️ 가용 영역을 활용한 고가용성 설계

**고가용성(High Availability, HA)이란?**

시스템이 장애 없이 지속적으로 운영되는 능력을 의미합니다.

**가용성 수준:**

| **가용성 등급** | **다운타임 (연간)** | **가용 시간** |
|:--------------:|:------------------:|:------------:|
| 99% | 3.65일 | 361.35일 |
| 99.9% (Three 9s) | 8.76시간 | 364.24일 |
| 99.99% (Four 9s) | 52.56분 | 364.88일 |
| 99.999% (Five 9s) | 5.26분 | 364.99일 |

**멀티 AZ 배포 전략:**

**시나리오 1: 웹 서버 고가용성**

```mermaid
graph TB
    User[사용자] --> ELB[Elastic Load Balancer]

    ELB --> AZ_A[AZ-A: EC2 인스턴스 1]
    ELB --> AZ_B[AZ-B: EC2 인스턴스 2]
    ELB --> AZ_C[AZ-C: EC2 인스턴스 3]

    AZ_A --> DB_Primary[(Primary DB)]
    AZ_B --> DB_Standby[(Standby DB)]

    DB_Primary -.동기화.-> DB_Standby

    style ELB fill:#4CAF50
    style AZ_A fill:#2196F3
    style AZ_B fill:#2196F3
    style AZ_C fill:#2196F3
    style DB_Primary fill:#FF9800
    style DB_Standby fill:#FFC107
```

**구성 설명:**

1. **로드 밸런서 (ELB)**:
   ```
   - 여러 AZ의 EC2에 트래픽 분산
   - 헬스 체크로 장애 인스턴스 자동 제외
   - 사용자는 어느 AZ에 연결되는지 모름
   ```

2. **웹 서버 (EC2)**:
   ```
   - 최소 2개 AZ에 배포 (권장: 3개 AZ)
   - 한 AZ 장애 시 다른 AZ가 트래픽 처리
   - Auto Scaling으로 자동 확장
   ```

3. **데이터베이스 (RDS)**:
   ```
   - Primary DB (AZ-A): 읽기/쓰기 처리
   - Standby DB (AZ-B): 동기 복제, 대기 상태
   - Primary 장애 시 Standby로 자동 페일오버 (1-2분 소요)
   ```

**시나리오 2: AZ 장애 시나리오**

```
정상 상태:
User → ELB → [AZ-A: EC2] (50% 트래픽)
           → [AZ-B: EC2] (50% 트래픽)

AZ-A 장애 발생:
1. ELB가 AZ-A의 EC2 헬스 체크 실패 감지 (30초 이내)
2. 트래픽을 자동으로 AZ-B로 우회
3. 사용자는 서비스 중단을 느끼지 못함

결과:
User → ELB → [AZ-B: EC2] (100% 트래픽)

AZ-A 복구 후:
1. ELB가 AZ-A의 EC2 헬스 체크 성공 감지
2. 트래픽을 점진적으로 재분산
3. 정상 상태로 복귀
```

#### 📊 AZ 배포 권장사항

**최소 AZ 수:**

| **서비스 유형** | **권장 AZ 수** | **이유** |
|:--------------:|:-------------:|:--------:|
| 프로덕션 서비스 | 최소 2개 | 한 AZ 장애 시 다른 AZ로 페일오버 |
| 미션 크리티컬 | 3개 이상 | 더 높은 가용성, Quorum 기반 합의 |
| 개발/테스트 | 1개 가능 | 비용 절감 우선 |

💡 **3개 AZ 사용의 장점**:
```
2개 AZ:
- 한 AZ 장애 시 나머지 한 AZ가 100% 부하 처리
- 부하 급증으로 인한 성능 저하 가능

3개 AZ:
- 한 AZ 장애 시 나머지 두 AZ가 부하 분산
- 각 AZ는 50% 부하만 처리하면 됨
- 더 안정적인 서비스 제공
```

#### 💰 AZ 간 데이터 전송 비용

**비용 구조:**

```
동일 AZ 내:
- 데이터 전송 무료

다른 AZ로 (같은 리전 내):
- GB당 $0.01
- 예: 1TB 전송 시 약 $10

다른 리전으로:
- GB당 $0.02 이상
- 예: 1TB 전송 시 약 $20 이상
```

**비용 최적화 전략:**

```
1. 데이터 로컬리티 유지:
   - 가능한 한 동일 AZ 내에서 통신
   - 예: EC2 → RDS 연결 시 동일 AZ 권장

2. 압축 사용:
   - AZ 간 전송 전에 데이터 압축
   - 전송량 50-90% 감소 가능

3. 캐싱 활용:
   - ElastiCache (Redis/Memcached) 사용
   - 반복적인 데이터 전송 최소화
```

#### 🎯 AZ 선택 전략

**시나리오별 AZ 선택:**

**1. 레이턴시 최적화가 중요한 경우**

```
EC2, RDS, ElastiCache를 모두 동일 AZ에 배치
→ AZ 간 네트워크 홉 제거
→ 레이턴시 최소화

단, 고가용성은 포기
→ 해당 AZ 장애 시 전체 서비스 중단
```

**2. 고가용성이 중요한 경우**

```
EC2는 여러 AZ에 분산 배치
RDS는 Multi-AZ 구성
→ 한 AZ 장애에도 서비스 지속

약간의 레이턴시 증가 감수
→ 통상 1-2ms 증가, 사용자는 거의 못 느낌
```

**3. 비용 최적화가 중요한 경우**

```
프로덕션: 최소 2개 AZ (고가용성 확보)
개발/테스트: 1개 AZ (비용 절감)

AZ 간 데이터 전송 최소화
→ 배치 그룹 (Placement Group) 활용
```

---

### 🚀 엣지 로케이션 (Edge Location)

#### 🔍 엣지 로케이션의 정의와 역할

**엣지 로케이션이란?**

엣지 로케이션은 **리전 외부에 설치된 AWS 인프라로, 사용자와 가까운 곳에서 콘텐츠를 제공하기 위한 캐시 서버**입니다.

```
리전 (Origin):
└── 원본 콘텐츠 저장

엣지 로케이션 (전 세계 700+ 지점):
└── 캐시된 콘텐츠 제공
└── 사용자에게 빠른 응답
```

#### 🌐 엣지 로케이션의 작동 원리

**CDN (Content Delivery Network) 동작 방식:**

```mermaid
sequenceDiagram
    participant User as 사용자 (서울)
    participant Edge as 엣지 (서울)
    participant Origin as 오리진 (버지니아)

    User->>Edge: 1. 콘텐츠 요청

    alt 캐시에 있는 경우
        Edge->>User: 2a. 캐시된 콘텐츠 즉시 반환 (5ms)
    else 캐시에 없는 경우
        Edge->>Origin: 2b. 오리진 서버에 요청 (200ms)
        Origin->>Edge: 3. 원본 콘텐츠 반환
        Edge->>Edge: 4. 캐시에 저장
        Edge->>User: 5. 콘텐츠 반환 (총 205ms)
    end

    User->>Edge: 6. 동일 콘텐츠 재요청
    Edge->>User: 7. 캐시된 콘텐츠 즉시 반환 (5ms)
```

**성능 비교:**

| **방식** | **레이턴시** | **사용자 경험** |
|:--------:|:-----------:|:--------------:|
| 직접 오리진 접속 | 200-300ms | 느림, 답답함 |
| 엣지 로케이션 (캐시 히트) | 5-10ms | 빠름, 쾌적함 |
| 성능 개선 | **20-60배** | **획기적 향상** |

#### 🎯 엣지 로케이션을 활용하는 AWS 서비스

**1. Amazon CloudFront**

**CloudFront란?**
- AWS의 CDN (Content Delivery Network) 서비스
- 정적/동적 콘텐츠, 비디오 스트리밍 등을 빠르게 전송

**사용 사례:**

```
시나리오: 글로벌 전자상거래 웹사이트

오리진 (ap-northeast-2 서울):
- 상품 이미지, CSS, JavaScript
- 동적 데이터 (재고, 가격)

엣지 로케이션 (전 세계):
- 이미지, CSS, JS → 캐시하여 빠른 제공
- 동적 데이터 → 경로 최적화하여 전송

결과:
- 한국 사용자: 5-10ms (서울 엣지)
- 미국 사용자: 10-20ms (미국 엣지)
- 유럽 사용자: 10-20ms (유럽 엣지)
```

**CloudFront 설정 예시:**

```yaml
# CloudFront Distribution 설정 예시
Origin:
  DomainName: my-bucket.s3.ap-northeast-2.amazonaws.com
  OriginPath: /images

Behaviors:
  - PathPattern: "*.jpg"
    Compress: true
    ViewerProtocolPolicy: redirect-to-https
    MinTTL: 86400  # 1일 캐시

  - PathPattern: "*.js"
    Compress: true
    MinTTL: 3600  # 1시간 캐시

  - PathPattern: "/api/*"
    CachingDisabled: true  # 동적 콘텐츠는 캐시 안 함
```

**2. Amazon Route 53**

**Route 53이란?**
- AWS의 DNS (Domain Name System) 서비스
- 도메인 이름을 IP 주소로 변환

**엣지 로케이션 활용:**

```
사용자가 www.example.com 입력
↓
가장 가까운 엣지 로케이션의 Route 53 서버에 DNS 쿼리
↓
빠른 응답 (1-5ms)
↓
IP 주소 반환
```

**일반 DNS vs Route 53:**

| **구분** | **일반 DNS** | **Route 53 (엣지)** |
|:--------:|:------------:|:-------------------:|
| 응답 시간 | 50-100ms | 1-5ms |
| 가용성 | 99% | 100% SLA |
| 헬스 체크 | 미지원 | 지원 |
| 지리 기반 라우팅 | 제한적 | 완벽 지원 |

**3. AWS Shield**

**Shield란?**
- DDoS (분산 서비스 거부) 공격 방어 서비스
- Standard (무료) / Advanced (유료) 두 가지 등급

**엣지 로케이션에서의 DDoS 방어:**

```
DDoS 공격 시나리오:

공격자 → 대량의 악의적 트래픽 전송
         ↓
엣지 로케이션에서 1차 필터링 (Shield Standard)
         ↓
악의적 트래픽 차단, 정상 트래픽만 통과
         ↓
오리진 서버는 정상 트래픽만 처리
         ↓
서비스 정상 유지
```

**Shield의 장점:**
```
1. 엣지에서 공격 차단
   → 오리진 서버에 공격 트래픽이 도달하지 않음

2. 자동 탐지 및 차단
   → 사람의 개입 없이 자동 방어

3. 글로벌 분산 방어
   → 700+ 엣지 로케이션이 동시에 방어
```

**4. AWS WAF (Web Application Firewall)**

**WAF란?**
- 웹 애플리케이션 방화벽
- SQL 인젝션, XSS 등 웹 공격 차단

**엣지 로케이션에서의 WAF:**

```
악의적 요청:
http://example.com/search?query=' OR '1'='1

엣지 로케이션 WAF:
→ SQL 인젝션 패턴 감지
→ 요청 즉시 차단
→ 오리진 서버에 도달하지 않음

결과:
→ 애플리케이션 보호
→ 오리진 서버 부하 감소
```

#### 📊 엣지 로케이션 분포

**전 세계 분포 (약 700개 지점):**

| **대륙/지역** | **엣지 로케이션 수** | **주요 도시** |
|:-------------:|:------------------:|:------------:|
| 북미 | ~200개 | 뉴욕, LA, 시애틀, 토론토 |
| 남미 | ~20개 | 상파울루, 부에노스아이레스 |
| 유럽 | ~150개 | 런던, 파리, 프랑크푸르트, 암스테르담 |
| 아시아 | ~150개 | 서울, 도쿄, 싱가포르, 홍콩 |
| 중동 | ~30개 | 두바이, 텔아비브 |
| 아프리카 | ~20개 | 케이프타운, 나이로비 |
| 오세아니아 | ~30개 | 시드니, 멜버른 |

**한국 내 엣지 로케이션:**
```
서울: 여러 ISP에 분산 배치
- KT, SK Broadband, LG U+ 등
→ 각 통신사 사용자에게 최적화된 경로 제공
```

#### 💰 엣지 로케이션 비용

**CloudFront 요금 구조:**

| **항목** | **요금** |
|:--------:|:--------:|
| 데이터 전송 (아웃) | $0.085/GB (첫 10TB) |
| HTTP/HTTPS 요청 | $0.0075/10,000 요청 |
| 오리진 가져오기 (캐시 미스) | 무료 |

**비용 최적화 팁:**
```
1. TTL (Time To Live) 최적화:
   - 자주 변하지 않는 콘텐츠는 TTL을 길게 (1일-7일)
   - 캐시 히트율 향상 → 오리진 요청 감소

2. 압축 활성화:
   - CloudFront 자동 압축 기능 사용
   - 전송량 50-70% 감소

3. 캐시 키 최적화:
   - 불필요한 쿼리 파라미터 제거
   - 캐시 히트율 향상
```

---

### 🏙️ 로컬 존 (Local Zone)

#### 🔍 로컬 존의 정의와 목적

**로컬 존이란?**

로컬 존은 **리전보다 작은 규모의 데이터 센터를 사용자 근처에 배치하여, 매우 낮은 레이턴시를 제공하는 인프라**입니다.

```
리전: 대규모 데이터 센터 (AZ 3-6개)
로컬 존: 소규모 데이터 센터 (AZ 1개)

목적: 사용자와 매우 가까운 거리에서 서비스 제공
```

#### 🎯 로컬 존이 필요한 이유

**시나리오: 미국의 광활한 국토**

```
미국 서부 리전 (오레곤):
- 로스앤젤레스에서 1,300km 떨어짐
- 레이턴시: 30-40ms

로스앤젤레스 로컬 존:
- 로스앤젤레스 시내에 위치
- 레이턴시: 1-5ms

차이: **6-40배 빠름**
```

**로컬 존이 유용한 사례:**

1. **실시간 게임**:
   ```
   레이턴시 요구사항: 10ms 이하
   → 리전만으로는 불충분
   → 로컬 존 사용으로 1-5ms 달성
   ```

2. **라이브 비디오 스트리밍**:
   ```
   저지연 생방송 (1-2초 지연)
   → 로컬 존에서 인코딩 및 배포
   → 시청자에게 빠른 전송
   ```

3. **금융 거래 시스템**:
   ```
   레이턴시 민감 (밀리초 단위 경쟁)
   → 거래소 근처 로컬 존 활용
   → HFT (High-Frequency Trading) 가능
   ```

4. **산업 자동화**:
   ```
   공장 자동화 시스템
   → 공장 근처 로컬 존
   → 실시간 제어 가능
   ```

#### 🌍 로컬 존 위치

**미국 내 로컬 존 (주요):**

| **도시** | **부모 리전** | **용도** |
|:--------:|:------------:|:--------:|
| 로스앤젤레스 | us-west-2 | 미디어/엔터테인먼트 |
| 보스턴 | us-east-1 | 금융/헬스케어 |
| 휴스턴 | us-east-1 | 에너지/제조 |
| 마이애미 | us-east-1 | 라틴아메리카 서비스 |

**한국은 로컬 존이 없는 이유:**

```
한국의 지리적 특성:
- 국토 면적이 작음 (100,378km²)
- 서울 리전에서 전국 커버 가능
- 레이턴시: 서울-부산 간에도 10-15ms 수준

결론: 로컬 존 불필요
```

#### 🔧 로컬 존 사용 방법

**로컬 존 활성화:**

```bash
# AWS CLI로 로컬 존 활성화
aws ec2 modify-availability-zone-group \
    --group-name "us-west-2-lax-1" \
    --opt-in-status opted-in
```

**EC2 인스턴스를 로컬 존에 배치:**

```bash
# 로스앤젤레스 로컬 존에 인스턴스 생성
aws ec2 run-instances \
    --image-id ami-xxxxx \
    --instance-type t3.medium \
    --placement AvailabilityZone=us-west-2-lax-1a \
    --subnet-id subnet-xxxxx
```

#### 💡 로컬 존 vs 리전 AZ 비교

| **구분** | **리전 AZ** | **로컬 존** |
|:--------:|:-----------:|:-----------:|
| 규모 | 대규모 | 소규모 |
| 서비스 | 모든 서비스 | 일부 서비스 (EC2, EBS, VPC 등) |
| 레이턴시 | 10-30ms | 1-5ms |
| 비용 | 표준 | 약간 높음 |
| 용도 | 일반적인 워크로드 | 저지연 워크로드 |

---

## ✅ Section 2 핵심 요약

### 📋 반드시 기억해야 할 내용

1. **리전**: 지리적으로 분리된 데이터 센터 집합, 전 세계 37개
2. **가용 영역 (AZ)**: 리전 내 독립적인 데이터 센터, 고가용성의 핵심
3. **멀티 AZ 배포**: 최소 2개 AZ 사용으로 장애 대비
4. **엣지 로케이션**: 전 세계 700+ 지점, CDN 및 DNS 서비스 제공
5. **로컬 존**: 초저지연이 필요한 특수한 경우에 사용
6. **웨이브렝스 존**: 5G 통신사 환경에서 사용
7. **아웃포스트**: 고객 온프레미스에 AWS 인프라 설치

### 🎯 Section 2 학습 체크리스트

```
[ ] 리전과 가용 영역의 차이를 설명할 수 있다
[ ] 멀티 AZ 배포의 중요성을 이해했다
[ ] 엣지 로케이션의 역할과 활용 서비스를 안다
[ ] CloudFront의 작동 원리를 이해했다
[ ] 로컬 존이 필요한 상황을 판단할 수 있다
[ ] 고가용성 아키텍처를 설계할 수 있다
```

---
## 💰 Section 3: AWS 요금 모델 및 클라우드 컴퓨팅의 장점

### 💡 종량제 요금 모델 (Pay-as-you-go)

#### 🔍 종량제란?

AWS 클라우드 컴퓨팅의 가장 큰 특징 중 하나는 **종량제 요금 모델**입니다.

**종량제의 핵심 원칙:**
```
"내가 사용한 만큼만 비용을 지불한다"
```

**전통적인 온프레미스 vs AWS 클라우드:**

| **구분** | **온프레미스** | **AWS 클라우드** |
|:--------:|:-------------:|:---------------:|
| 초기 투자 | 대규모 (수천만 원 ~ 수억 원) | 거의 없음 ($0) |
| 용량 계획 | 최대 부하 기준으로 구매 | 현재 필요한 만큼만 사용 |
| 확장 | 어려움 (서버 구매 필요) | 즉시 (클릭 몇 번) |
| 축소 | 불가능 (이미 구매함) | 즉시 (필요 없으면 삭제) |
| 유지보수 | 고객 책임 | AWS 책임 (관리형 서비스) |

#### 💵 AWS 요금 체계

**1. 컴퓨팅 (EC2)**

**과금 기준:**
```
시간당, 분당, 또는 초당 요금
```

**EC2 인스턴스 요금 예시 (t3.medium):**

| **리전** | **시간당** | **월 (730시간)** | **연 (8,760시간)** |
|:--------:|:----------:|:---------------:|:-----------------:|
| us-east-1 | $0.0416 | $30.37 | $364.42 |
| ap-northeast-2 | $0.0520 | $37.96 | $455.52 |

**Running vs Stopped 상태:**

```
EC2 인스턴스 상태별 과금:

Running (실행 중):
- EC2 인스턴스 요금: ✅ 청구됨
- EBS 볼륨 요금: ✅ 청구됨

Stopped (중지):
- EC2 인스턴스 요금: ❌ 청구 안 됨
- EBS 볼륨 요금: ✅ 청구됨 (여전히 저장 중)

Terminated (종료):
- EC2 인스턴스 요금: ❌ 청구 안 됨
- EBS 볼륨 요금: ❌ 청구 안 됨 (삭제됨)
```

💡 **중요!**:
```
EC2를 Stop해도 EBS 볼륨 비용은 계속 발생!
완전히 비용을 없애려면 Terminate 필요!
```

**2. 스토리지 (S3, EBS)**

**S3 요금 구조:**

| **항목** | **요금** |
|:--------:|:--------:|
| 저장 용량 | $0.023/GB/월 (Standard) |
| PUT 요청 | $0.005/1,000 요청 |
| GET 요청 | $0.0004/1,000 요청 |
| 데이터 전송 (아웃) | $0.09/GB |

**예시 계산:**
```
S3 사용량:
- 저장: 100GB
- PUT: 10,000 요청
- GET: 100,000 요청
- 데이터 전송: 50GB

월 비용 계산:
- 저장: 100GB × $0.023 = $2.30
- PUT: 10,000 × $0.005 / 1,000 = $0.05
- GET: 100,000 × $0.0004 / 1,000 = $0.04
- 전송: 50GB × $0.09 = $4.50

총 월 비용: $6.89
```

**EBS 요금:**

| **볼륨 유형** | **GB당 월 비용** | **IOPS 비용** |
|:------------:|:---------------:|:------------:|
| gp3 (범용 SSD) | $0.08 | 기본 3,000 IOPS 무료 |
| io2 (프로비저닝 IOPS) | $0.125 | $0.065/IOPS |
| st1 (처리량 최적화 HDD) | $0.045 | N/A |

**3. 네트워크 (데이터 전송)**

**데이터 전송 비용:**

| **방향** | **GB당 비용** |
|:--------:|:------------:|
| 인터넷 → AWS (인바운드) | 무료 |
| AWS → 인터넷 (아웃바운드) | $0.09 (첫 10TB) |
| AZ 간 (같은 리전) | $0.01 |
| 리전 간 | $0.02 |

💡 **데이터 전송 비용 절감 팁**:
```
1. CloudFront (CDN) 사용
   → 엣지에서 캐시 제공, 오리진 전송 감소

2. VPC 엔드포인트 사용
   → S3, DynamoDB 등 AWS 서비스 접속 시 인터넷 우회 없음

3. 리전 간 전송 최소화
   → 가능한 한 같은 리전 내에서 처리
```

#### 🎯 실제 사용 시나리오

**시나리오 1: 마케팅 이벤트**

```
일반 기간 (평소):
- EC2 t3.medium × 2대
- 비용: $30.37 × 2 = $60.74/월

마케팅 이벤트 기간 (1주일):
- EC2 t3.medium × 10대
- 비용: $30.37 × 10 × (7일/30일) = $71.19

이벤트 후 다시 축소:
- EC2 t3.medium × 2대
- 비용: $60.74/월

총 비용 (해당 월):
- $60.74 + $71.19 = $131.93
```

**온프레미스였다면?**
```
최대 부하(10대)를 기준으로 서버 구매
→ 서버 10대 구매 비용: 약 3,000만 원
→ 평소에는 8대가 놀고 있음
→ 자원 낭비 80%
```

**클라우드의 장점:**
```
✅ 필요할 때만 서버 추가
✅ 이벤트 끝나면 즉시 축소
✅ 초기 투자 비용 없음
✅ 사용한 만큼만 지불
```

---

### 🚀 클라우드 컴퓨팅의 장점

#### 💰 1. 초기 대규모 투자 비용 불필요

**온프레미스 초기 비용:**

```
서버 구매: 500만 원/대 × 5대 = 2,500만 원
네트워크 장비: 1,000만 원
스토리지: 800만 원
랙, UPS, 냉각 시스템: 500만 원
-----------------------------------
총 초기 투자: 약 4,800만 원
```

**AWS 클라우드:**

```
초기 비용: $0
첫 달 사용 비용: 약 $200 (약 26만 원)
-----------------------------------
초기 투자: 0원
```

**자본 비용(CapEx) → 운영 비용(OpEx) 전환:**
```
CapEx (자본 비용):
- 큰 금액을 한 번에 투자
- 감가상각 필요
- 회계 처리 복잡

OpEx (운영 비용):
- 매월 소액 지불
- 즉시 비용 처리
- 회계 처리 간단
```

#### 📈 2. 규모의 경제 (Economies of Scale)

**규모의 경제란?**

AWS는 전 세계 수백만 고객이 사용하는 거대한 인프라를 운영합니다. 이로 인해 발생하는 비용 절감 효과를 고객에게 전달합니다.

**예시:**

```
A사 (중소기업):
- 서버 2대 구매
- 할인율: 5%
- 대당 비용: 500만 원 → 475만 원

AWS:
- 서버 수천 대 구매
- 할인율: 30-40%
- 대당 비용: 500만 원 → 300만 원

AWS는 할인받은 비용을 기반으로
고객에게 저렴한 가격 제공
```

**규모의 경제 효과:**
1. **하드웨어 대량 구매 할인**
2. **전력 비용 협상**
3. **데이터 센터 최적화**
4. **운영 효율성**

결과: AWS 가격이 지속적으로 하락
```
AWS는 출시 이후 90회 이상 가격 인하
→ 고객에게 비용 절감 효과 전달
```

#### ⚡ 3. 유연한 용량 계획

**온프레미스의 문제점:**

```
상황: 새로운 서비스 출시

예측: "사용자가 많이 올 것 같아"
→ 서버 10대 구매

실제 1: 사용자가 적음 → 서버 8대가 놀음
실제 2: 사용자가 많음 → 서버 부족, 서비스 다운

문제:
- 과다 투자 시 자원 낭비
- 과소 투자 시 기회 손실
```

**AWS 클라우드:**

```
시작: EC2 2대로 시작
↓
사용자 증가 감지
↓
즉시 EC2 5대로 확장 (클릭 몇 번, 5분 소요)
↓
사용자 감소
↓
EC2 2대로 축소

결과:
✅ 항상 적정 용량 유지
✅ 자원 낭비 없음
✅ 기회 손실 없음
```

**Auto Scaling 활용:**

```python
# Auto Scaling 정책 예시
{
  "min_instances": 2,
  "max_instances": 10,
  "target_cpu_utilization": 70,

  "scale_out_policy": {
    "cpu > 70% for 5분": "인스턴스 +2"
  },

  "scale_in_policy": {
    "cpu < 30% for 10분": "인스턴스 -1"
  }
}
```

#### 🌍 4. 전 세계 어디서든 서비스 배포 가능

**시나리오: 글로벌 서비스 출시**

**온프레미스:**
```
한국에서 시작
→ 미국 진출 결정
→ 미국에 데이터 센터 계약 (3개월)
→ 서버 도입 및 설치 (1개월)
→ 네트워크 구성 (2주)
→ 총 소요 시간: 약 5개월
→ 초기 투자: 약 1억 원
```

**AWS 클라우드:**
```
한국 리전에서 시작
→ 미국 진출 결정
→ AWS 콘솔에서 us-east-1 선택
→ 동일한 설정으로 배포 (30분)
→ 총 소요 시간: 30분
→ 추가 투자: 0원 (사용량 기반 과금)
```

#### 🚀 5. 빠른 배포 속도

**서버 도입 시간 비교:**

| **단계** | **온프레미스** | **AWS 클라우드** |
|:--------:|:-------------:|:---------------:|
| 예산 승인 | 2주 | 즉시 |
| 발주 | 1주 | N/A |
| 제조 대기 | 4-8주 | N/A |
| 배송 | 1주 | N/A |
| 설치 | 1주 | N/A |
| 네트워크 구성 | 1주 | N/A |
| **총 소요 시간** | **10-14주** | **5분** |

💡 **속도의 가치**:
```
Time to Market (시장 진입 시간)이 경쟁력

빠른 배포 = 빠른 실험 = 빠른 학습 = 성공 확률 증가
```

#### 🛡️ 6. 장애에 대한 높은 복원력

**멀티 AZ 배포:**

```mermaid
graph TB
    User[사용자] --> LB[로드 밸런서]

    LB --> AZ1[AZ-A: 인스턴스 1, 2]
    LB --> AZ2[AZ-B: 인스턴스 3, 4]
    LB --> AZ3[AZ-C: 인스턴스 5, 6]

    AZ1 -.장애 발생.-> X[X]
    AZ2 --> OK1[정상 운영]
    AZ3 --> OK2[정상 운영]

    style X fill:#f66
    style OK1 fill:#6f6
    style OK2 fill:#6f6
```

**장애 시나리오:**
```
1. AZ-A에 정전 발생
2. 로드 밸런서가 30초 내 감지
3. 트래픽을 AZ-B, AZ-C로 자동 우회
4. 사용자는 서비스 중단을 느끼지 못함
5. AZ-A 복구 후 자동으로 트래픽 재분산
```

---

### 🏛️ Section 4: AWS Well-Architected Framework

#### 📚 Well-Architected Framework란?

**정의:**

AWS Well-Architected Framework는 **클라우드 아키텍처를 설계하고 운영하기 위한 모범 사례를 모아둔 가이드**입니다.

**구성 요소:**
1. **백서 (Whitepaper)**: 설계 원칙과 모범 사례
2. **설계 원칙 (Design Principles)**: 6가지 핵심 원칙
3. **실습 랩 (Hands-on Labs)**: 직접 체험할 수 있는 실습
4. **Well-Architected Tool**: 자가 진단 도구

#### 🎯 6가지 설계 원칙 (Six Pillars)

**1. 운영 우수성 (Operational Excellence)**

**핵심 질문:**
```
"시스템을 어떻게 효율적으로 운영하고 모니터링할 것인가?"
```

**주요 원칙:**
- **코드로 운영 (Operations as Code)**
  ```
  Infrastructure as Code (IaC) 사용
  → CloudFormation, Terraform으로 인프라 자동화
  → 수동 작업 최소화, 휴먼 에러 감소
  ```

- **작은 변경을 자주 (Make frequent, small, reversible changes)**
  ```
  대규모 배포 대신 소규모 배포를 자주
  → 문제 발생 시 영향 범위 최소화
  → 빠른 롤백 가능
  ```

- **운영 절차 정기적 개선**
  ```
  배포 자동화, 모니터링 개선
  → CI/CD 파이프라인 구축
  → 알림 및 대응 절차 표준화
  ```

**실전 예시:**
```yaml
# CloudFormation으로 인프라 자동화
Resources:
  WebServer:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: ami-0c55b159cbfafe1f0
      InstanceType: t3.micro
      Tags:
        - Key: Name
          Value: WebServer-Auto
```

**2. 보안 (Security)**

**핵심 질문:**
```
"데이터와 시스템을 어떻게 보호할 것인가?"
```

**주요 원칙:**
- **강력한 ID 기반 (Strong identity foundation)**
  ```
  IAM 사용자, 역할, 그룹으로 최소 권한 원칙 적용
  → Root 계정 사용 최소화
  → MFA (Multi-Factor Authentication) 활성화
  ```

- **추적 가능성 (Enable traceability)**
  ```
  CloudTrail: 모든 API 호출 로깅
  CloudWatch Logs: 애플리케이션 로그
  → 보안 감사 가능, 침해 사고 시 추적
  ```

- **모든 계층에서 보안 적용**
  ```
  Network: Security Group, NACL
  Application: WAF (Web Application Firewall)
  Data: 암호화 (at rest, in transit)
  ```

- **데이터 보호 자동화**
  ```
  S3 버킷 자동 암호화
  RDS 자동 백업
  KMS (Key Management Service)로 키 관리
  ```

**실전 예시:**
```json
// IAM 정책: S3 읽기 전용 권한
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::my-bucket",
        "arn:aws:s3:::my-bucket/*"
      ]
    }
  ]
}
```

**3. 안정성 (Reliability)**

**핵심 질문:**
```
"시스템이 장애에도 지속적으로 작동하도록 어떻게 보장할 것인가?"
```

**주요 원칙:**
- **장애 자동 복구**
  ```
  Auto Scaling: 인스턴스 장애 시 자동 교체
  Multi-AZ RDS: Primary 장애 시 Standby로 페일오버
  ```

- **복구 절차 테스트**
  ```
  정기적으로 DR (Disaster Recovery) 훈련
  → Chaos Engineering (의도적 장애 주입)
  → 복구 시나리오 검증
  ```

- **수평 확장**
  ```
  Scale Up (서버 성능 향상) 대신
  Scale Out (서버 수량 증가) 선호
  → 단일 장애점 제거
  ```

- **용량 추측 금지**
  ```
  Auto Scaling으로 수요에 따라 자동 확장
  → 과다/과소 프로비저닝 방지
  ```

**실전 예시:**
```yaml
# Auto Scaling Group 설정
AutoScalingGroup:
  MinSize: 2
  MaxSize: 10
  DesiredCapacity: 4
  HealthCheckType: ELB
  HealthCheckGracePeriod: 300

  AvailabilityZones:
    - ap-northeast-2a
    - ap-northeast-2b
    - ap-northeast-2c
```

**4. 성능 효율성 (Performance Efficiency)**

**핵심 질문:**
```
"컴퓨팅 리소스를 효율적으로 사용하여 성능을 최적화할 것인가?"
```

**주요 원칙:**
- **고급 기술 민주화**
  ```
  관리형 서비스 활용
  → RDS (데이터베이스 관리 불필요)
  → Lambda (서버 관리 불필요)
  → SageMaker (ML 인프라 관리 불필요)
  ```

- **글로벌 배포 (Go global in minutes)**
  ```
  CloudFront로 엣지 캐싱
  → 전 세계 사용자에게 빠른 응답
  → 클릭 몇 번으로 배포
  ```

- **서버리스 아키텍처**
  ```
  Lambda, API Gateway, DynamoDB 조합
  → 서버 관리 부담 제로
  → 사용량에 따라 자동 확장
  ```

- **실험 자주 수행**
  ```
  다양한 인스턴스 타입 테스트
  → t3 vs m5 vs c5 성능 비교
  → 비용 대비 성능 최적화
  ```

**실전 예시:**
```python
# Lambda 함수로 이미지 리사이징
import boto3
from PIL import Image

def lambda_handler(event, context):
    s3 = boto3.client('s3')

    # S3에서 원본 이미지 다운로드
    bucket = event['Records'][0]['s3']['bucket']['name']
    key = event['Records'][0]['s3']['object']['key']

    # 리사이징 수행
    img = Image.open(s3.get_object(Bucket=bucket, Key=key)['Body'])
    img.thumbnail((200, 200))

    # 리사이즈된 이미지 업로드
    img.save('/tmp/resized.jpg')
    s3.upload_file('/tmp/resized.jpg', bucket, f'resized/{key}')

    return {'statusCode': 200}
```

**5. 비용 최적화 (Cost Optimization)**

**핵심 질문:**
```
"불필요한 비용을 제거하고 최적의 가격으로 리소스를 사용할 것인가?"
```

**주요 원칙:**
- **소비 모델 채택 (Adopt a consumption model)**
  ```
  필요할 때만 리소스 사용
  → 개발 환경: 업무 시간만 실행
  → 테스트 서버: 사용 후 즉시 종료
  ```

- **규모의 경제 이점**
  ```
  Reserved Instance, Savings Plans 활용
  → 1년 약정: 최대 40% 할인
  → 3년 약정: 최대 60% 할인
  ```

- **비용 측정 및 분석**
  ```
  Cost Explorer: 비용 추이 분석
  Budgets: 예산 알림 설정
  → 태그로 부서별, 프로젝트별 비용 추적
  ```

- **적절한 서비스 선택**
  ```
  워크로드 특성에 맞는 서비스 선택
  → 연속 실행: EC2
  → 간헐적 실행: Lambda
  → 대량 데이터: S3 Glacier
  ```

**실전 예시:**
```python
# 개발 환경 자동 시작/종료 (Lambda + EventBridge)
import boto3

def lambda_handler(event, context):
    ec2 = boto3.client('ec2')

    # 'Environment=Dev' 태그가 붙은 인스턴스 검색
    instances = ec2.describe_instances(
        Filters=[
            {'Name': 'tag:Environment', 'Values': ['Dev']},
            {'Name': 'instance-state-name', 'Values': ['running']}
        ]
    )

    # 오후 6시에 자동 종료
    instance_ids = [
        i['InstanceId']
        for r in instances['Reservations']
        for i in r['Instances']
    ]

    if instance_ids:
        ec2.stop_instances(InstanceIds=instance_ids)
        print(f'Stopped instances: {instance_ids}')
```

**6. 지속 가능성 (Sustainability)**

**핵심 질문:**
```
"환경 영향을 최소화하면서 워크로드를 실행할 것인가?"
```

**주요 원칙:**
- **사용률 최대화**
  ```
  적정 크기의 인스턴스 선택
  → 과도한 프로비저닝 금지
  → CPU 사용률 70-80% 목표
  ```

- **효율적인 코드**
  ```
  불필요한 연산 제거
  → 캐싱 적극 활용
  → 알고리즘 최적화
  ```

- **관리형 서비스 활용**
  ```
  AWS가 인프라를 효율적으로 운영
  → 전력 효율성 향상
  → 냉각 시스템 최적화
  ```

---

#### 🛠️ Well-Architected Tool

**Well-Architected Tool이란?**

AWS 콘솔 내에서 제공하는 **자가 진단 도구**로, 내가 구축한 아키텍처가 모범 사례를 잘 따르고 있는지 평가할 수 있습니다.

**사용 절차:**

**Step 1: 워크로드 정의**
```
AWS 콘솔 → Well-Architected Tool
→ "Define workload" 클릭

입력 정보:
- 워크로드 이름: "전자상거래 웹사이트"
- 설명: "B2C 전자상거래 플랫폼"
- 환경: Production
- 리전: ap-northeast-2
- 산업: Retail
```

**Step 2: 질문에 답변**
```
6가지 원칙별로 질문이 제시됨

예시 질문 (보안 원칙):
Q: "IAM 정책에서 최소 권한 원칙을 적용하고 있습니까?"
A: [예 / 아니오 / 해당 없음]

Q: "모든 데이터가 암호화되어 있습니까?"
A: [예 / 아니오 / 해당 없음]
```

**Step 3: 결과 분석**
```
위험 수준별 분류:
- 🔴 High Risk: 즉시 조치 필요
- 🟡 Medium Risk: 개선 권장
- 🟢 No Risk: 모범 사례 준수

예시 결과:
운영 우수성: 85% (🟢 5개, 🟡 2개, 🔴 0개)
보안: 70% (🟢 4개, 🟡 3개, 🔴 1개)
안정성: 90% (🟢 6개, 🟡 1개, 🔴 0개)
```

**Step 4: 개선 계획 수립**
```
🔴 High Risk 항목:
"RDS 데이터베이스가 암호화되지 않음"

개선 방안:
1. 현재 DB 스냅샷 생성
2. 암호화 옵션으로 새 DB 복원
3. 애플리케이션 연결 전환
4. 기존 DB 삭제

예상 소요 시간: 2시간
담당자: DB 관리자
완료 기한: 이번 주 금요일
```

---

## 🛠️ Section 5: AWS 서비스 카테고리 및 S3 실습

### 📦 AWS 주요 서비스 카테고리

#### 💻 1. 컴퓨팅 (Compute)

**EC2 (Elastic Compute Cloud)**
```
용도: 가상 서버
특징: 다양한 인스턴스 타입, 유연한 확장
사용 사례: 웹 서버, 애플리케이션 서버, 배치 처리
```

**Lambda**
```
용도: 서버리스 컴퓨팅
특징: 코드만 업로드, 서버 관리 불필요
사용 사례: 이벤트 기반 처리, API 백엔드
```

**ECS / EKS**
```
ECS: 컨테이너 오케스트레이션 (AWS 네이티브)
EKS: Kubernetes 관리형 서비스
사용 사례: 마이크로서비스 아키텍처
```

**ELB (Elastic Load Balancer)**
```
용도: 로드 밸런싱
특징: 트래픽 분산, 헬스 체크, Auto Scaling 연동
사용 사례: 고가용성 웹 서비스
```

#### 💾 2. 스토리지 (Storage)

**S3 (Simple Storage Service)**
```
용도: 객체 스토리지
특징: 무제한 용량, 99.999999999% 내구성
사용 사례: 정적 파일, 백업, 로그 저장
```

**EBS (Elastic Block Store)**
```
용도: 블록 스토리지 (EC2용 디스크)
특징: SSD/HDD, 스냅샷 지원
사용 사례: EC2 루트 볼륨, 데이터베이스 저장
```

**EFS (Elastic File System)**
```
용도: 파일 시스템 (NFS)
특징: 여러 EC2에서 동시 마운트 가능
사용 사례: 공유 파일 시스템
```

#### 🗄️ 3. 데이터베이스 (Database)

**RDS (Relational Database Service)**
```
지원 엔진: MySQL, PostgreSQL, MariaDB, Oracle, SQL Server
특징: 자동 백업, Multi-AZ, Read Replica
사용 사례: 트랜잭션 처리, OLTP
```

**DynamoDB**
```
용도: NoSQL (키-값, 문서 데이터베이스)
특징: 완전 관리형, 밀리초 단위 레이턴시
사용 사례: 모바일 앱, 게임, IoT
```

**ElastiCache**
```
지원 엔진: Redis, Memcached
특징: 인메모리 캐시, 초고속 응답
사용 사례: 세션 저장, DB 쿼리 캐싱
```

**Redshift**
```
용도: 데이터 웨어하우스 (OLAP)
특징: 페타바이트급 데이터 분석
사용 사례: 빅데이터 분석, BI
```

#### 🌐 4. 네트워킹 (Networking)

**VPC (Virtual Private Cloud)**
```
용도: 가상 네트워크
특징: 서브넷, 라우팅, 보안 그룹
사용 사례: 격리된 네트워크 환경 구성
```

**Route 53**
```
용도: DNS 서비스
특징: 도메인 등록, 헬스 체크, 지리 기반 라우팅
사용 사례: 도메인 관리, 트래픽 라우팅
```

**CloudFront**
```
용도: CDN (Content Delivery Network)
특징: 엣지 로케이션에서 콘텐츠 캐싱
사용 사례: 정적 파일 배포, 스트리밍
```

#### 🔐 5. 보안 및 자격증명

**IAM (Identity and Access Management)**
```
용도: 사용자 및 권한 관리
특징: 세밀한 권한 제어, 역할 기반
사용 사례: 사용자, 그룹, 역할 관리
```

**KMS (Key Management Service)**
```
용도: 암호화 키 관리
특징: 중앙 집중식 키 관리, 자동 키 순환
사용 사례: 데이터 암호화
```

**AWS Shield**
```
용도: DDoS 방어
특징: Standard (무료), Advanced (유료)
사용 사례: 웹 애플리케이션 보호
```

---

### 🗂️ 관리형 vs 비관리형 서비스

#### 🔍 비관리형 서비스 (Unmanaged Service)

**정의:**

AWS는 **가상 서버만 제공**하고, 나머지는 고객이 직접 관리하는 서비스입니다.

**대표 예시: EC2 + 직접 DB 설치**

```mermaid
graph TB
    subgraph "AWS 책임 영역 (주황색)"
        A[물리적 하드웨어]
        B[가상화 레이어]
        C[네트워크 인프라]
        D[OS 설치 (Ubuntu)]
    end

    subgraph "고객 책임 영역 (파란색)"
        E[OS 패치/업데이트]
        F[DB 엔진 설치 (MySQL)]
        G[DB 설정 및 튜닝]
        H[백업 스크립트 작성]
        I[고가용성 구성]
        J[모니터링 설정]
        K[보안 패치]
        L[용량 계획 및 스케일링]
    end

    D --> E
    E --> F
    F --> G
    G --> H

    style A fill:#ff9800
    style B fill:#ff9800
    style C fill:#ff9800
    style D fill:#ff9800
    style E fill:#2196f3
    style F fill:#2196f3
    style G fill:#2196f3
    style H fill:#2196f3
    style I fill:#2196f3
    style J fill:#2196f3
    style K fill:#2196f3
    style L fill:#2196f3
```

**고객이 해야 할 작업:**

1. **OS 관리**
   ```bash
   # Ubuntu 패키지 업데이트
   sudo apt update
   sudo apt upgrade -y

   # 보안 패치 적용
   sudo apt install unattended-upgrades
   ```

2. **DB 엔진 설치**
   ```bash
   # MySQL 설치
   sudo apt install mysql-server

   # MySQL 보안 설정
   sudo mysql_secure_installation
   ```

3. **데이터 백업**
   ```bash
   # 백업 스크립트 작성
   #!/bin/bash
   mysqldump -u root -p mydb > /backup/mydb_$(date +%Y%m%d).sql

   # cron으로 매일 실행
   0 2 * * * /home/ubuntu/backup.sh
   ```

4. **고가용성 구성**
   ```
   Primary DB (AZ-A)
   ↓ 복제 설정 (수동)
   Standby DB (AZ-B)

   Keepalived 또는 Pacemaker로 페일오버 구성
   → 설정 복잡, 테스트 필요
   ```

5. **모니터링**
   ```bash
   # CloudWatch Agent 설치 및 설정
   wget https://s3.amazonaws.com/amazoncloudwatch-agent/...
   sudo ./install.sh

   # 메트릭 수집 설정
   vi /opt/aws/amazon-cloudwatch-agent/etc/config.json
   ```

**장점:**
```
✅ 완전한 제어권
✅ 세밀한 커스터마이징 가능
```

**단점:**
```
❌ 운영 부담 큼
❌ 전문 지식 필요
❌ 시간 소요 많음
❌ 휴먼 에러 가능성
```

---

#### ✅ 관리형 서비스 (Managed Service)

**정의:**

AWS가 **인프라 운영의 대부분을 담당**하고, 고객은 **애플리케이션에만 집중**하는 서비스입니다.

**대표 예시: RDS (Relational Database Service)**

```mermaid
graph TB
    subgraph "AWS 책임 영역 (주황색)"
        A[물리적 하드웨어]
        B[가상화 레이어]
        C[네트워크 인프라]
        D[OS 설치 및 패치]
        E[DB 엔진 설치]
        F[자동 백업]
        G[자동 페일오버 (Multi-AZ)]
        H[모니터링]
        I[보안 패치]
        J[스케일링 지원]
    end

    subgraph "고객 책임 영역 (파란색)"
        K[DB 연결 설정]
        L[스키마 설계]
        M[쿼리 최적화]
        N[애플리케이션 개발]
    end

    J --> K
    K --> L
    L --> M
    M --> N

    style A fill:#ff9800
    style B fill:#ff9800
    style C fill:#ff9800
    style D fill:#ff9800
    style E fill:#ff9800
    style F fill:#ff9800
    style G fill:#ff9800
    style H fill:#ff9800
    style I fill:#ff9800
    style J fill:#ff9800
    style K fill:#2196f3
    style L fill:#2196f3
    style M fill:#2196f3
    style N fill:#2196f3
```

**AWS가 자동으로 해주는 것:**

1. **자동 백업**
   ```
   고객 설정:
   - 백업 보관 기간: 7일
   - 백업 윈도우: 03:00-04:00

   AWS가 자동 수행:
   - 매일 자동 백업
   - S3에 안전하게 저장
   - 지정 기간 후 자동 삭제
   ```

2. **Multi-AZ 고가용성**
   ```
   고객 설정:
   - Multi-AZ 활성화 체크박스 클릭

   AWS가 자동 수행:
   - Standby DB 자동 생성 (다른 AZ)
   - 동기 복제 자동 설정
   - Primary 장애 시 1-2분 내 자동 페일오버
   - DNS 자동 업데이트 (애플리케이션 수정 불필요)
   ```

3. **자동 패치**
   ```
   고객 설정:
   - 유지 관리 윈도우: 일요일 04:00-05:00

   AWS가 자동 수행:
   - DB 엔진 패치 자동 적용
   - OS 보안 패치 자동 적용
   - 지정된 시간에만 수행
   ```

4. **모니터링**
   ```
   AWS가 자동 제공:
   - CPU 사용률
   - 메모리 사용률
   - 디스크 I/O
   - 네트워크 처리량
   - 커넥션 수
   - 쿼리 성능 (Performance Insights)
   ```

5. **스케일링**
   ```
   고객 작업:
   - 콘솔에서 인스턴스 타입 선택
   - "Modify" 버튼 클릭

   AWS가 자동 수행:
   - 적절한 타이밍에 스케일 업/다운
   - 다운타임 최소화 (수 분)
   ```

**고객이 해야 할 작업:**

```
✅ DB 연결 문자열 설정 (애플리케이션 코드)
✅ 스키마 설계 (테이블 생성)
✅ 쿼리 작성 및 최적화
✅ 애플리케이션 로직 개발

❌ OS 패치 (AWS가 자동)
❌ DB 엔진 설치 (AWS가 자동)
❌ 백업 스크립트 (AWS가 자동)
❌ 고가용성 구성 (AWS가 자동)
```

**장점:**
```
✅ 운영 부담 최소화
✅ 전문 지식 불필요
✅ 시간 절약 → 비즈니스에 집중
✅ 검증된 안정성
```

**단점:**
```
❌ 비용이 약간 높음
❌ 커스터마이징 제한적
❌ AWS 종속성
```

---

### 🗂️ S3 (Simple Storage Service) 실습

#### 📚 S3 개요

**S3란?**

S3는 AWS의 **객체 스토리지 서비스**로, 파일(객체)을 저장하고 관리할 수 있는 서비스입니다.

**S3의 특징:**
```
- 무제한 용량
- 99.999999999% (11 nines) 내구성
- 99.99% 가용성
- 저렴한 비용
- HTTP/HTTPS로 접근 가능
```

**S3 구조:**

```
AWS 계정
└── S3 버킷 (Bucket)
    ├── 객체 (Object) 1: image.jpg
    ├── 객체 (Object) 2: video.mp4
    └── 폴더/
        └── 객체 (Object) 3: document.pdf
```

**용어 정리:**

| **용어** | **설명** | **예시** |
|:--------:|:--------:|:--------:|
| 버킷 (Bucket) | 객체를 담는 컨테이너 | my-photos-bucket |
| 객체 (Object) | 저장되는 파일 | cat.jpg (파일 + 메타데이터) |
| 키 (Key) | 객체의 고유 식별자 | photos/2025/cat.jpg |

---

#### 🛠️ S3 실습 1: 버킷 생성

**Step 1: S3 콘솔 접속**

```
AWS 콘솔 → 서비스 검색 → "S3" 입력 → S3 선택
또는
AWS 콘솔 → 상단 서비스 메뉴 → Storage → S3
```

**Step 2: 버킷 생성**

```
1. "Create bucket" (버킷 생성) 버튼 클릭

2. 버킷 설정:
   ┌─────────────────────────────────────┐
   │ Bucket name (버킷 이름)             │
   │ ┌───────────────────────────────┐  │
   │ │ s3-bucket-001-test            │  │ ← 본인 번호 포함!
   │ └───────────────────────────────┘  │
   │                                     │
   │ AWS Region (리전)                   │
   │ ┌───────────────────────────────┐  │
   │ │ Asia Pacific (Seoul)          │  │ ← 할당된 리전 선택
   │ │ ap-northeast-2                │  │
   │ └───────────────────────────────┘  │
   └─────────────────────────────────────┘

3. Object Ownership (객체 소유권)
   ☑ ACLs disabled (권장)

4. Block Public Access settings (퍼블릭 액세스 차단 설정)
   ☑ Block all public access  ← 보안을 위해 체크 유지

5. Bucket Versioning (버킷 버전 관리)
   ○ Disable (비활성화)  ← 실습이므로 비활성화

6. Tags (태그)
   Key: Environment
   Value: Test

7. Default encryption (기본 암호화)
   ● Server-side encryption with Amazon S3 managed keys (SSE-S3)

8. "Create bucket" 클릭
```

**버킷 생성 완료!**

```
✅ 버킷이 성공적으로 생성되었습니다.

버킷 정보:
- 이름: s3-bucket-001-test
- 리전: ap-northeast-2
- ARN: arn:aws:s3:::s3-bucket-001-test
```

💡 **버킷 이름 규칙**:
```
✅ 3-63자 사이
✅ 소문자, 숫자, 하이픈만 사용
✅ 전 세계적으로 고유해야 함 (같은 이름 사용 불가)

❌ 대문자 사용 불가
❌ 밑줄(_) 사용 불가
❌ IP 주소 형식 불가 (예: 192.168.1.1)
```

---

#### 📤 S3 실습 2: 객체 업로드

**Step 1: 버킷 선택**

```
S3 콘솔 → 생성한 버킷 클릭 (s3-bucket-001-test)
```

**Step 2: 파일 업로드**

```
1. "Upload" 버튼 클릭

2. "Add files" 클릭하여 파일 선택
   또는
   파일을 드래그 앤 드롭

   예시 파일:
   - test-image.jpg (이미지 파일)
   - test-document.pdf (문서 파일)

3. 업로드 설정 (선택 사항):
   - Permissions (권한): 기본값 유지
   - Properties (속성): 기본값 유지
   - Storage class (스토리지 클래스): Standard

4. "Upload" 버튼 클릭
```

**업로드 완료!**

```
✅ 파일 업로드 성공

업로드된 객체:
┌──────────────────────┬─────────┬──────────────────┐
│ Name                 │ Size    │ Last modified    │
├──────────────────────┼─────────┼──────────────────┤
│ test-image.jpg       │ 2.3 MB  │ 2025-12-03 14:30 │
│ test-document.pdf    │ 156 KB  │ 2025-12-03 14:30 │
└──────────────────────┴─────────┴──────────────────┘
```

---

#### 🔍 S3 실습 3: 객체 확인

**Step 1: 객체 클릭**

```
업로드한 파일 (test-image.jpg) 클릭
```

**Step 2: 객체 정보 확인**

```
Object overview:
┌─────────────────────────────────────────────┐
│ Object URL:                                 │
│ https://s3-bucket-001-test.s3.ap-northeast-│
│ 2.amazonaws.com/test-image.jpg              │
│                                             │
│ Object ARN:                                 │
│ arn:aws:s3:::s3-bucket-001-test/test-image │
│ .jpg                                        │
│                                             │
│ Key: test-image.jpg                         │
│ Size: 2.3 MB                                │
│ Storage class: STANDARD                     │
│ Server-side encryption: SSE-S3              │
└─────────────────────────────────────────────┘

Properties (속성):
- Content-Type: image/jpeg
- ETag: "3f7a8b2c..."
- Version ID: null (버전 관리 비활성화됨)
```

**Step 3: Object URL 테스트 (실패 예정)**

```
Object URL 복사 → 브라우저 새 탭에 붙여넣기

결과:
┌─────────────────────────────────────────────┐
│ <Error>                                     │
│   <Code>AccessDenied</Code>                 │
│   <Message>Access Denied</Message>          │
│ </Error>                                    │
└─────────────────────────────────────────────┘

이유: 버킷이 Private로 설정되어 있음
→ 퍼블릭 액세스 차단 설정 때문
```

**Step 4: Presigned URL 생성 (임시 공유 링크)**

```
1. 객체 선택 (체크박스)
2. "Actions" → "Share with a presigned URL" 클릭
3. Time interval: 5 minutes (5분간 유효)
4. "Create presigned URL" 클릭
5. URL 복사 → 브라우저에서 열기

결과:
✅ 이미지가 정상적으로 표시됨

Presigned URL 예시:
https://s3-bucket-001-test.s3.ap-northeast-2.amazonaws.com/
test-image.jpg?
X-Amz-Algorithm=AWS4-HMAC-SHA256&
X-Amz-Credential=AKIAIOSFODNN7EXAMPLE...&
X-Amz-Date=20251203T063000Z&
X-Amz-Expires=300&
X-Amz-SignedHeaders=host&
X-Amz-Signature=...

5분 후 만료:
❌ Access Denied (링크 만료)
```

---

#### 🗑️ S3 실습 4: 버킷 삭제

**⚠️ 중요**: 버킷을 삭제하기 전에 반드시 버킷을 비워야 합니다!

**Step 1: 버킷 비우기**

```
1. S3 콘솔 → 버킷 선택 (체크박스)
2. "Empty" 버튼 클릭

3. 확인 메시지:
   ┌─────────────────────────────────────────────┐
   │ Empty bucket                                │
   │                                             │
   │ To confirm deletion, type:                  │
   │ permanently delete                          │
   │                                             │
   │ ┌─────────────────────────────────────┐    │
   │ │ permanently delete                  │    │ ← 입력
   │ └─────────────────────────────────────┘    │
   │                                             │
   │ [Cancel]  [Empty]                           │
   └─────────────────────────────────────────────┘

4. "Empty" 버튼 클릭

결과:
✅ Successfully emptied bucket: s3-bucket-001-test
   0 objects remaining
```

**Step 2: 버킷 삭제**

```
1. 빈 버킷 선택 (체크박스)
2. "Delete" 버튼 클릭

3. 확인 메시지:
   ┌─────────────────────────────────────────────┐
   │ Delete bucket                               │
   │                                             │
   │ To confirm deletion, type the bucket name:  │
   │ s3-bucket-001-test                          │
   │                                             │
   │ ┌─────────────────────────────────────┐    │
   │ │ s3-bucket-001-test                  │    │ ← 입력
   │ └─────────────────────────────────────┘    │
   │                                             │
   │ [Cancel]  [Delete bucket]                   │
   └─────────────────────────────────────────────┘

4. "Delete bucket" 버튼 클릭

결과:
✅ Successfully deleted bucket: s3-bucket-001-test
```

💡 **왜 이렇게 복잡하게 확인?**
```
실수로 중요한 버킷을 삭제하는 것을 방지
→ "permanently delete" 또는 버킷 이름 입력 요구
→ 신중하게 삭제하도록 유도
```

---

## 🔐 Section 6: IAM (Identity and Access Management) 상세 가이드

### 📚 IAM 개요

#### 🔍 IAM이란?

**IAM (Identity and Access Management)**은 AWS 리소스에 대한 **접근 권한을 안전하게 제어**하는 서비스입니다.

**IAM의 핵심 기능:**
```
1. 사용자 관리: 누가 AWS에 접속할 수 있는가?
2. 권한 관리: 무엇을 할 수 있는가?
3. 인증: 본인이 맞는가? (Authentication)
4. 인가: 권한이 있는가? (Authorization)
```

**IAM은 무료!**
```
IAM 사용에는 별도 비용이 없습니다.
→ 아무리 많은 사용자, 그룹, 역할을 만들어도 무료
→ 보안 강화에 비용 부담 없음
```

---

### 👤 Root 사용자 vs IAM 사용자

#### 🔴 Root 사용자

**정의:**

AWS 계정 생성 시 자동으로 만들어지는 **최상위 권한을 가진 사용자**입니다.

**Root 사용자의 특징:**

```
권한:
- 모든 AWS 서비스 및 리소스에 대한 완전한 제어
- 계정 설정 변경 (결제 정보, 계정 삭제 등)
- 지원 플랜 변경
- IAM 사용자 생성 및 관리

인증 방법:
- 이메일 주소
- 비밀번호
```

**Root 사용자만 할 수 있는 작업:**

1. **계정 설정 변경**
   ```
   - 계정 이메일 주소 변경
   - 계정 비밀번호 변경
   - MFA 디바이스 변경
   ```

2. **결제 및 비용 관리**
   ```
   - 결제 정보 (신용카드) 변경
   - 세금 정보 변경
   - AWS Organizations 설정
   ```

3. **계약 및 지원**
   ```
   - 지원 플랜 변경 (Basic → Developer → Business)
   - AWS 계정 해지
   ```

4. **특수 작업**
   ```
   - S3 버킷의 MFA Delete 활성화
   - CloudFront Key Pair 생성
   ```

**⚠️ Root 사용자 보안 원칙:**

```
❌ 일상적인 작업에 Root 사용자 사용 금지
❌ Root 사용자 Access Key 생성 금지
✅ Root 사용자는 초기 IAM 설정 후 잠금
✅ MFA (다중 인증) 반드시 활성화
✅ Root 비밀번호 강력하게 설정 (20자 이상 권장)
```

**Root 사용자 로그인 방법:**

```
AWS 콘솔 → Sign In
→ "Root user" 선택
→ Root user email address 입력
→ 비밀번호 입력
→ (MFA 활성화 시) MFA 코드 입력
```

---

#### 🔵 IAM 사용자

**정의:**

IAM 서비스에서 **운영자가 생성하는 사용자**로, 부여된 권한의 범위 내에서만 작업할 수 있습니다.

**IAM 사용자의 특징:**

```
권한:
- 관리자가 부여한 권한만 행사 가능
- 최소 권한 원칙 (Least Privilege) 적용

인증 방법:
- 12자리 계정 번호 (또는 계정 별칭)
- IAM 사용자 이름
- 비밀번호
```

**IAM 사용자 로그인 방법:**

```
AWS 콘솔 → Sign In
→ "IAM user" 선택
→ Account ID (12 digits) or account alias
  ┌─────────────────────┐
  │ 123456789012        │  ← 12자리 계정 번호 입력
  └─────────────────────┘
→ IAM user name
  ┌─────────────────────┐
  │ hong                │  ← IAM 사용자 이름 입력
  └─────────────────────┘
→ Password
  ┌─────────────────────┐
  │ ••••••••••••        │  ← 비밀번호 입력
  └─────────────────────┘
→ Sign in
```

**IAM 사용자 생성 절차:**

```
IAM 콘솔 → Users → Create user

1. User details (사용자 세부 정보)
   User name: hong
   ☑ Provide user access to the AWS Management Console

2. Console password (콘솔 비밀번호)
   ● Autogenerated password (자동 생성)
   ○ Custom password (사용자 지정)
   ☑ Users must create a new password at next sign-in

3. Set permissions (권한 설정)
   ● Add user to group (그룹에 추가)
   ○ Copy permissions (다른 사용자 권한 복사)
   ○ Attach policies directly (정책 직접 연결)

4. Review and create (검토 및 생성)
```

---

### 👥 IAM 그룹

**정의:**

IAM 그룹은 **IAM 사용자들의 집합**으로, 권한 관리를 편리하게 하기 위해 사용합니다.

**그룹의 장점:**

```
권한 상속:
그룹에 정책 연결 → 그룹 멤버 모두에게 권한 자동 상속

예시:
Developers 그룹 생성
→ EC2FullAccess 정책 연결
→ 그룹에 hong, kim, lee 추가
→ 세 사람 모두 EC2 전체 권한 획득
```

**그룹 생성 및 사용:**

```
IAM 콘솔 → User groups → Create group

1. Group name: Developers

2. Attach permissions policies:
   ☑ AmazonEC2FullAccess
   ☑ AmazonS3ReadOnlyAccess

3. Add users to group:
   ☑ hong
   ☑ kim
   ☑ lee

4. Create group

결과:
→ hong, kim, lee 모두
  - EC2 전체 권한
  - S3 읽기 전용 권한 획득
```

**그룹 구조 예시:**

```
AWS 계정
├── Administrators 그룹
│   ├── admin1 (사용자)
│   └── admin2 (사용자)
│   └── 정책: AdministratorAccess
│
├── Developers 그룹
│   ├── dev1 (사용자)
│   ├── dev2 (사용자)
│   └── dev3 (사용자)
│   └── 정책: EC2FullAccess, S3ReadOnlyAccess
│
└── Auditors 그룹
    ├── auditor1 (사용자)
    └── auditor2 (사용자)
    └── 정책: ViewOnlyAccess, CloudTrailReadOnlyAccess
```

**사용자는 여러 그룹에 속할 수 있음:**

```
사용자 "hong":
- Developers 그룹 멤버
- Administrators 그룹 멤버

결과:
→ Developers 그룹의 권한 상속
→ Administrators 그룹의 권한 상속
→ 두 그룹의 권한을 모두 갖게 됨
```

---

### 📜 IAM 정책 (Policy)

#### 🔍 정책이란?

**IAM 정책**은 **권한을 정의한 JSON 문서**입니다.

**정책의 구조:**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:ListBucket",
      "Resource": "arn:aws:s3:::example-bucket"
    }
  ]
}
```

**필수 요소:**

| **요소** | **설명** | **가능한 값** |
|:--------:|:--------:|:------------:|
| Version | 정책 언어 버전 | "2012-10-17" (고정) |
| Statement | 권한 명시 | [ {...}, {...} ] |
| Effect | 허용/거부 | "Allow" 또는 "Deny" |
| Action | 허용/거부할 작업 | "s3:GetObject", "ec2:*" 등 |
| Resource | 대상 리소스 | ARN 형식 |

**선택 요소:**

| **요소** | **설명** | **사용 시점** |
|:--------:|:--------:|:------------:|
| Principal | 대상 주체 | 리소스 기반 정책에서 필수 |
| Condition | 조건 | 특정 조건에서만 권한 부여 |

---

#### 📝 정책 예시

**예시 1: S3 읽기 전용 정책**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "ListBucket",
      "Effect": "Allow",
      "Action": "s3:ListBucket",
      "Resource": "arn:aws:s3:::my-bucket"
    },
    {
      "Sid": "GetObject",
      "Effect": "Allow",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::my-bucket/*"
    }
  ]
}
```

**해석:**
```
Statement 1:
- 버킷 목록 조회 허용
- 대상: my-bucket

Statement 2:
- 객체 다운로드 허용
- 대상: my-bucket의 모든 객체 (/*는 모든 객체를 의미)
```

**예시 2: EC2 특정 리전 제한**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "ec2:RunInstances",
        "ec2:StartInstances",
        "ec2:StopInstances",
        "ec2:RebootInstances"
      ],
      "Resource": "*",
      "Condition": {
        "StringEquals": {
          "ec2:Region": "ap-northeast-2"
        }
      }
    }
  ]
}
```

**해석:**
```
허용:
- EC2 인스턴스 실행, 시작, 중지, 재부팅

조건:
- ap-northeast-2 (서울) 리전에서만

→ 다른 리전에서는 이러한 작업 불가
```

---

#### 🏷️ 정책 유형

**1. AWS 관리형 정책 (AWS Managed Policy)**

```
특징:
- AWS가 미리 만들어 제공
- 일반적인 사용 사례에 맞게 설계
- AWS가 자동으로 업데이트

예시:
- AdministratorAccess: 모든 권한
- PowerUserAccess: IAM 제외 모든 권한
- ReadOnlyAccess: 읽기 전용
- AmazonEC2FullAccess: EC2 전체 권한
- AmazonS3ReadOnlyAccess: S3 읽기 전용
```

**AdministratorAccess 정책 내용:**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "*",
      "Resource": "*"
    }
  ]
}
```

**해석:**
```
모든 서비스(*) 의 모든 작업(*) 을 모든 리소스(*) 에 대해 허용
→ Root 사용자와 동일한 권한 (단, 계정 설정 변경 제외)
```

**2. 고객 관리형 정책 (Customer Managed Policy)**

```
특징:
- 고객이 직접 생성
- 세밀한 권한 제어 가능
- 여러 사용자/그룹/역할에 재사용 가능

사용 시점:
- AWS 관리형 정책이 요구사항에 맞지 않을 때
- 매우 구체적인 권한 설정이 필요할 때
```

**예시: 특정 S3 버킷에 대한 전체 권한**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:*",
      "Resource": [
        "arn:aws:s3:::my-app-bucket",
        "arn:aws:s3:::my-app-bucket/*"
      ]
    }
  ]
}
```

**3. 인라인 정책 (Inline Policy)**

```
특징:
- 특정 사용자/그룹/역할에 직접 연결
- 1:1 관계
- 재사용 불가

사용 시점:
- 특정 사용자에게만 필요한 고유한 권한
- 일회성 권한
```

**인라인 정책 생성:**

```
IAM 콘솔 → Users → 사용자 선택 → Permissions 탭
→ Add inline policy

→ JSON 에디터에서 정책 작성
→ Policy name: unique-policy-for-hong
→ Create policy

결과:
→ 이 정책은 hong 사용자에게만 연결
→ 다른 사용자는 사용 불가
```

---

### 🎭 자격증명 기반 정책 vs 리소스 기반 정책

#### 🔵 자격증명 기반 정책 (Identity-based Policy)

**정의:**

IAM **사용자, 그룹, 역할에 연결**되는 정책입니다.

**특징:**

```
대상: IAM Identity (사용자, 그룹, 역할)
Principal 명시: 불필요 (정책이 연결된 Identity가 대상)
```

**예시:**

```
사용자 "hong"에게 연결된 정책:

{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:ListBucket",
      "Resource": "*"
    }
  ]
}

해석:
→ hong 사용자는 모든 S3 버킷 목록 조회 가능
→ Principal 없음 (hong에게 연결되었으므로 hong이 주체)
```

---

#### 🔴 리소스 기반 정책 (Resource-based Policy)

**정의:**

AWS **리소스에 직접 연결**되는 정책입니다.

**특징:**

```
대상: AWS Resource (S3 버킷, SQS 큐 등)
Principal 명시: 필수! (누가 접근할 수 있는지 명시)
```

**예시: S3 버킷 정책**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "AllowHongToPutObject",
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::123456789012:user/hong"
      },
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::my-bucket/*"
    }
  ]
}
```

**해석:**
```
Principal:
→ hong 사용자 (arn:aws:iam::123456789012:user/hong)

Action:
→ s3:PutObject (객체 업로드)

Resource:
→ my-bucket의 모든 객체 (/*는 모든 객체)

결론:
→ hong 사용자는 my-bucket에 파일 업로드 가능
```

**Principal 작성 방법:**

```json
// AWS 계정
"Principal": {
  "AWS": "arn:aws:iam::123456789012:root"
}

// IAM 사용자
"Principal": {
  "AWS": "arn:aws:iam::123456789012:user/hong"
}

// IAM 역할
"Principal": {
  "AWS": "arn:aws:iam::123456789012:role/MyRole"
}

// AWS 서비스
"Principal": {
  "Service": "lambda.amazonaws.com"
}

// 모든 사용자 (퍼블릭)
"Principal": "*"
```

---

### ⚖️ 정책 평가 우선순위

**정책 충돌 시 우선순위:**

```
1위: 명시적 거부 (Explicit Deny)
     → Effect: "Deny"가 있으면 무조건 거부

2위: 명시적 허용 (Explicit Allow)
     → Effect: "Allow"가 있으면 허용

3위: 묵시적 거부 (Implicit Deny)
     → 허용도 거부도 없으면 기본적으로 거부
```

**시나리오 1: 명시적 거부 우선**

```
자격증명 기반 정책 (사용자 hong에 연결):
{
  "Effect": "Allow",
  "Action": "s3:*",
  "Resource": "*"
}
→ 모든 S3 작업 허용

리소스 기반 정책 (S3 버킷 정책):
{
  "Effect": "Deny",
  "Principal": {"AWS": "arn:aws:iam::123456789012:user/hong"},
  "Action": "s3:DeleteObject",
  "Resource": "arn:aws:s3:::my-bucket/*"
}
→ 삭제 작업 거부

결과:
→ hong은 S3에 대한 모든 작업 가능
→ 단, my-bucket의 객체 삭제는 불가 (Deny가 우선)
```

**시나리오 2: 명시적 허용**

```
자격증명 기반 정책 (사용자 kim에 연결):
{
  "Effect": "Allow",
  "Action": "s3:GetObject",
  "Resource": "arn:aws:s3:::public-bucket/*"
}
→ public-bucket 객체 다운로드 허용

리소스 기반 정책 (S3 버킷 정책):
(정책 없음)

결과:
→ kim은 public-bucket에서 객체 다운로드 가능
→ 명시적 허용이 있으므로 허용
```

**시나리오 3: 묵시적 거부**

```
자격증명 기반 정책 (사용자 lee에 연결):
(정책 없음)

리소스 기반 정책 (S3 버킷 정책):
(정책 없음)

결과:
→ lee는 S3에 대한 어떤 작업도 불가
→ 허용이 없으므로 기본적으로 거부 (묵시적 거부)
```

---

## ✅ Section 7: 종합 정리 및 학습 체크리스트

### 📚 전체 강의 핵심 요약

#### 🌍 1. AWS 글로벌 인프라

```
✅ 리전: 지리적으로 분리된 데이터 센터 집합 (37개)
✅ 가용 영역 (AZ): 리전 내 독립적인 데이터 센터 (117개)
✅ 엣지 로케이션: 콘텐츠 전송 가속화 (700+개)
✅ 멀티 AZ 배포: 고가용성의 핵심 (최소 2개 AZ 권장)
```

#### 💰 2. 요금 및 장점

```
✅ 종량제: 사용한 만큼만 지불
✅ 초기 투자 비용 없음: CapEx → OpEx 전환
✅ 유연한 확장: 클릭 몇 번으로 즉시 확장/축소
✅ 글로벌 배포: 전 세계 어디서든 30분 내 배포 가능
```

#### 🏛️ 3. Well-Architected Framework

```
✅ 6가지 원칙:
  1. 운영 우수성: 자동화, 작은 변경
  2. 보안: 최소 권한, 암호화
  3. 안정성: 멀티 AZ, 자동 복구
  4. 성능 효율성: 관리형 서비스, 서버리스
  5. 비용 최적화: 적정 크기, Reserved Instance
  6. 지속 가능성: 효율적인 리소스 사용
```

#### 🔐 4. IAM

```
✅ Root 사용자: 최상위 권한, 일상 작업에 사용 금지
✅ IAM 사용자: 개별 사용자, 최소 권한 부여
✅ IAM 그룹: 권한 상속으로 관리 편의성 증가
✅ IAM 정책: JSON 형식, Effect/Action/Resource 필수
✅ 정책 평가: 명시적 거부 > 명시적 허용 > 묵시적 거부
```

---

### 📝 최종 학습 체크리스트

#### 🌍 AWS 인프라 이해

```
[ ] 리전과 가용 영역의 차이를 설명할 수 있다
[ ] 엣지 로케이션의 역할을 이해했다
[ ] 멀티 AZ 배포의 중요성을 안다
[ ] 서울 리전의 특징을 안다
[ ] CloudFront의 작동 원리를 이해했다
```

#### 💰 비용 및 장점

```
[ ] 종량제 요금 모델을 설명할 수 있다
[ ] EC2 Running vs Stopped 비용 차이를 안다
[ ] 클라우드 컴퓨팅의 6가지 장점을 나열할 수 있다
[ ] 규모의 경제를 이해했다
```

#### 🏛️ Well-Architected Framework

```
[ ] 6가지 설계 원칙을 설명할 수 있다
[ ] Well-Architected Tool의 용도를 안다
[ ] 각 원칙의 주요 모범 사례를 이해했다
```

#### 🗂️ AWS 서비스

```
[ ] 관리형 vs 비관리형 서비스의 차이를 안다
[ ] S3 버킷을 생성할 수 있다
[ ] S3에 객체를 업로드할 수 있다
[ ] S3 버킷을 삭제할 수 있다
[ ] Presigned URL의 용도를 안다
```

#### 🔐 IAM

```
[ ] Root 사용자와 IAM 사용자의 차이를 안다
[ ] IAM 그룹의 장점을 설명할 수 있다
[ ] IAM 정책의 구조를 이해했다
[ ] 자격증명 기반 정책과 리소스 기반 정책의 차이를 안다
[ ] 정책 평가 우선순위를 설명할 수 있다
[ ] 최소 권한 원칙을 이해했다
```

---

### 🎯 다음 단계

**추가 학습 권장 사항:**

1. **VPC (Virtual Private Cloud)**
   ```
   네트워크 설계, 서브넷, 라우팅, 보안 그룹
   → 안전한 네트워크 환경 구성
   ```

2. **RDS (Relational Database Service)**
   ```
   관리형 데이터베이스, Multi-AZ, Read Replica
   → 고가용성 DB 구축
   ```

3. **Lambda & API Gateway**
   ```
   서버리스 아키텍처, 이벤트 기반 처리
   → 비용 효율적인 백엔드 구축
   ```

4. **CloudFormation**
   ```
   Infrastructure as Code (IaC)
   → 인프라 자동화 및 버전 관리
   ```

5. **AWS 인증 시험 준비**
   ```
   AWS Certified Cloud Practitioner (CLF-C02)
   → 클라우드 기본 지식 검증
   ```

---

### 🚀 실전 프로젝트 아이디어

**프로젝트 1: 정적 웹사이트 호스팅**
```
S3 + CloudFront + Route 53
→ 빠르고 저렴한 웹사이트 구축
```

**프로젝트 2: 고가용성 웹 애플리케이션**
```
Multi-AZ EC2 + ELB + RDS Multi-AZ
→ 99.99% 가용성 달성
```

**프로젝트 3: 서버리스 API**
```
API Gateway + Lambda + DynamoDB
→ 서버 관리 없는 백엔드
```

**프로젝트 4: 데이터 분석 파이프라인**
```
S3 + Lambda + Athena + QuickSight
→ 빅데이터 분석 플랫폼
```

---

### 📞 추가 도움 및 리소스

**AWS 공식 문서:**
- https://docs.aws.amazon.com/
- https://aws.amazon.com/ko/getting-started/

**AWS Well-Architected:**
- https://aws.amazon.com/architecture/well-architected/

**AWS 무료 교육:**
- https://aws.amazon.com/training/digital/

**AWS 커뮤니티:**
- AWS re:Invent 영상
- AWS 한국 블로그
- AWS 유저 그룹

---

## 🎓 마무리

오늘 강의를 통해 **AWS 클라우드 컴퓨팅의 기초부터 IAM을 활용한 보안 관리**까지 폭넓은 내용을 학습했습니다.

**핵심 포인트:**
1. **글로벌 인프라 이해**: 리전과 AZ를 활용한 고가용성 설계
2. **비용 효율성**: 종량제로 초기 투자 부담 없이 시작
3. **모범 사례**: Well-Architected Framework 준수
4. **보안**: IAM으로 최소 권한 원칙 적용

이러한 기본기를 바탕으로 더 복잡한 AWS 서비스와 아키텍처를 학습해 나가시기 바랍니다!

**수고하셨습니다! 🎉**

---
